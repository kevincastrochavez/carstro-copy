/*! For license information please see main.c767e6a6.js.LICENSE.txt */
!function(){var e={3361:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function u(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function h(e,t,n){return e.slice(t,n)}function f(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,g=0,y=0,b=0,_="";function w(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:v,column:m,length:a,return:""}}function x(e,t){return a(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=y>0?l(_,--y):0,m--,10===b&&(m=1,v--),b}function E(){return b=y<g?l(_,y++):0,m++,10===b&&(m=1,v++),b}function k(){return l(_,y)}function C(){return y}function T(e,t){return h(_,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(e){return v=m=1,g=f(_=e),y=0,[]}function P(e){return _="",e}function A(e){return s(T(y-1,M(91===e?e+2:40===e?e+1:e)))}function R(e){for(;(b=k())&&b<33;)E();return I(e)>2||I(b)>3?"":" "}function O(e,t){for(;--t&&E()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,C()+(t<6&&32==k()&&32==E()))}function M(e){for(;E();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&M(b);break;case 40:41===e&&M(e);break;case 92:E()}return y}function D(e,t){for(;E()&&e+b!==57&&(e+b!==84||47!==k()););return"/*"+T(t,y-1)+"*"+o(47===e?e:E())}function L(e){for(;!I(k());)E();return T(e,y)}var j="-ms-",F="-moz-",U="-webkit-",V="comm",B="rule",z="decl",q="@keyframes";function Z(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@import":case z:return e.return=e.return||e.value;case V:return"";case q:return e.return=e.value+"{"+Z(e.children,r)+"}";case B:e.value=e.props.join(",")}return f(n=Z(e.children,r))?e.return=e.value+"{"+n+"}":""}function W(e){return P(K("",null,null,null,[""],e=N(e),0,[0],e))}function K(e,t,n,r,i,a,s,h,d){for(var v=0,m=0,g=s,y=0,b=0,_=0,w=1,x=1,T=1,I=0,N="",P=i,M=a,j=r,F=N;x;)switch(_=I,I=E()){case 40:if(108!=_&&58==l(F,g-1)){-1!=c(F+=u(A(I),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:F+=A(I);break;case 9:case 10:case 13:case 32:F+=R(_);break;case 92:F+=O(C()-1,7);continue;case 47:switch(k()){case 42:case 47:p($(D(E(),C()),t,n),d);break;default:F+="/"}break;case 123*w:h[v++]=f(F)*T;case 125*w:case 59:case 0:switch(I){case 0:case 125:x=0;case 59+m:b>0&&f(F)-g&&p(b>32?Q(F+";",r,n,g-1):Q(u(F," ","")+";",r,n,g-2),d);break;case 59:F+=";";default:if(p(j=G(F,t,n,v,m,i,h,N,P=[],M=[],g),a),123===I)if(0===m)K(F,t,j,j,P,a,g,h,M);else switch(99===y&&110===l(F,3)?100:y){case 100:case 109:case 115:K(e,j,j,r&&p(G(e,j,j,0,0,i,h,N,i,P=[],g),M),i,M,g,h,r?P:M);break;default:K(F,j,j,j,[""],M,0,h,M)}}v=m=b=0,w=T=1,N=F="",g=s;break;case 58:g=1+f(F),b=_;default:if(w<1)if(123==I)--w;else if(125==I&&0==w++&&125==S())continue;switch(F+=o(I),I*w){case 38:T=m>0?1:(F+="\f",-1);break;case 44:h[v++]=(f(F)-1)*T,T=1;break;case 64:45===k()&&(F+=A(E())),y=k(),m=g=f(N=F+=L(C())),I++;break;case 45:45===_&&2==f(F)&&(w=0)}}return a}function G(e,t,n,r,o,a,c,l,f,p,v){for(var m=o-1,g=0===o?a:[""],y=d(g),b=0,_=0,x=0;b<r;++b)for(var S=0,E=h(e,m+1,m=i(_=c[b])),k=e;S<y;++S)(k=s(_>0?g[S]+" "+E:u(E,/&\f/g,g[S])))&&(f[x++]=k);return w(e,t,n,0===o?B:l,f,p,v)}function $(e,t,n){return w(e,t,n,V,o(b),h(e,2,-2),0)}function Q(e,t,n,r){return w(e,t,n,z,h(e,0,r),h(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=k(),38===r&&12===i&&(t[n]=1),!I(i);)E();return T(e,y)},X=function(e,t){return P(function(e,t){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=Y(y-1,t,n);break;case 2:e[n]+=A(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=E());return e}(N(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],o=X(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^l(e,0)?(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+F+e+j+e+e;case 6828:case 4268:return U+e+j+e+e;case 6165:return U+e+j+"flex-"+e+e;case 5187:return U+e+u(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return U+e+j+"flex-item-"+u(e,/flex-|-self/,"")+e;case 4675:return U+e+j+"flex-line-pack"+u(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+j+u(e,"shrink","negative")+e;case 5292:return U+e+j+u(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+u(e,"-grow","")+U+e+j+u(e,"grow","positive")+e;case 4554:return U+u(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return u(u(u(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return u(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return u(u(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return u(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(f(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return u(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(u(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,f(e)-3-(~c(e,"!important")&&10))){case 107:return u(e,":",":-webkit-")+e;case 101:return u(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===l(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return U+e+j+u(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+j+u(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+j+u(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+j+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=ne(e.value,e.length);break;case q:return Z([x(e,{value:u(e.value,"@","@-webkit-")})],r);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Z([x(e,{props:[u(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Z([x(e,{props:[u(t,/:(plac\w+)/,":-webkit-input-$1")]}),x(e,{props:[u(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[u(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,a,s={},u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;u.push(e)}));var c,l,h=[H,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],f=function(e){var t=d(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([ee,te].concat(i,h));a=function(e,t,n,r){c=n,Z(W(e?e+"{"+t.styles+"}":t.styles),f),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(u),p}},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},9140:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(9797),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,o.Z)((function(e){return u(e)?e:e.replace(a,"-$&").toLowerCase()})),h=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||u(e)||"number"!==typeof t||0===t?t:t+"px"};function f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":c(a)&&(r+=l(o)+":"+h(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=f(e,t,a);switch(o){case"animation":case"animationName":r+=l(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)c(a[u])&&(r+=l(o)+":"+h(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,o=n(e);return d=i,f(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";d=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=f(n,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=f(n,t,e[s]),i&&(o+=a[s]);p.lastIndex=0;for(var u,c="";null!==(u=p.exec(o));)c+="-"+u[1];return{name:r(o)+c,styles:o,next:d}}},2561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return a}});var i=n(2791),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,a=o||function(e){return e()};o||i.useLayoutEffect},8446:function(e,t,n){"use strict";var r=n(5637),i=n(826),o=n(9388),a=n(9971),s=n(9386);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function m(e){return d.get(e)||p}function g(e,t){d.set(e,t)}function y(){return v}var b="https://content-firebaseappcheck.googleapis.com/v1beta",_=3e4,w=96e4,x=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function S(){return self.grecaptcha}function E(e){if(!m(e).activated)throw f.create("use-before-activation",{appName:e.name})}function k(e){return a.base64.encodeString(JSON.stringify(e),!1)}function C(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,h,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function T(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function I(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var N="firebase-app-check-store",P="debug-token",A=null;function R(){return A||(A=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(N,{keyPath:"compositeKey"})}}catch(r){t(f.create("storage-open",{originalErrorMessage:r.message}))}})),A)}function O(e){return D(L(e))}function M(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,R()];case 1:return n=o.sent(),r=n.transaction(N,"readwrite"),i=r.objectStore(N),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function D(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,R()];case 1:return t=o.sent(),n=t.transaction(N,"readonly"),r=n.objectStore(N),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return e.options.appId+"-"+e.name}var j=new s.Logger("@firebase/app-check");function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return M(L(e),t)}(e,t).catch((function(e){j.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,D(P)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,M(P,r)).catch((function(e){return j.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function V(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var B={error:"UNKNOWN_ERROR"};function z(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,h,f,d;return o.__generator(this,(function(p){switch(p.label){case 0:return E(e),r=m(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&W(s)&&(i=s,g(e,o.__assign(o.__assign({},r),{token:i})),H(e,{token:i.token})),p.label=2;case 2:return!n&&i&&W(i)?[2,{token:i.token}]:y().enabled?(c=C,l=I,h=[e],[4,V()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,h.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,F(e,u)];case 5:return p.sent(),g(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return f=p.sent(),j.error(f),a=f,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:k(B),error:e}}(a),[3,12]);case 10:return d={token:i.token},g(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 11:p.sent(),p.label=12;case 12:return H(e,d),[2,d]}}))}))}function q(e,t,n,r,i){var a=m(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new x((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return m(e).token?[3,2]:[4,z(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,z(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=m(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),_,w)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&W(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&W(e)&&r({token:e.token})})).catch((function(){}));g(e,u)}function Z(e,t){var n=m(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),g(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function H(e,t){for(var n=0,r=m(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function W(e){return e.expireTimeMillis-Date.now()>0}var K="https://www.google.com/recaptcha/api.js";function G(e,t){var n=m(e),r=new a.Deferred;g(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=S();return u?u.ready((function(){Q(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+K,t.onload=e,document.head.appendChild(t)}((function(){var n=S();if(!n)throw new Error("no recaptcha");n.ready((function(){Q(e,t,n,i),r.resolve(n)}))})),r.promise}function $(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return E(e),[4,m(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=m(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function Q(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=m(e);g(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var Y=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw f.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,$(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),f.create("recaptcha-error");case 4:return[2,C(T(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,G(e,this._siteKey).catch((function(){}))},e}(),X=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw f.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function J(e,t,n,r){var i=m(e);if(i.activated)throw f.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,O(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),j.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&W(t)&&g(e,o.__assign(o.__assign({},m(e)),{token:t})),t})),s.provider="string"===typeof t?new Y(t):t instanceof Y||t instanceof X?t:new X({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,g(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return J(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=m(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),g(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,z(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),q(e,t,"EXTERNAL",o,a),function(){return Z(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++){var r=n[t];Z(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:Y,CustomProvider:X}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return z(e,t,n)},addTokenListener:function(n){return q(e,t,"INTERNAL",n)},removeTokenListener:function(t){return Z(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},5637:function(e,t,n){"use strict";n.r(t),n.d(t,{firebase:function(){return _}});var r,i,o=n(9388),a=n(9971),s=n(826),u=n(9386),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _=m;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion(h,"0.6.30",t),e.registerVersion("fire-js","")}(_),t.default=_},826:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o},ComponentContainer:function(){return u},Provider:function(){return s}});var r=n(9388),i=n(9971),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(f){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},6895:function(e,t,n){"use strict";var r=n(5637),i=n(826),o=n(9971),a=n(9388),s=n(9386);e=n.hmd(e);var u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new s.Logger("@firebase/database"),m=function(){var e=1;return function(){return e++}}(),g=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},b=null,_=!0,w=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.LogLevel.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=y.apply(null,e);b(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));v.error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw v.error(n),new Error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));v.warn(n)},T=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",N="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===I||t===N)return-1;if(t===I||e===N)return 1;var n=V(e),r=V(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},A=function(e,t){return e===t?0:e<t?-1:1},R=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},O=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},M=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function D(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){(0,o.assert)(!T(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var j=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,U=2147483647,V=function(e){if(j.test(e)){var t=Number(e);if(t>=F&&t<=U)return t}return null},B=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw C("Exception was thrown by user callback.",e),t}),Math.floor(0))}},z=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},q=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){C('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),Z=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',C(e)},e}(),H=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),W="5",K=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G="websocket",$="long_polling",Q=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Y(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===G)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==$)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return D(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var X=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),J={},ee={};function te(e){var t=e.toString();return J[t]||(J[t]=new X),J[t]}var ne=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&B((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),re="start",ie="close",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=te(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Y(t,$,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===re)n.id=o,n.password=s;else{if(i!==ie)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=W,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){x("frame writing exception"),u.stack&&x(u.stack),x(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=te(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=W,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Y(e,G,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=M(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=R("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?E("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),W!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),he=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(fe),pe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ve(){return new pe("")}function me(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ge(e){return e.pieces_.length-e.pieceNum_}function ye(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function be(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _e(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function xe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function Se(e){return e.pieceNum_>=e.pieces_.length}function Ee(e,t){var n=me(e),r=me(t);if(null===n)return t;if(n===r)return Ee(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ke(e,t){for(var n=_e(e,0),r=_e(t,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ce(e,t){if(ge(e)!==ge(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Te(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ge(e)>ge(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ie=function(e,t){this.errorPrefix_=t,this.parts_=_e(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Ne(this)};function Ne(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Pe(e))}function Pe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ae,Re,Oe=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(fe),Me=1e3,De=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=S("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Me,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Oe.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",h.onOnline_,h),h}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();C("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):E("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Me),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,v,m,g=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],v=d[1],u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){C(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),s)),[3,4];case 3:return m=y.sent(),this.log_("Failed to get token: "+m),u||(this.repoInfo_.nodeAdmin&&C(m),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return O(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new pe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(he),Le=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),je=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Le(I,e),r=new Le(I,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Le.MIN},e}(),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ae},set:function(e){Ae=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(N,Ae)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Le(e,Ae)},t.prototype.toString=function(){return".key"},t}(je),Ue=new Fe,Ve=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Be=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:qe.EMPTY_NODE,this.right=null!=o?o:qe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return qe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return qe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),ze=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Be(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),qe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Be.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Be.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ve(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ve(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new ze,e}();function Ze(e,t){return P(e.name,t.name)}function He(e,t){return P(e,t)}var We,Ke,Ge,$e=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},Qe=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Re||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Re||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ye=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Qe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return We},set:function(e){We=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Se(t)?this:".priority"===me(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=me(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===ge(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+$e(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Xe,Je,et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(N,new Ye("[PRIORITY-POST]",Ge))},t.prototype.makePost=function(e,t){var n=Ke(e);return new Le(t,new Ye("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(je),tt=new et,nt=Math.log(2),rt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/nt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),it=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Be(a,o.node,Be.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Be(a,o.node,Be.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Be(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Be.BLACK):(s(h,Be.BLACK),s(h,Be.RED))}return o}(new rt(e.length));return new qe(r||t,o)},ot={},at=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(ot&&tt,"ChildrenNode.ts has not been loaded"),Xe=Xe||new e({".priority":ot},{".priority":tt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof qe?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Le.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?it(i,t.getCompare()):ot;var l=t.toString(),h=(0,a.__assign)({},this.indexSet_);h[l]=t;var f=(0,a.__assign)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===ot){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Le.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),it(s,a.getCompare())}return ot}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Le(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===ot)return e;var r=n.get(t.name);return r?e.remove(new Le(t.name,r)):e})),this.indexSet_)},e}(),st=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qe(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Je||(Je=new e(new qe(He),null,at.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Je},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Je:t},e.prototype.getChild=function(e){var t=me(e);return null===t?this:this.getImmediateChild(t).getChild(ye(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Le(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Je:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=me(e);if(null===n)return t;(0,o.assert)(".priority"!==me(e)||1===ge(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ye(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(tt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+$e(this.getPriority().val())+":"),this.forEachChild(tt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Le(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ut?-1:0},e.prototype.withIndex=function(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ue||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(tt),r=t.getIterator(tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ue?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ut=new(function(e){function t(){return e.call(this,new qe(He),st.EMPTY_NODE,at.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return st.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(st));Object.defineProperties(Le,{MIN:{value:new Le(I,st.EMPTY_NODE)},MAX:{value:new Le(N,ut)}}),Fe.__EMPTY_NODE=st.EMPTY_NODE,Ye.__childrenNodeConstructor=st,Re=ut,function(e){Ge=e}(ut);function ct(e,t){if(void 0===t&&(t=null),null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Ye(e,ct(t));if(e instanceof Array){var n=st.EMPTY_NODE;return D(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=ct(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ct(t))}var r=[],i=!1;if(D(e,(function(e,t){if("."!==e.substring(0,1)){var n=ct(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Le(e,n)))}})),0===r.length)return st.EMPTY_NODE;var a=it(r,Ze,(function(e){return e.name}),He);if(i){var s=it(r,tt.getCompare());return new st(a,ct(t),new at({".priority":s},{".priority":tt}))}return new st(a,ct(t),at.Default)}!function(e){Ke=e}(ct);var lt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Se(t)&&".priority"!==me(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ct(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Le(t,r)},t.prototype.maxPost=function(){var e=st.EMPTY_NODE.updateChild(this.indexPath_,ut);return new Le(N,e)},t.prototype.toString=function(){return _e(this.indexPath_,0).join("/")},t}(je),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return Le.MAX},t.prototype.makePost=function(e,t){var n=ct(e);return new Le(t,n)},t.prototype.toString=function(){return".value"},t}(je),ft=new ht,dt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=dt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=dt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),vt=function(e){if("2147483647"===e)return"-";var t=V(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return N;var o=n[i],a=dt.charAt(dt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},mt=function(e){if("-2147483648"===e)return I;var t=V(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=dt.charAt(dt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function gt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _t(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var wt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bt(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(yt(t,n)):a.trackChildChange(_t(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(tt,(function(e,r){t.hasChild(e)||n.trackChildChange(bt(e,r))})),t.isLeafNode()||t.forEachChild(tt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_t(t,r,i))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),xt=function(){function e(t){this.indexedFilter_=new wt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Le(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);var i=this;return t.forEachChild(tt,(function(e,t){i.matches(new Le(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),St=function(){function e(e){this.rangedFilter_=new xt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Le(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=st.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(st.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Le(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_t(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bt(t,f));var v=u.updateImmediateChild(t,st.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(yt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(bt(l.name,l.node)),i.trackChildChange(yt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,st.EMPTY_NODE)):e},e}(),Et=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===tt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function kt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ct(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Tt(e,t){var n=e.copy();return n.index_=t,n}function It(e){var t,n={};return e.isDefault()||(e.index_===tt?t="$priority":e.index_===ft?t="$value":e.index_===Ue?t="$key":((0,o.assert)(e.index_ instanceof lt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Nt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}var Pt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=S("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=It(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=It(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.jsonEval)(h.responseText)}catch(t){C("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&C("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(he),At=function(){function e(){this.rootNode_=st.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Rt(){return{value:null,children:new Map}}function Ot(e,t,n){if(Se(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=me(t);e.children.has(r)||e.children.set(r,Rt()),Ot(e.children.get(r),t=ye(t),n)}}function Mt(e,t){if(Se(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(tt,(function(t,n){Ot(e,new pe(t),n)})),Mt(e,t)}if(e.children.size>0){var r=me(t);if(t=ye(t),e.children.has(r))Mt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Dt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Dt(r,new pe(t.toString()+"/"+e),n)}))}var Lt,jt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&D(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ft=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new jt(e);var n=1e4+2e4*Math.random();z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;D(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Lt||(Lt={}));var Vt,Bt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Lt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Se(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new pe(t));return new e(ve(),n,this.revert)}return(0,o.assert)(me(this.path)===t,"operationForChild called for unrelated child."),new e(ye(this.path),this.affectedTree,this.revert)},e}(),zt=function(){function e(e,t){this.source=e,this.path=t,this.type=Lt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ve()):new e(this.source,ye(this.path))},e}(),qt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Lt.OVERWRITE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ve(),this.snap.getImmediateChild(t)):new e(this.source,ye(this.path),this.snap)},e}(),Zt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Lt.MERGE}return e.prototype.operationForChild=function(t){if(Se(this.path)){var n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new qt(this.source,ve(),n.value):new e(this.source,ve(),n)}return(0,o.assert)(me(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ye(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Ht=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;var t=me(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Wt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Kt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Le(t.childName,t.snapshotNode),i=new Le(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Gt(e,t){return{eventCache:e,serverCache:t}}function $t(e,t,n,r){return Gt(new Ht(t,n,r),e.serverCache)}function Qt(e,t,n,r){return Gt(e.eventCache,new Ht(t,n,r))}function Yt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Jt=function(){function e(e,t){void 0===t&&(Vt||(Vt=new qe(A)),t=Vt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return D(t,(function(e,t){n=n.set(new pe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(Se(e))return null;var n=me(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ye(e),t);return null!=i?{path:xe(new pe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Se(t))return this;var n=me(t),r=this.children.get(n);return null!==r?r.subtree(ye(t)):new e(null)},e.prototype.set=function(t,n){if(Se(t))return new e(n,this.children);var r=me(t),i=(this.children.get(r)||new e(null)).set(ye(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Se(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=me(t),r=this.children.get(n);if(r){var i=r.remove(ye(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Se(e))return this.value;var t=me(e),n=this.children.get(t);return n?n.get(ye(e)):null},e.prototype.setTree=function(t,n){if(Se(t))return n;var r=me(t),i=(this.children.get(r)||new e(null)).setTree(ye(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ve(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(xe(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ve(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Se(e))return null;var i=me(e),o=this.children.get(i);return o?o.findOnPath_(ye(e),xe(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ve(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Se(t))return this;this.value&&r(n,this.value);var i=me(t),o=this.children.get(i);return o?o.foreachOnPath_(ye(t),xe(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ve(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(xe(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),en=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Jt(null))},e}();function tn(e,t,n){if(Se(t))return new en(new Jt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Ee(i,t);return o=o.updateChild(a,n),new en(e.writeTree_.set(i,o))}var s=new Jt(n),u=e.writeTree_.setTree(t,s);return new en(u)}function nn(e,t,n){var r=e;return D(n,(function(e,n){r=tn(r,xe(t,e),n)})),r}function rn(e,t){if(Se(t))return en.empty();var n=e.writeTree_.setTree(t,new Jt(null));return new en(n)}function on(e,t){return null!=an(e,t)}function an(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ee(n.path,t)):null}function sn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tt,(function(e,n){t.push(new Le(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Le(e,n.value))})),t}function un(e,t){if(Se(t))return e;var n=an(e,t);return new en(null!=n?new Jt(n):e.writeTree_.subtree(t))}function cn(e){return e.writeTree_.isEmpty()}function ln(e,t){return hn(ve(),e.writeTree_,t)}function hn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hn(xe(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(xe(e,".priority"),r)),n}function fn(e,t){return kn(t,e)}function dn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&pn(u,r.path)?i=!1:Te(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=mn(e.allWrites,vn,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=rn(e.visibleWrites,r.path):D(r.children,(function(t){e.visibleWrites=rn(e.visibleWrites,xe(r.path,t))}));return!0}return!1}function pn(e,t){if(e.snap)return Te(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Te(xe(e.path,n),t))return!0;return!1}function vn(e){return e.visible}function mn(e,t,n){for(var r=en.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Te(n,s)?r=tn(r,u=Ee(n,s),a.snap):Te(s,n)&&(u=Ee(s,n),r=tn(r,ve(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Te(n,s))r=nn(r,u=Ee(n,s),a.children);else if(Te(s,n))if(Se(u=Ee(s,n)))r=nn(r,ve(),a.children);else{var c=(0,o.safeGet)(a.children,me(u));if(c){var l=c.getChild(ye(u));r=tn(r,ve(),l)}}}}}return r}function gn(e,t,n,r,i){if(r||i){var o=un(e.visibleWrites,t);if(!i&&cn(o))return n;if(i||null!=n||on(o,ve())){return ln(mn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Te(e.path,t)||Te(t,e.path))}),t),n||st.EMPTY_NODE)}return null}var a=an(e.visibleWrites,t);if(null!=a)return a;var s=un(e.visibleWrites,t);return cn(s)?n:null!=n||on(s,ve())?ln(s,n||st.EMPTY_NODE):null}function yn(e,t,n,r){return gn(e.writeTree,e.treePath,t,n,r)}function bn(e,t){return function(e,t,n){var r=st.EMPTY_NODE,i=an(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=un(e.visibleWrites,t);return n.forEachChild(tt,(function(e,t){var n=ln(un(o,new pe(e)),t);r=r.updateImmediateChild(e,n)})),sn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sn(un(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _n(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=xe(t,n);if(on(e.visibleWrites,a))return null;var s=un(e.visibleWrites,a);return cn(s)?i.getChild(n):ln(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t){return an(e.visibleWrites,t)}(e.writeTree,xe(e.treePath,t))}function xn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=un(e.visibleWrites,t),c=an(u,ve());if(null!=c)s=c;else{if(null==n)return[];s=ln(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Sn(e,t,n){return function(e,t,n,r){var i=xe(t,n),o=an(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ln(un(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function En(e,t){return kn(xe(e.treePath,t),e.writeTree)}function kn(e,t){return{treePath:e,writeTree:t}}var Cn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_t(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_t(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Tn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),In=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Ht(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xt(this.viewCache_),i=xn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Nn(e,t,n,r,i){var a,s,u=new Cn;if(n.type===Lt.OVERWRITE){var c=n;c.source.fromUser?a=Rn(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Se(c.path),a=An(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Lt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=xe(n,r);On(t,me(c))&&(s=Rn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=xe(n,r);On(t,me(c))||(s=Rn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Dn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Lt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=wn(r,n))return t;var u=new In(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Se(n)||".priority"===me(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=yn(r,Xt(t));else{var f=t.serverCache.getNode();(0,o.assert)(f instanceof st,"serverChildren would be complete if leaf node"),h=bn(r,f)}l=e.filter.updateFullNode(c,h,a)}else{var d=me(n),p=Sn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,ye(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,st.EMPTY_NODE,ye(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yn(r,Xt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=wn(r,ve()),$t(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=wn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Se(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return An(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Se(n)){var c=new Jt(null);return u.getNode().forEachChild(Ue,(function(e,t){c=c.set(new pe(e),t)})),Dn(e,t,n,c,i,o,s,a)}return t}var l=new Jt(null);return r.foreach((function(e,t){var r=xe(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Dn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Lt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Qt(t,o.getNode(),o.isFullyInitialized()||Se(n),o.isFiltered());return Pn(e,a,n,r,Tn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Yt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(gt(Yt(t)))}}(t,a,f),{viewCache:a,changes:f}}function Pn(e,t,n,r,i,a){var s=t.eventCache;if(null!=wn(r,n))return t;var u=void 0,c=void 0;if(Se(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Xt(t),h=bn(r,l instanceof st?l:st.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=yn(r,Xt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=me(n);if(".priority"===d){(0,o.assert)(1===ge(n),"Can't have a priority with additional path components");var p=s.getNode(),v=_n(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var m=ye(n),g=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=_n(r,n,s.getNode(),c);g=null!=y?s.getNode().getImmediateChild(d).updateChild(m,y):s.getNode().getImmediateChild(d)}else g=Sn(r,d,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),d,g,m,i,a):s.getNode()}}return $t(t,u,s.isFullyInitialized()||Se(n),e.filter.filtersNodes())}function An(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Se(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=me(n);if(!c.isCompleteForPath(n)&&ge(n)>1)return t;var d=ye(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Tn,null)}var v=Qt(t,u,c.isFullyInitialized()||Se(n),l.filtersNodes());return Pn(e,v,n,i,new In(i,v,o),s)}function Rn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new In(i,t,o);if(Se(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=$t(t,u,!0,e.filter.filtersNodes());else{var h=me(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=$t(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=ye(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Se(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===be(f)&&v.getChild(we(f)).isEmpty()?v:v.updateChild(f,r):st.EMPTY_NODE}if(d.equals(p))s=t;else s=$t(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function On(e,t){return e.eventCache.isCompleteForChild(t)}function Mn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Dn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Se(n)?r:new Jt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);c=An(e,c,new pe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);c=An(e,c,new pe(n),h,i,o,a,s)}})),c}var Ln,jn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new wt(r.getIndex()),o=(n=r).loadsAllData()?new wt(n.getIndex()):n.hasLimit()?new St(n):new xt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(st.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(st.EMPTY_NODE,s.getNode(),null),l=new Ht(u,a.isFullyInitialized(),i.filtersNodes()),h=new Ht(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Gt(h,l),this.eventGenerator_=new Wt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Fn(e,t){var n=Xt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Se(t)&&!n.getImmediateChild(me(t)).isEmpty())?n.getChild(t):null}function Un(e){return 0===e.eventRegistrations_.length}function Vn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Bn(e,t,n,r){t.type===Lt.MERGE&&null!==t.source.queryId&&((0,o.assert)(Xt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(Yt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Nn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,zn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function zn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Kt(e,i,"child_removed",t,r,n),Kt(e,i,"child_added",t,r,n),Kt(e,i,"child_moved",o,r,n),Kt(e,i,"child_changed",t,r,n),Kt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var qn,Zn=function(){this.views=new Map};function Hn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Bn(c,t,n,r)}var l=[];try{for(var h=(0,a.__values)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(Bn(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Wn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=yn(n,i?r:null),u=!1;s?u=!0:r instanceof st?(s=bn(n,r),u=!1):(s=st.EMPTY_NODE,u=!1);var c=Gt(new Ht(s,u,!1),new Ht(r,i,!1));return new jn(t,c)}return a}function Kn(e,t,n,r,i,o){var a=Wn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(function(e,t){r.push(yt(e,t))})),n.isFullyInitialized()&&r.push(gt(n.getNode())),zn(e,r,n.getNode(),t)}(a,n)}function Gn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=Jn(e);if("default"===u)try{for(var f=(0,a.__values)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.__read)(d.value,2),v=p[0],m=p[1];l=l.concat(Vn(m,n,r)),Un(m)&&(e.views.delete(v),m.query._queryParams.loadsAllData()||c.push(m.query))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(m=e.views.get(u))&&(l=l.concat(Vn(m,n,r)),Un(m)&&(e.views.delete(u),m.query._queryParams.loadsAllData()||c.push(m.query)));return h&&!Jn(e)&&c.push(new((0,o.assert)(Ln,"Reference.ts has not been loaded"),Ln)(t._repo,t._path)),{removed:c,events:l}}function $n(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Qn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Fn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Yn(e,t){if(t._queryParams.loadsAllData())return er(e);var n=t._queryIdentifier;return e.views.get(n)}function Xn(e,t){return null!=Yn(e,t)}function Jn(e){return null!=er(e)}function er(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var tr=1,nr=function(e){this.listenProvider_=e,this.syncPointTree_=new Jt(null),this.pendingWriteTree_={visibleWrites:en.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function rr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?hr(e,new qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ir(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=nn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Jt.fromObject(n);return hr(e,new Zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function or(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dn(e.pendingWriteTree_,t)){var i=new Jt(null);return null!=r.snap?i=i.set(ve(),!0):D(r.children,(function(e){i=i.set(new pe(e),!0)})),hr(e,new Bt(r.path,i,n))}return[]}function ar(e,t,n){return hr(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function sr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Xn(o,t))){var s=Gn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Jn(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Jn(t))return[er(t)];var r=[];return t&&(r=$n(t)),D(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,m=pr(e,p);e.listenProvider_.startListening(_r(v),vr(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(_r(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(mr(t));e.listenProvider_.stopListening(_r(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=mr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function ur(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ee(e,r);i=i||Qn(t,n),a=a||Jn(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||Jn(u),i=i||Qn(u,ve())):(u=new Zn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=st.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Qn(t,ve());n&&(i=i.updateImmediateChild(e,n))})));var c=Xn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=mr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=tr++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=Kn(u,t,n,fn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Yn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=vr(e,t),a=pr(e,n),s=e.listenProvider_.startListening(_r(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Jn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Se(e)&&t&&Jn(t))return[er(t).query];var r=[];return t&&(r=r.concat($n(t).map((function(e){return e.query})))),D(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(_r(h),vr(e,h))}return s}(e,t,d))}return f}function cr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Qn(n,Ee(e,t));if(r)return r}));return gn(r,t,i,n,!0)}function lr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ee(e,n);r=r||Qn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Qn(i,ve()):(i=new Zn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Ht(r,!0,!1):null;return function(e){return Yt(e.viewCache_)}(Wn(i,t,fn(e.pendingWriteTree_,t._path),o?a.getNode():st.EMPTY_NODE,o))}function hr(e,t){return fr(t,e.syncPointTree_,null,fn(e.pendingWriteTree_,ve()))}function fr(e,t,n,r){if(Se(e.path))return dr(e,t,n,r);var i=t.get(ve());null==n&&null!=i&&(n=Qn(i,ve()));var o=[],a=me(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=En(r,a);o=o.concat(fr(s,u,c,l))}return i&&(o=o.concat(Hn(i,e,r,n))),o}function dr(e,t,n,r){var i=t.get(ve());null==n&&null!=i&&(n=Qn(i,ve()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=En(r,t),u=e.operationForChild(t);u&&(o=o.concat(dr(u,i,a,s)))})),i&&(o=o.concat(Hn(i,e,r,n))),o}function pr(e,t){var n=t.query,r=vr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=gr(e,n);if(r){var i=yr(r),o=i.path,a=i.queryId,s=Ee(o,t);return br(e,o,new zt(Ut(a),s))}return[]}(e,n._path,r):function(e,t){return hr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return sr(e,n,null,i)}}}function vr(e,t){var n=mr(t);return e.queryToTagMap.get(n)}function mr(e){return e._path.toString()+"$"+e._queryIdentifier}function gr(e,t){return e.tagToQueryMap.get(t)}function yr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function br(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Hn(r,n,fn(e.pendingWriteTree_,t),null)}function _r(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(qn,"Reference.ts has not been loaded"),qn)(e._repo,e._path):e}var wr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),xr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=xe(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return cr(this.syncTree_,this.path_)},e}(),Sr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Er(e[".sv"],t,n):"object"===typeof e[".sv"]?kr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Er=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},kr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Cr=function(e,t,n,r){return Ir(t,new xr(n,e),r)},Tr=function(e,t,n){return Ir(e,new wr(t),n)};function Ir(e,t,n){var r,i=e.getPriority().val(),o=Sr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Sr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ye(s,ct(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ye(o))),u.forEachChild(tt,(function(e,i){var o=Ir(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Nr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Pr(e,t){for(var n=t instanceof pe?t:new pe(t),r=e,i=me(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Nr(i,r,a),i=me(n=ye(n))}return r}function Ar(e){return e.node.value}function Rr(e,t){e.node.value=t,jr(e)}function Or(e){return e.node.childCount>0}function Mr(e,t){D(e.node.children,(function(n,r){t(new Nr(n,e,r))}))}function Dr(e,t,n,r){n&&!r&&t(e),Mr(e,(function(e){Dr(e,t,!0,r)})),n&&r&&t(e)}function Lr(e){return new pe(null===e.parent?e.name:Lr(e.parent)+"/"+e.name)}function jr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Ar(e)&&!Or(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,jr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,jr(e))}(e.parent,e.name,e)}var Fr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ur=/[\[\].#$\u0000-\u001F\u007F]/,Vr=10485760,Br=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},zr=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},qr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!T(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Zr=function(e,t,n,r){r&&void 0===t||Hr((0,o.errorPrefix)(e,"value"),t,n)},Hr=function e(t,n,r){var i=r instanceof pe?new Ie(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Pe(i));if("function"===typeof n)throw new Error(t+"contains a function "+Pe(i)+" with contents = "+n.toString());if(T(n))throw new Error(t+"contains "+n.toString()+" "+Pe(i));if("string"===typeof n&&n.length>Vr/3&&(0,o.stringLength)(n)>Vr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Pe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(D(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Br(n)))throw new Error(t+" contains an invalid key ("+n+") "+Pe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Ne(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Pe(i)+" in addition to actual children.")}},Wr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];D(t,(function(e,t){var r=new pe(e);if(Hr(i,t,xe(n,r)),".priority"===be(r)&&!qr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=_e(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Br(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ke);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Te(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Kr=function(e,t,n){if(!n||void 0!==t){if(T(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Gr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},$r=function(e,t,n,r){if((!r||void 0!==n)&&!Br(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Qr=function(e,t,n,r){if((!r||void 0!==n)&&!zr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Yr=function(e,t){if(".info"===me(t))throw new Error(e+" failed = Can't modify data under /.info/")},Xr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Br(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Jr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},ei=function(){this.eventLists_=[],this.recursionDepth_=0};function ti(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ce(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ni(e,t,n){ti(e,n),ii(e,(function(e){return Ce(e,t)}))}function ri(e,t,n){ti(e,n),ii(e,(function(e){return Te(e,t)||Te(t,e)}))}function ii(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&x("event: "+n.toString()),B(r)}}}var ai="repo_interrupt",si=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ei,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rt(),this.transactionQueueTree_=new Nr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ui(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Pt(e.repoInfo_,(function(t,n,r,i){hi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return fi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new De(e.repoInfo_,t,(function(t,n,r,i){hi(e,t,n,r,i)}),(function(t){fi(e,t)}),(function(t){!function(e,t){D(t,(function(t,n){di(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,(function(){return new Ft(e.stats_,e.server_)})),e.infoData_=new At,e.infoSyncTree_=new nr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=ar(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),di(e,"connected",!1),e.serverSyncTree_=new nr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ri(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ci(e){var t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function li(e){return(t=(t={timestamp:ci(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function hi(e,t,n,r,i){e.dataUpdateCount++;var a=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n,r){var i=gr(e,r);if(i){var o=yr(i),a=o.path,s=o.queryId,u=Ee(a,t),c=Jt.fromObject(n);return br(e,a,new Zt(Ut(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ct(n);s=function(e,t,n,r){var i=gr(e,r);if(null!=i){var o=yr(i),a=o.path,s=o.queryId,u=Ee(a,t);return br(e,a,new qt(Ut(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n){var r=Jt.fromObject(n);return hr(e,new Zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=ct(n);s=ar(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Ei(e,a)),ri(e.eventQueue_,f,s)}function fi(e,t){di(e,"connected",t),!1===t&&function(e){_i(e,"onDisconnectEvents");var t=li(e),n=Rt();Dt(e.onDisconnect_,ve(),(function(r,i){var o=Cr(r,i,e.serverSyncTree_,t);Ot(n,r,o)}));var r=[];Dt(n,ve(),(function(t,n){r=r.concat(ar(e.serverSyncTree_,t,n));var i=Ni(e,t);Ei(e,i)})),e.onDisconnect_=Rt(),ri(e.eventQueue_,ve(),r)}(e)}function di(e,t,n){var r=new pe("/.info/"+t),i=ct(n);e.infoData_.updateSnapshot(r,i);var o=ar(e.infoSyncTree_,r,i);ri(e.eventQueue_,r,o)}function pi(e){return e.nextWriteId_++}function vi(e,t,n,r,i){_i(e,"set",{path:t.toString(),value:n,priority:r});var o=li(e),a=ct(n,r),s=cr(e.serverSyncTree_,t),u=Tr(a,s,o),c=pi(e),l=rr(e.serverSyncTree_,t,u,c,!0);ti(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||C("set at "+t+" failed: "+n);var a=or(e.serverSyncTree_,c,!o);ri(e.eventQueue_,t,a),wi(e,i,n,r)}));var h=Ni(e,t);Ei(e,h),ri(e.eventQueue_,h,[])}function mi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Mt(e.onDisconnect_,t),wi(e,n,r,i)}))}function gi(e,t,n,r){var i=ct(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Ot(e.onDisconnect_,t,i),wi(e,r,n,o)}))}function yi(e,t,n){var r;r=".info"===me(t._path)?sr(e.infoSyncTree_,t,n):sr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}function bi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function _i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),x.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function wi(e,t,n,r){t&&B((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function xi(e,t,n){return cr(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function Si(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ii(e,t),Ar(t)){var n=Ci(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=xi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ee(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){_i(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(or(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Ii(e,Pr(e.transactionQueueTree_,t)),Si(e,e.transactionQueueTree_),ri(e.eventQueue_,t,i);for(s=0;s<o.length;s++)B(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{C("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ei(e,t)}}),s)}(e,Lr(t),n)}else Or(t)&&Mr(t,(function(t){Si(e,t)}))}function Ei(e,t){var n=ki(e,t),r=Lr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Ee(n,l.path),f=!1;if((0,o.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else{var d=xi(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Hr("transaction failed: Data returned ",p,l.path);var v=ct(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var m=l.currentWriteId,g=li(e),y=Tr(v,d,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=pi(e),a.splice(a.indexOf(m),1),i=(i=i.concat(rr(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(or(e.serverSyncTree_,m,!0))}else f=!0,u="nodata",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0))}ri(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Ii(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)B(r[u]);Si(e,e.transactionQueueTree_)}(e,Ci(e,n),r),r}function ki(e,t){var n,r=e.transactionQueueTree_;for(n=me(t);null!==n&&void 0===Ar(r);)r=Pr(r,n),n=me(t=ye(t));return r}function Ci(e,t){var n=[];return Ti(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ti(e,t,n){var r=Ar(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Mr(t,(function(t){Ti(e,t,n)}))}function Ii(e,t){var n=Ar(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Rr(t,n.length>0?n:void 0)}Mr(t,(function(t){Ii(e,t)}))}function Ni(e,t){var n=Lr(ki(e,t)),r=Pr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Pi(e,t)})),Pi(e,r),Dr(r,(function(t){Pi(e,t)})),n}function Pi(e,t){var n=Ar(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(or(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Rr(t,void 0):n.length=a+1,ri(e.eventQueue_,Lr(t),i);for(s=0;s<r.length;s++)B(r[s])}}var Ai=function(e,t){var n=Ri(e),r=n.namespace;"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Q(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new pe(n.pathString)}},Ri=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):C("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Oi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Mi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Di=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Li=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return mi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Yr("OnDisconnect.remove",this._path);var e=new o.Deferred;return gi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Yr("OnDisconnect.set",this._path),Zr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return gi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Yr("OnDisconnect.setWithPriority",this._path),Zr("OnDisconnect.setWithPriority",e,this._path,!1),Kr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=ct(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Ot(e.onDisconnect_,t,o),wi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Yr("OnDisconnect.update",this._path),Wr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void wi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&D(n,(function(n,r){var i=ct(r);Ot(e.onDisconnect_,xe(t,n),i)})),wi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),ji=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Se(this._path)?null:be(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Bi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Nt(this._queryParams),t=O(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Nt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ce(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Fi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ui(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==I)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==N)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===tt){if(null!=t&&!qr(t)||null!=n&&!qr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof lt||e.getIndex()===ft,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Bi=function(e){function t(t,n){return e.call(this,t,n,new Et,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=we(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(ji),zi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new pe(t),r=Hi(this.ref,t);return new e(this._node.getChild(n),r,tt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Hi(n.ref,r),tt))}))},e.prototype.hasChild=function(e){var t=new pe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function qi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Hi(e._root,t):e._root}function Zi(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Ai(t,e._repo.repoInfo_.nodeAdmin);Xr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),qi(e,n.path.toString())}function Hi(e,t){var n,r,i,a;return null===me((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Qr(n,r,i,a)):Qr("child","path",t,!1),new Bi(e._repo,xe(e._path,t))}function Wi(e,t){e=(0,o.getModularInstance)(e),Yr("push",e._path),Zr("push",t,e._path,!0);var n,r=ci(e._repo),i=pt(r),a=Hi(e,i),s=Hi(e,i);return n=null!=t?Gi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Ki(e){return Yr("remove",e._path),Gi(e,null)}function Gi(e,t){e=(0,o.getModularInstance)(e),Yr("set",e._path),Zr("set",t,e._path,!1);var n=new o.Deferred;return vi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function $i(e,t){e=(0,o.getModularInstance)(e),Yr("setPriority",e._path),Kr("setPriority",t,!1);var n=new o.Deferred;return vi(e._repo,xe(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Qi(e,t,n){if(Yr("setWithPriority",e._path),Zr("setWithPriority",t,e._path,!1),Kr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return vi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Yi(e,t){Wr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){_i(e,"update",{path:t.toString(),value:n});var i=!0,o=li(e),a={};if(D(n,(function(n,r){i=!1,a[n]=Cr(xe(t,n),ct(r),e.serverSyncTree_,o)})),i)x("update() called with empty data.  Don't do anything."),wi(0,r,"ok",void 0);else{var s=pi(e),u=ir(e.serverSyncTree_,t,a,s);ti(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||C("update at "+t+" failed: "+n);var a=or(e.serverSyncTree_,s,!o),u=a.length>0?Ei(e,t):t;ri(e.eventQueue_,u,a),wi(0,r,n,i)})),D(n,(function(n){var r=Ni(e,xe(t,n));Ei(e,r)})),ri(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Xi(e){return function(e,t){var n=lr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ct(n).withIndex(t._queryParams.getIndex()),i=ar(e.serverSyncTree_,t._path,r);return ni(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return _i(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new zi(t,new Bi(e._repo,e._path),e._queryParams.getIndex())}))}var Ji=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Oi("value",this,new zi(e.snapshotNode,new Bi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Mi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Mi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Hi(new Bi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Oi(e.type,this,new zi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){yi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Di(n,o||void 0),c="value"===t?new Ji(u):new eo(t,u);return function(e,t,n){var r;r=".info"===me(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return yi(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new Di(n):null;"value"===t?r=new Ji(i):t&&(r=new eo(t,i)),yi(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Zr("endAt",this._value,e._path,!0);var t=Ct(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function lo(e,t){return $r("endAt","key",t,!0),new co(e,t)}var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Zr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ue?("string"===typeof t&&(t=mt(t)),r=Ct(e,t,n)):r=Ct(e,t,null==n?I:mt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function fo(e,t){return $r("endBefore","key",t,!0),new ho(e,t)}var po=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Zr("startAt",this._value,e._path,!0);var t=kt(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function vo(e,t){return void 0===e&&(e=null),$r("startAt","key",t,!0),new po(e,t)}var mo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Zr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ue?("string"===typeof t&&(t=vt(t)),r=kt(e,t,n)):r=kt(e,t,null==n?N:vt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function go(e,t){return $r("startAfter","key",t,!0),new mo(e,t)}var yo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function bo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yo(e)}var _o=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function wo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _o(e)}var xo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByChild");var t=new pe(this._path);if(Se(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new lt(t),r=Tt(e._queryParams,n);return Ui(r),new ji(e._repo,e._path,r,!0)},t}(uo);function So(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qr("orderByChild","path",e,!1),new xo(e)}var Eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByKey");var t=Tt(e._queryParams,Ue);return Ui(t),new ji(e._repo,e._path,t,!0)},t}(uo);function ko(){return new Eo}var Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByPriority");var t=Tt(e._queryParams,tt);return Ui(t),new ji(e._repo,e._path,t,!0)},t}(uo);function To(){return new Co}var Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByValue");var t=Tt(e._queryParams,ft);return Ui(t),new ji(e._repo,e._path,t,!0)},t}(uo);function No(){return new Io}var Po=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Zr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new po(this._value,this._key)._apply(e))},t}(uo);function Ao(e,t){return $r("equalTo","key",t,!0),new Po(e,t)}function Ro(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!Ln,"__referenceConstructor has already been defined"),Ln=e}(Bi),function(e){(0,o.assert)(!qn,"__referenceConstructor has already been defined"),qn=e}(Bi);var Oo={},Mo=!1;function Do(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Ai(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Ai(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new H(H.OWNER):new Z(e.name,e.options,t);Xr("Invalid Firebase Database URL",s),Se(s.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Oo[t.name];i||(i={},Oo[t.name]=i);var o=i[e.toURLString()];o&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new si(e,Mo,n,r),i[e.toURLString()]=o,o}(u,e,l,new q(e.name,n));return new Lo(h,e)}var Lo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ui(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Bi(this._repo,ve())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Oo[t];n&&n[e.key]===e||k("Database "+t+"("+e.repoInfo_+") has already been deleted."),bi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&k("Cannot call "+e+" on a deleted database.")},e}();function jo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new H(H.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new H(s)}!function(e,t,n,r){e.repoInfo_=new Q(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Fo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),bi(e._repo)}function Uo(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var Vo={".sv":"timestamp"};var Bo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function zo(e,t,n){var r;if(e=(0,o.getModularInstance)(e),Yr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=no(e,(function(){}));return function(e,t,n,r,i,a){_i(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:m(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=xi(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Hr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Pr(e.transactionQueueTree_,t),h=Ar(l)||[];h.push(s),Rr(l,h);var f=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(f=(0,o.safeGet)(c,".priority"),(0,o.assert)(qr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(cr(e.serverSyncTree_,t)||st.EMPTY_NODE).getPriority().val();var d=li(e),p=ct(c,f),v=Tr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=pi(e);var g=rr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ri(e.eventQueue_,t,g),Si(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new zi(r,new Bi(e._repo,e._path),tt),a.resolve(new Bo(n,i)))}),s,i),a.promise}var qo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,C("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Zo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ho=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Qr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Qr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Ko(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Wo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Ho(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Gr("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Xi(this._delegate).then((function(t){return new Ho(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Ho(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ro(this._delegate,bo(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Ro(this._delegate,wo(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Ro(this._delegate,So(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Ro(this._delegate,ko()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ro(this._delegate,To()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Ro(this._delegate,No()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Ro(this._delegate,vo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Ro(this._delegate,go(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Ro(this._delegate,lo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Ro(this._delegate,fo(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Ro(this._delegate,Ao(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ko(this.database,new Bi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ko=function(e){function t(t,n){var r=e.call(this,t,new ji(n._repo,n._path,new Et,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Hi(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=Gi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,C("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Yr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=Yi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Qi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=Ki(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),Jr("Reference.transaction","applyLocally",n,!0);var i=zo(this._delegate,e,{applyLocally:n}).then((function(e){return new Zo(e.committed,new Ho(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=$i(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Wi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Yr("Reference.onDisconnect",this._delegate._path),new qo(new Li(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Wo),Go=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),jo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Ko){var t=Zi(this._delegate,e.toString());return new Ko(this,t)}t=qi(this._delegate,e);return new Ko(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Zi(this._delegate,e);return new Ko(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Fo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Uo(this._delegate)},e.ServerValue={TIMESTAMP:Vo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var $o=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new jt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);D(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Go(Do(t,l,void 0,n,u),t),namespace:a}}}),Qo=De;De.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},De.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Yo=le,Xo=Q,Jo=Object.freeze({__proto__:null,DataConnection:Qo,RealTimeConnection:Yo,hijackHash:function(e){var t=De.prototype.put;return De.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){De.prototype.put=t}},ConnectionTarget:Xo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Mo=e}(e)}}),ea=Go.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Go(Do(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Ko,Query:Wo,Database:Go,DataSnapshot:Ho,enableLogging:w,INTERNAL:$o,ServerValue:ea,TEST_ACCESS:Jo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},6494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return h},setLogLevel:function(){return f},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},8365:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9971:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return i},Deferred:function(){return p},ErrorFactory:function(){return R},FirebaseError:function(){return A},MAX_VALUE_MILLIS:function(){return ce},RANDOM_FACTOR:function(){return le},Sha1:function(){return Y},areCookiesEnabled:function(){return N},assert:function(){return o},assertionError:function(){return a},async:function(){return ee},base64:function(){return u},base64Decode:function(){return h},base64Encode:function(){return c},base64urlEncodeWithoutPadding:function(){return l},calculateBackoffMillis:function(){return he},contains:function(){return z},createMockUserToken:function(){return v},createSubscribe:function(){return X},decode:function(){return j},deepCopy:function(){return f},deepEqual:function(){return W},deepExtend:function(){return d},errorPrefix:function(){return re},extractQuerystring:function(){return Q},getGlobal:function(){return P},getModularInstance:function(){return de},getUA:function(){return m},isAdmin:function(){return B},isBrowser:function(){return b},isBrowserExtension:function(){return _},isElectron:function(){return x},isEmpty:function(){return Z},isIE:function(){return S},isIndexedDBAvailable:function(){return T},isMobileCordova:function(){return g},isNode:function(){return y},isNodeSdk:function(){return k},isReactNative:function(){return w},isSafari:function(){return C},isUWP:function(){return E},isValidFormat:function(){return V},isValidTimestamp:function(){return F},issuedAtTime:function(){return U},jsonEval:function(){return D},map:function(){return H},ordinal:function(){return fe},querystring:function(){return G},querystringDecode:function(){return $},safeGet:function(){return q},stringLength:function(){return ue},stringToByteArray:function(){return se},stringify:function(){return L},validateArgCount:function(){return ne},validateCallback:function(){return oe},validateContextObject:function(){return ae},validateIndexedDBOpenable:function(){return I},validateNamespace:function(){return ie}});var r=n(9388),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f(e){return d(void 0,e)}function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(a)),""].join(".")}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function b(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){return m().indexOf("Electron/")>=0}function S(){var e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return m().indexOf("MSAppHost/")>=0}function k(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function C(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){return"indexedDB"in self&&null!=indexedDB}function I(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function N(){return!(!navigator||!navigator.cookieEnabled)}function P(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,R.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),R=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?O(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new A(i,s,r);return u},e}();function O(e,t){return e.replace(M,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var M=/\{\$([^}]+)}/g;function D(e){return JSON.parse(e)}function L(e){return JSON.stringify(e)}var j=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=D(h(o[0])||""),n=D(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=j(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(e){var t=j(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},V=function(e){var t=j(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},B=function(e){var t=j(e).claims;return"object"===typeof t&&!0===t.admin};function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function W(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(K(s)&&K(u)){if(!W(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function K(e){return null!==e&&"object"===typeof e}function G(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function $(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Q(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Y=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function X(e,t){var n=new J(e,t);return n.subscribe.bind(n)}var J=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function ee(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function te(){}var ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function re(e,t){return e+" failed: "+t+" argument "}function ie(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(re(e,"namespace")+"must be a valid firebase namespace.")}function oe(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(re(e,t)+"must be a valid function.")}function ae(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(re(e,t)+"must be a valid context object.")}var se=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ue=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ce=144e5,le=.5;function he(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(le*r*(Math.random()-.5)*2);return Math.min(ce,r+i)}function fe(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function de(e){return e&&e._delegate?e._delegate:e}},8322:function(e){"use strict";function t(e,t){this.x=e,this.y=t}e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}},260:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew");t.Z=a},3385:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");t.Z=a},8384:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.Z=a},9823:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=a},2885:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.Z=a},1131:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=a},4839:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"}),"FacebookOutlined");t.Z=a},5860:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.Z=a},1880:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r)}(n(2791));var i=r(n(5649)),o=n(184);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s=(0,i.default)((0,o.jsx)("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram");t.Z=s},5172:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=a},5678:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");t.Z=a},1588:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.Z=a},5335:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Mail");t.Z=a},8008:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=a},2716:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"Phone");t.Z=a},4137:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");t.Z=a},1236:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"}),"Textsms");t.Z=a},4668:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r)}(n(2791));var i=r(n(5649)),o=n(184);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s=(0,i.default)((0,o.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");t.Z=s},8805:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");t.Z=a},824:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M14.67 5v6.5H9.33V5h5.34zm1 6.5H21V5h-5.33v6.5zm-1 7.5v-6.5H9.33V19h5.34zm1-6.5V19H21v-6.5h-5.33zm-7.34 0H3V19h5.33v-6.5zm0-1V5H3v6.5h5.33z"}),"ViewModule");t.Z=a},2686:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"}),"WatchLater");t.Z=a},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8907)},4591:function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var r=n(7462),i=n(3366),o=n(6189),a=n(2466),s=n(5080),u=n(7416),c=n(104),l=n(4942);function h(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,l.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,l.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var f=n(2065),d={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},b={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},_={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},w=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},S={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function E(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,f.$n)(e.main,i):"dark"===t&&(e.dark=(0,f._j)(e.main,o)))}function k(e){var t=e.mode,n=void 0===t?"light":t,s=e.contrastThreshold,u=void 0===s?3:s,c=e.tonalOffset,l=void 0===c?.2:c,h=(0,i.Z)(e,w),k=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[200],light:y[50],dark:y[400]}:{main:y[700],light:y[400],dark:y[800]}}(n),C=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[500],light:v[300],dark:v[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[500],light:m[300],dark:m[700]}:{main:m[700],light:m[400],dark:m[800]}}(n),I=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[700],light:b[500],dark:b[900]}}(n),N=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_[400],light:_[300],dark:_[700]}:{main:_[800],light:_[500],dark:_[900]}}(n),P=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:"#ed6c02",light:g[500],dark:g[900]}}(n);function A(e){return(0,f.mi)(e,S.text.primary)>=u?S.text.primary:x.text.primary}var R=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,s=e.lightShade,u=void 0===s?300:s,c=e.darkShade,h=void 0===c?700:c;if(!(t=(0,r.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,o.Z)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error((0,o.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return E(t,"light",u,l),E(t,"dark",h,l),t.contrastText||(t.contrastText=A(t.main)),t},O={dark:S,light:x};return(0,a.Z)((0,r.Z)({common:(0,r.Z)({},d),mode:n,primary:R({color:k,name:"primary"}),secondary:R({color:C,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:T,name:"error"}),warning:R({color:P,name:"warning"}),info:R({color:I,name:"info"}),success:R({color:N,name:"success"}),grey:p,contrastThreshold:u,getContrastText:A,augmentColor:R,tonalOffset:l},O[n]),h)}var C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var T={textTransform:"uppercase"},I='"Roboto", "Helvetica", "Arial", sans-serif';function N(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,s=void 0===o?I:o,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,h=void 0===l?300:l,f=n.fontWeightRegular,d=void 0===f?400:f,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,_=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,C);var S=c/14,E=w||function(e){return"".concat(e/b*S,"rem")},k=function(e,t,n,i,o){return(0,r.Z)({fontFamily:s,fontWeight:e,fontSize:E(t),lineHeight:n},s===I?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},o,_);var a},N={h1:k(h,96,1.167,-1.5),h2:k(h,60,1.2,-.5),h3:k(d,48,1.167,0),h4:k(d,34,1.235,.25),h5:k(d,24,1.334,0),h6:k(v,20,1.6,.15),subtitle1:k(d,16,1.75,.15),subtitle2:k(v,14,1.57,.1),body1:k(d,16,1.5,.15),body2:k(d,14,1.43,.15),button:k(v,14,1.75,.4,T),caption:k(d,12,1.66,.4),overline:k(d,12,2.66,1,T)};return(0,a.Z)((0,r.Z)({htmlFontSize:b,pxToRem:E,fontFamily:s,fontSize:c,fontWeightLight:h,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:g},N),x,{clone:!1})}function P(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",P(0,2,1,-1,0,1,1,0,0,1,3,0),P(0,3,1,-2,0,2,2,0,0,1,5,0),P(0,3,3,-2,0,3,4,0,0,1,8,0),P(0,2,4,-1,0,4,5,0,0,1,10,0),P(0,3,5,-1,0,5,8,0,0,1,14,0),P(0,3,5,-1,0,6,10,0,0,1,18,0),P(0,4,5,-2,0,7,10,1,0,2,16,1),P(0,5,5,-3,0,8,10,1,0,3,14,2),P(0,5,6,-3,0,9,12,1,0,3,16,2),P(0,6,6,-3,0,10,14,1,0,4,18,3),P(0,6,7,-4,0,11,15,1,0,4,20,3),P(0,7,8,-4,0,12,17,2,0,5,22,4),P(0,7,8,-4,0,13,19,2,0,5,24,4),P(0,7,9,-4,0,14,21,2,0,5,26,4),P(0,8,9,-5,0,15,22,2,0,6,28,5),P(0,8,10,-5,0,16,24,2,0,6,30,5),P(0,8,11,-5,0,17,26,2,0,6,32,5),P(0,9,11,-5,0,18,28,2,0,7,34,6),P(0,9,12,-6,0,19,29,2,0,7,36,6),P(0,10,13,-6,0,20,31,3,0,8,38,7),P(0,10,13,-6,0,21,33,3,0,8,40,7),P(0,10,14,-6,0,22,35,3,0,8,42,7),P(0,11,14,-7,0,23,36,3,0,9,44,8),P(0,11,15,-7,0,24,38,3,0,9,46,8)],R=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return"".concat(Math.round(e),"ms")}function L(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function j(e){var t=(0,r.Z)({},O,e.easing),n=(0,r.Z)({},M,e.duration);return(0,r.Z)({getAutoHeightDuration:L,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.duration,a=void 0===o?n.standard:o,s=r.easing,u=void 0===s?t.easeInOut:s,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,R);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:D(a)," ").concat(u," ").concat("string"===typeof l?l:D(l))})).join(",")}},e,{easing:t,duration:n})}var F={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},U=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,l=e.palette,f=void 0===l?{}:l,d=e.transitions,p=void 0===d?{}:d,v=e.typography,m=void 0===v?{}:v,g=(0,i.Z)(e,U);if(e.vars)throw new Error((0,o.Z)(18));var y=k(f),b=(0,s.Z)(e),_=(0,a.Z)(b,{mixins:h(b.breakpoints,n),palette:y,shadows:A.slice(),typography:N(y,m),transitions:j(p),zIndex:(0,r.Z)({},F)});_=(0,a.Z)(_,g);for(var w=arguments.length,x=new Array(w>1?w-1:0),S=1;S<w;S++)x[S-1]=arguments[S];return(_=x.reduce((function(e,t){return(0,a.Z)(e,t)}),_)).unstable_sxConfig=(0,r.Z)({},u.Z,null==g?void 0:g.unstable_sxConfig),_.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},_}var B=V()},9359:function(e,t,n){"use strict";n.d(t,{ZP:function(){return $},FO:function(){return W},Dz:function(){return K}});var r=n(2982),i=n(885),o=n(3366),a=n(7462),s=n(2791),u=n(9797),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,u.Z)((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),h=n(3361),f=n(9140),d=n(2561),p=(0,s.createContext)("undefined"!==typeof HTMLElement?(0,h.Z)({key:"css"}):null);p.Provider;var v=function(e){return(0,s.forwardRef)((function(t,n){var r=(0,s.useContext)(p);return e(t,r,n)}))},m=(0,s.createContext)({});function g(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var y=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},b=l,_=function(e){return"theme"!==e},w=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?b:_},x=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},S=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;y(t,n,r);(0,d.L)((function(){return function(e,t,n){y(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},E=function e(t,n){var r,i,o=t.__emotion_real===t,u=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=x(t,n,o),l=c||w(u),h=!l("as");return function(){var d=arguments,p=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&p.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)p.push.apply(p,d);else{0,p.push(d[0][0]);for(var y=d.length,b=1;b<y;b++)p.push(d[b],d[0][b])}var _=v((function(e,t,n){var r=h&&e.as||u,o="",a=[],d=e;if(null==e.theme){for(var v in d={},e)d[v]=e[v];d.theme=(0,s.useContext)(m)}"string"===typeof e.className?o=g(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var y=(0,f.O)(p.concat(a),t.registered,d);o+=t.key+"-"+y.name,void 0!==i&&(o+=" "+i);var b=h&&void 0===c?w(r):l,_={};for(var x in e)h&&"as"===x||b(x)&&(_[x]=e[x]);return _.className=o,_.ref=n,(0,s.createElement)(s.Fragment,null,(0,s.createElement)(S,{cache:t,serialized:y,isStringTag:"string"===typeof r}),(0,s.createElement)(r,_))}));return _.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=u,_.__emotion_styles=p,_.__emotion_forwardProp=c,Object.defineProperty(_,"toString",{value:function(){return"."+i}}),_.withComponent=function(t,r){return e(t,(0,a.Z)({},n,r,{shouldForwardProp:x(_,r,!0)})).apply(void 0,p)},_}},k=E.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){k[e]=k(e)}));var C=k;function T(e,t){return C(e,t)}var I=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},N=n(5080),P=n(7312),A=["variant"];function R(e){return 0===e.length}function O(e){var t=e.variant,n=(0,o.Z)(e,A),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?R(r)?e[t]:(0,P.Z)(e[t]):"".concat(R(r)?t:(0,P.Z)(t)).concat((0,P.Z)(e[t].toString()))})),r}var M=n(104),D=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],L=["theme"],j=["theme"];function F(e){return 0===Object.keys(e).length}function U(e){return"string"===typeof e&&e.charCodeAt(0)>96}var V=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},B=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=O(e.props);r[t]=e.style})),r},z=function(e,t,n,r){var i,o,a=e.ownerState,s=void 0===a?{}:a,u=[],c=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[O(n.props)])})),u};function q(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Z=(0,N.Z)();var H=n(4591),W=function(e){return q(e)&&"classes"!==e},K=q,G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Z:t,s=e.rootShouldForwardProp,u=void 0===s?q:s,c=e.slotShouldForwardProp,l=void 0===c?q:c,h=function(e){var t=F(e.theme)?n:e.theme;return(0,M.Z)((0,a.Z)({},e,{theme:t}))};return h.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var s,c=t.name,f=t.slot,d=t.skipVariantsResolver,p=t.skipSx,v=t.overridesResolver,m=(0,o.Z)(t,D),g=void 0!==d?d:f&&"Root"!==f||!1,y=p||!1;var b=q;"Root"===f?b=u:f?b=l:U(e)&&(b=void 0);var _=T(e,(0,a.Z)({shouldForwardProp:b,label:s},m)),w=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),u=1;u<t;u++)s[u-1]=arguments[u];var l=s?s.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,o.Z)(t,L);return e((0,a.Z)({theme:F(r)?n:r},i))}:e})):[],f=e;c&&v&&l.push((function(e){var t=F(e.theme)?n:e.theme,r=V(c,t);if(r){var o={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),s=r[0],u=r[1];o[s]="function"===typeof u?u((0,a.Z)({},e,{theme:t})):u})),v(e,o)}return null})),c&&!g&&l.push((function(e){var t=F(e.theme)?n:e.theme;return z(e,B(c,t),t,c)})),y||l.push(h);var d=l.length-s.length;if(Array.isArray(e)&&d>0){var p=new Array(d).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=(0,o.Z)(t,j);return e((0,a.Z)({theme:F(r)?n:r},i))});var m=_.apply(void 0,[f].concat((0,r.Z)(l)));return m};return _.withConfig&&(w.withConfig=_.withConfig),w}}({defaultTheme:H.Z,rootShouldForwardProp:W}),$=G},551:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7462);function i(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,i):i}var o=n(418);var a=n(4591);function s(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return i({theme:(0,o.Z)(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:a.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},162:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}},8907:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return w},debounce:function(){return x.Z},deprecatedPropType:function(){return S},isMuiElement:function(){return E},ownerDocument:function(){return k.Z},ownerWindow:function(){return C.Z},requirePropFactory:function(){return T},setRef:function(){return I},unstable_ClassNameGenerator:function(){return L},unstable_useEnhancedEffect:function(){return N},unstable_useId:function(){return P.Z},unsupportedProp:function(){return A},useControlled:function(){return R.Z},useEventCallback:function(){return O.Z},useForkRef:function(){return M.Z},useIsFocusVisible:function(){return D.Z}});var r=n(5902),i=n(4036),o=n(8949).Z,a=n(7462),s=n(2791),u=n(3366),c=n(8182),l=n(4419),h=n(551),f=n(9359),d=n(5878),p=n(1217);function v(e){return(0,p.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var m=n(184),g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],y=(0,f.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,i.Z)(n.color))],t["fontSize".concat((0,i.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,m,g,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=y.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(s=y.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=y.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[b.fontSize],color:null!=(h=null==(f=(y.vars||y).palette)||null==(d=f[b.color])?void 0:d.main)?h:{action:null==(p=(y.vars||y).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(y.vars||y).palette)||null==(g=m.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),b=s.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiSvgIcon"}),r=n.children,o=n.className,s=n.color,f=void 0===s?"inherit":s,d=n.component,p=void 0===d?"svg":d,b=n.fontSize,_=void 0===b?"medium":b,w=n.htmlColor,x=n.inheritViewBox,S=void 0!==x&&x,E=n.titleAccess,k=n.viewBox,C=void 0===k?"0 0 24 24":k,T=(0,u.Z)(n,g),I=(0,a.Z)({},n,{color:f,component:p,fontSize:_,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:C}),N={};S||(N.viewBox=C);var P=function(e){var t=e.color,n=e.fontSize,r=e.classes,o={root:["root","inherit"!==t&&"color".concat((0,i.Z)(t)),"fontSize".concat((0,i.Z)(n))]};return(0,l.Z)(o,v,r)}(I);return(0,m.jsxs)(y,(0,a.Z)({as:p,className:(0,c.Z)(P.root,o),focusable:"false",color:w,"aria-hidden":!E||void 0,role:E?"img":void 0,ref:t},N,T,{ownerState:I,children:[r,E?(0,m.jsx)("title",{children:E}):null]}))}));b.muiName="SvgIcon";var _=b;function w(e,t){function n(n,r){return(0,m.jsx)(_,(0,a.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=_.muiName,s.memo(s.forwardRef(n))}var x=n(162);var S=function(e,t){return function(){return null}};var E=function(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},k=n(8301),C=n(7602);var T=function(e,t){return function(){return null}},I=n(2971).Z,N=n(5721).Z,P=n(5836);var A=function(e,t,n,r,i){return null},R=n(8278),O=n(9683),M=n(2071),D=n(8221),L={configure:function(e){r.Z.configure(e)}}},8301:function(e,t,n){"use strict";var r=n(9723);t.Z=r.Z},7602:function(e,t,n){"use strict";var r=n(7979);t.Z=r.Z},8278:function(e,t,n){"use strict";var r=n(8959);t.Z=r.Z},9683:function(e,t,n){"use strict";var r=n(8956);t.Z=r.Z},2071:function(e,t,n){"use strict";var r=n(7563);t.Z=r.Z},5836:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(885),i=n(2791),o=0;var a=n.t(i,2).useId;var s=function(e){if(void 0!==a){var t=a();return null!=e?e:t}return function(e){var t=i.useState(e),n=(0,r.Z)(t,2),a=n[0],s=n[1],u=e||a;return i.useEffect((function(){null==a&&s("mui-".concat(o+=1))}),[a]),u}(e)}},8221:function(e,t,n){"use strict";var r=n(5372);t.Z=r.Z},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},P$:function(){return l},VO:function(){return i},W8:function(){return s},dt:function(){return c},k9:function(){return a}});var r=n(2466),i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function a(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var a=r.breakpoints||o;return t.reduce((function(e,r,i){return e[a.up(a.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var s=r.breakpoints||o;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(s.values||i).indexOf(r)){e[s.up(r)]=n(t[r],r)}else{var o=r;e[o]=t[o]}return e}),{})}return n(t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){for(var t=s(e),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=[t].concat(i).reduce((function(e,t){return(0,r.Z)(e,t)}),{});return u(Object.keys(t),a)}function l(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),o=Object.keys(i);return 0===o.length?n:o.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return h},Fq:function(){return c},_j:function(){return l},mi:function(){return u}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,a=e.substring(t+1,e.length-1);if("color"===n){if(i=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else a=a.split(",");return{type:n,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:i}}function a(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){var t="hsl"===(e=o(e)).type||"hsla"===e.type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),a({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,a(e)}function l(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function h(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return a(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(7462),i=n(3366),o=n(2466),a=n(4942),s=["values","unit","step"];function u(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,o=e.unit,u=void 0===o?"px":o,c=e.step,l=void 0===c?5:c,h=(0,i.Z)(e,s),f=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,a.Z)({},t.key,t.val))}),{})}(n),d=Object.keys(f);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(u,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(u,")")}function m(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(u,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(u,")")}return(0,r.Z)({keys:d,values:f,up:p,down:v,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:u},h)}var c={borderRadius:4},l=n(5682);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var f=n(104),d=n(7416),p=["breakpoints","palette","spacing","shape"];var v=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.palette,s=void 0===a?{}:a,l=e.spacing,v=e.shape,m=void 0===v?{}:v,g=(0,i.Z)(e,p),y=u(n),b=h(l),_=(0,o.Z)({breakpoints:y,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},s),spacing:b,shape:(0,r.Z)({},c,m)},g),w=arguments.length,x=new Array(w>1?w-1:0),S=1;S<w;S++)x[S-1]=arguments[S];return(_=x.reduce((function(e,t){return(0,o.Z)(e,t)}),_)).unstable_sxConfig=(0,r.Z)({},d.Z,null==g?void 0:g.unstable_sxConfig),_.unstable_sx=function(e){return(0,f.Z)({sx:e,theme:this})},_}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},NA:function(){return m},e6:function(){return b},o3:function(){return _}});var r=n(885),i=n(1184),o=n(8529),a=n(8247);var s={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],o=n[1],a=s[i],l=u[o]||"";return Array.isArray(l)?l.map((function(e){return a+e})):[a+l]})),h=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(h,f);function p(e,t,n,r){var i,a=null!=(i=(0,o.DW)(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var o=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),a=e[n];return(0,i.k9)(e,a,o)}function y(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return g(e,t,r,n)})).reduce(a.Z,{})}function b(e){return y(e,h)}function _(e){return y(e,f)}function w(e){return y(e,d)}b.propTypes={},b.filterProps=h,_.propTypes={},_.filterProps=f,w.propTypes={},w.filterProps=d},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return a},Jq:function(){return s}});var r=n(4942),i=n(7312),o=n(1184);function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function s(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:a(e,n)||i,t&&(r=t(r,i,e)),r}t.ZP=function(e){var t=e.prop,n=e.cssProperty,u=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,h=function(e){if(null==e[t])return null;var n=e[t],h=a(e.theme,c)||{};return(0,o.k9)(e,n,(function(e){var n=s(h,l,e);return e===n&&"string"===typeof e&&(n=s(h,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===u?n:(0,r.Z)({},u,n)}))};return h.propTypes={},h.filterProps=[t],h}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(5682),i=n(8529),o=n(8247);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,o.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},s=n(1184);function u(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=(0,i.ZP)({prop:"border",themeKey:"borders",transform:u}),l=(0,i.ZP)({prop:"borderTop",themeKey:"borders",transform:u}),h=(0,i.ZP)({prop:"borderRight",themeKey:"borders",transform:u}),f=(0,i.ZP)({prop:"borderBottom",themeKey:"borders",transform:u}),d=(0,i.ZP)({prop:"borderLeft",themeKey:"borders",transform:u}),p=(0,i.ZP)({prop:"borderColor",themeKey:"palette"}),v=(0,i.ZP)({prop:"borderTopColor",themeKey:"palette"}),m=(0,i.ZP)({prop:"borderRightColor",themeKey:"palette"}),g=(0,i.ZP)({prop:"borderBottomColor",themeKey:"palette"}),y=(0,i.ZP)({prop:"borderLeftColor",themeKey:"palette"}),b=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,r.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["borderRadius"];a(c,l,h,f,d,p,v,m,g,y,b);var _=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,r.eI)(e.theme,"spacing",8,"gap");return(0,s.k9)(e,e.gap,(function(e){return{gap:(0,r.NA)(t,e)}}))}return null};_.propTypes={},_.filterProps=["gap"];var w=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,r.eI)(e.theme,"spacing",8,"columnGap");return(0,s.k9)(e,e.columnGap,(function(e){return{columnGap:(0,r.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["columnGap"];var x=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,r.eI)(e.theme,"spacing",8,"rowGap");return(0,s.k9)(e,e.rowGap,(function(e){return{rowGap:(0,r.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["rowGap"];a(_,w,x,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function S(e,t){return"grey"===t?t:e}a((0,i.ZP)({prop:"color",themeKey:"palette",transform:S}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:S}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:S}));function E(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var k=(0,i.ZP)({prop:"width",transform:E}),C=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,s.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||s.VO[t]||E(t)}}))}return null};C.filterProps=["maxWidth"];var T=(0,i.ZP)({prop:"minWidth",transform:E}),I=(0,i.ZP)({prop:"height",transform:E}),N=(0,i.ZP)({prop:"maxHeight",transform:E}),P=(0,i.ZP)({prop:"minHeight",transform:E}),A=((0,i.ZP)({prop:"size",cssProperty:"width",transform:E}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:E}),a(k,C,T,I,N,P,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:u},borderTop:{themeKey:"borders",transform:u},borderRight:{themeKey:"borders",transform:u},borderBottom:{themeKey:"borders",transform:u},borderLeft:{themeKey:"borders",transform:u},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:b},color:{themeKey:"palette",transform:S},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:S},backgroundColor:{themeKey:"palette",transform:S},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:_},rowGap:{style:x},columnGap:{style:w},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:E},maxWidth:{style:C},minWidth:{transform:E},height:{transform:E},maxHeight:{transform:E},minHeight:{transform:E},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:function(e,t,n){"use strict";var r=n(4942),i=n(7312),o=n(8247),a=n(8529),s=n(1184),u=n(7416);var c=function(){function e(e,t,n,o){var u,c=(u={},(0,r.Z)(u,e,t),(0,r.Z)(u,"theme",n),u),l=o[e];if(!l)return(0,r.Z)({},e,t);var h=l.cssProperty,f=void 0===h?e:h,d=l.themeKey,p=l.transform,v=l.style;if(null==t)return null;var m=(0,a.DW)(n,d)||{};if(v)return v(c);return(0,s.k9)(c,t,(function(t){var n=(0,a.Jq)(m,p,t);return t===n&&"string"===typeof t&&(n=(0,a.Jq)(m,p,"".concat(e).concat("default"===t?"":(0,i.Z)(t)),t)),!1===f?n:(0,r.Z)({},f,n)}))}return function t(n){var i,a=n||{},c=a.sx,l=a.theme,h=void 0===l?{}:l;if(!c)return null;var f=null!=(i=h.unstable_sxConfig)?i:u.Z;function d(n){var i=n;if("function"===typeof n)i=n(h);else if("object"!==typeof n)return n;if(!i)return null;var a=(0,s.W8)(h.breakpoints),u=Object.keys(a),c=a;return Object.keys(i).forEach((function(n){var a,u,l=(a=i[n],u=h,"function"===typeof a?a(u):a);if(null!==l&&void 0!==l)if("object"===typeof l)if(f[n])c=(0,o.Z)(c,e(n,l,h,f));else{var d=(0,s.k9)({theme:h},l,(function(e){return(0,r.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(d,l)?c=(0,o.Z)(c,d):c[n]=t({sx:l,theme:h})}else c=(0,o.Z)(c,e(n,l,h,f))})),(0,s.L7)(u,c)}return Array.isArray(c)?c.map(d):d(c)}}();c.filterProps=["sx"],t.Z=c},418:function(e,t,n){"use strict";var r=n(5080),i=n(7301),o=(0,r.Z)();t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,i.Z)(e)}},7301:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(2791);var i=r.createContext(null);function o(){return r.useContext(i)}function a(e){return 0===Object.keys(e).length}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=o();return!t||a(t)?e:t}},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},8949:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return o}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},a=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=o(e[r],t[r],n):a[r]=t[r])})),a}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",o=i[t];return o?"".concat(n,"-").concat(o):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},9723:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7979:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9723);function i(e){return(0,r.Z)(e).defaultView||window}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},8959:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(885),i=n(2791);function o(e){var t=e.controlled,n=e.default,o=(e.name,e.state,i.useRef(void 0!==t).current),a=i.useState(n),s=(0,r.Z)(a,2),u=s[0],c=s[1];return[o?t:u,i.useCallback((function(e){o||c(e)}),[])]}},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},8956:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i=n(5721);function o(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},7563:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i=n(2971);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,i.Z)(t,e)}))}}),t)}},5372:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r,i=n(2791),o=!0,a=!1,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function l(){"hidden"===this.visibilityState&&a&&(o=!0)}function h(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function f(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,window.clearTimeout(r),r=window.setTimeout((function(){a=!1}),100),t.current=!1,!0)},ref:e}}},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},7340:function(e,t,n){"use strict";n.r(t),n.d(t,{CountUp:function(){return i}});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=function(){function e(e,t,n){var i=this;this.endVal=t,this.options=n,this.version="2.3.2",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(e){i.startTime||(i.startTime=e);var t=e-i.startTime;i.remaining=i.duration-t,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(t,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(t,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(t/i.duration);var n=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=n?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),t<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.callback&&i.callback()},this.formatNumber=function(e){var t,n,r,o,a=e<0?"-":"";t=Math.abs(e).toFixed(i.options.decimalPlaces);var s=(t+="").split(".");if(n=s[0],r=s.length>1?i.options.decimal+s[1]:"",i.options.useGrouping){o="";for(var u=0,c=n.length;u<c;++u)0!==u&&u%3==0&&(o=i.options.separator+o),o=n[c-u-1]+o;n=o}return i.options.numerals&&i.options.numerals.length&&(n=n.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]})),r=r.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]}))),a+i.options.prefix+n+r+i.options.suffix},this.easeOutExpo=function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))*1024/1023+t},this.options=r(r({},this.defaults),n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof e?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return i.handleScroll(i)})),window.onscroll=function(){window.onScrollFns.forEach((function(e){return e()}))},this.handleScroll(this)))}return e.prototype.handleScroll=function(e){if(e&&window&&!e.once){var t=window.innerHeight+window.scrollY,n=e.el.getBoundingClientRect(),r=n.top+n.height+window.pageYOffset;r<t&&r>window.scrollY&&e.paused?(e.paused=!1,setTimeout((function(){return e.start()}),e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):window.scrollY>r&&!e.paused&&e.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var n=this.countDown?1:-1;this.endVal=e+n*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(e){this.error||(this.callback=e,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t=this.formattingFn(e);"INPUT"===this.el.tagName?this.el.value=t:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=t:this.el.innerHTML=t},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}()},7143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5:function(e,t,n){var r=n(215).default,i=["styles"],o=["styles"];!function(){"use strict";var t={n:function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{Chatbot:function(){return F},createChatBotMessage:function(){return d},createClientMessage:function(){return v},createCustomMessage:function(){return p},default:function(){return U},useChatbot:function(){return L}});var s=n(2791),u=t.n(s),c=n(1200),l=t.n(c),h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},f=function(e,t){return{message:e,type:t,id:Math.round(Date.now()*Math.random())}},d=function(e,t){return h(h(h({},f(e,"bot")),t),{loading:!0})},p=function(e,t,n){return h(h({},f(e,t)),n)},v=function(e,t){return h(h({},f(e,"user")),t)},m=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e)return e.apply(void 0,t)};function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}var y=function(e){e.styles;var t=r(e,i);return u().createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},t),u().createElement("path",{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"}))},b=function(e){var t=e.message,n=e.customComponents;return u().createElement("div",{className:"react-chatbot-kit-user-chat-message-container"},u().createElement(l(),{condition:!!n.userChatMessage,show:m(n.userChatMessage,{message:t}),elseShow:u().createElement("div",{className:"react-chatbot-kit-user-chat-message"},t,u().createElement("div",{className:"react-chatbot-kit-user-chat-message-arrow"}))}),u().createElement(l(),{condition:!!n.userAvatar,show:m(n.userAvatar),elseShow:u().createElement("div",{className:"react-chatbot-kit-user-avatar"},u().createElement("div",{className:"react-chatbot-kit-user-avatar-container"},u().createElement(y,{className:"react-chatbot-kit-user-avatar-icon"})))}))},_=function(){return u().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar"},u().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar-container"},u().createElement("p",{className:"react-chatbot-kit-chat-bot-avatar-letter"},"B")))},w=function(){return u().createElement("div",{className:"chatbot-loader-container"},u().createElement("svg",{id:"dots",width:"50px",height:"21px",viewBox:"0 0 132 58",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},u().createElement("g",{stroke:"none",fill:"none"},u().createElement("g",{id:"chatbot-loader",fill:"#fff"},u().createElement("circle",{id:"chatbot-loader-dot1",cx:"25",cy:"30",r:"13"}),u().createElement("circle",{id:"chatbot-loader-dot2",cx:"65",cy:"30",r:"13"}),u().createElement("circle",{id:"chatbot-loader-dot3",cx:"105",cy:"30",r:"13"})))))},x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)},S=function(e){var t=e.message,n=e.withAvatar,r=void 0===n||n,i=e.loading,o=e.messages,a=e.customComponents,c=e.setState,h=e.customStyles,f=e.delay,d=e.id,p=(0,s.useState)(!1),v=p[0],g=p[1];(0,s.useEffect)((function(){var e;return function(t,n){var r=750;f&&(r+=f),e=setTimeout((function(){var e=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],t,!0).find((function(e){return e.id===d}));e&&(e.loading=!1,e.delay=void 0,n((function(t){var n=t.messages,r=n.findIndex((function(e){return e.id===d}));return n[r]=e,x(x({},t),{messages:n})})))}),r)}(o,c),function(){clearTimeout(e)}}),[f,d]),(0,s.useEffect)((function(){f?setTimeout((function(){return g(!0)}),f):g(!0)}),[f]);var y={backgroundColor:""},b={borderRightColor:""};return h&&(y.backgroundColor=h.backgroundColor,b.borderRightColor=h.backgroundColor),u().createElement(l(),{condition:v,show:u().createElement("div",{className:"react-chatbot-kit-chat-bot-message-container"},u().createElement(l(),{condition:r,show:u().createElement(l(),{condition:!!(null==a?void 0:a.botAvatar),show:m(null==a?void 0:a.botAvatar),elseShow:u().createElement(_,null)})}),u().createElement(l(),{condition:!!(null==a?void 0:a.botChatMessage),show:m(null==a?void 0:a.botChatMessage,{message:t,loader:u().createElement(w,null)}),elseShow:u().createElement("div",{className:"react-chatbot-kit-chat-bot-message",style:y},u().createElement(l(),{condition:i,show:u().createElement(w,null),elseShow:u().createElement("span",null,t)}),u().createElement(l(),{condition:r,show:u().createElement("div",{className:"react-chatbot-kit-chat-bot-message-arrow",style:b})}))}))})};function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}var k=function(e){e.styles;var t=r(e,o);return u().createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},t),u().createElement("path",{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}))},C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},C.apply(this,arguments)},T=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},I=function(e){var t=e.state,n=e.setState,r=e.widgetRegistry,i=e.messageParser,o=e.parse,a=e.customComponents,c=e.actionProvider,h=e.botName,d=e.customStyles,p=e.headerText,v=e.customMessages,m=e.placeholderText,g=e.validator,y=e.setMessageContainerRef,_=e.disableScrollToBottom,w=e.messageHistory,x=e.actions,E=t.messages,I=(0,s.useRef)(null),N=(0,s.useState)(""),P=N[0],A=N[1],R=function(){setTimeout((function(){var e;I.current&&(I.current.scrollTop=null===(e=null==I?void 0:I.current)||void 0===e?void 0:e.scrollHeight)}),50)};(0,s.useEffect)((function(){_||R()})),(0,s.useEffect)((function(){y(I)}),[I.current]);var O=function(){n((function(e){return C(C({},e),{messages:T(T([],e.messages,!0),[f(P,"user")],!1)})})),R(),A("")},M={backgroundColor:""};d&&d.chatButton&&(M.backgroundColor=d.chatButton.backgroundColor);var D="Conversation with "+h;p&&(D=p);var L="Write your message here";return m&&(L=m),u().createElement("div",{className:"react-chatbot-kit-chat-container"},u().createElement("div",{className:"react-chatbot-kit-chat-inner-container"},u().createElement(l(),{condition:!!a.header,show:a.header&&a.header(c),elseShow:u().createElement("div",{className:"react-chatbot-kit-chat-header"},D)}),u().createElement("div",{className:"react-chatbot-kit-chat-message-container",ref:I},u().createElement(l(),{condition:"string"==typeof w&&Boolean(w),show:u().createElement("div",{dangerouslySetInnerHTML:{__html:w}})}),E.map((function(e,i){return"bot"===e.type?u().createElement(u().Fragment,{key:e.id},function(e,i){var o;o=e.withAvatar?e.withAvatar:function(e,t){if(0===t)return!0;var n=e[t-1];return!("bot"===n.type&&!n.widget)}(E,i);var s=C(C({},e),{setState:n,state:t,customComponents:a,widgetRegistry:r,messages:E,actions:x});if(e.widget){var c=r.getWidget(s.widget,C(C({},t),{scrollIntoView:R,payload:e.payload,actions:x}));return u().createElement(u().Fragment,null,u().createElement(S,C({customStyles:d.botMessageBox,withAvatar:o},s,{key:e.id})),u().createElement(l(),{condition:!s.loading,show:c||null}))}return u().createElement(S,C({customStyles:d.botMessageBox,key:e.id,withAvatar:o},s,{customComponents:a,messages:E,setState:n}))}(e,i)):"user"===e.type?u().createElement(u().Fragment,{key:e.id},function(e){var n=r.getWidget(e.widget,C(C({},t),{scrollIntoView:R,payload:e.payload,actions:x}));return u().createElement(u().Fragment,null,u().createElement(b,{message:e.message,key:e.id,customComponents:a}),n||null)}(e)):function(e,t){return!!t[e.type]}(e,v)?u().createElement(u().Fragment,{key:e.id},function(e){var i=v[e.type],o={setState:n,state:t,scrollIntoView:R,actionProvider:c,payload:e.payload,actions:x};if(e.widget){var a=r.getWidget(e.widget,C(C({},t),{scrollIntoView:R,payload:e.payload,actions:x}));return u().createElement(u().Fragment,null,i(o),a||null)}return i(o)}(e)):void 0})),u().createElement("div",{style:{paddingBottom:"15px"}})),u().createElement("div",{className:"react-chatbot-kit-chat-input-container"},u().createElement("form",{className:"react-chatbot-kit-chat-input-form",onSubmit:function(e){if(e.preventDefault(),g&&"function"==typeof g){if(g(P)){if(O(),o)return o(P);i.parse(P)}}else{if(O(),o)return o(P);i.parse(P)}}},u().createElement("input",{className:"react-chatbot-kit-chat-input",placeholder:L,value:P,onChange:function(e){return A(e.target.value)}}),u().createElement("button",{className:"react-chatbot-kit-chat-btn-send",style:M},u().createElement(k,{className:"react-chatbot-kit-chat-btn-send-icon"}))))))},N=function(e){var t=e.message;return u().createElement("div",{className:"react-chatbot-kit-error"},u().createElement("h1",{className:"react-chatbot-kit-error-header"},"Ooops. Something is missing."),u().createElement("div",{className:"react-chatbot-kit-error-container"},u().createElement(S,{message:t,withAvatar:!0,loading:!1,id:1,customStyles:{backgroundColor:""},messages:[]})),u().createElement("a",{href:"https://fredrikoseberg.github.io/react-chatbot-kit-docs/",rel:"noopener norefferer",target:"_blank",className:"react-chatbot-kit-error-docs"},"View the docs"))},P=function(e){return e.widgets?e.widgets:[]},A=function(e){try{new e}catch(e){return!1}return!0},R=function(){return R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},R.apply(this,arguments)},O=function(e,t){var n=this;this.addWidget=function(e,t){var r=e.widgetName,i=e.widgetFunc,o=e.mapStateToProps,a=e.props;n[r]={widget:i,props:a,mapStateToProps:o,parentProps:R({},t)}},this.getWidget=function(e,t){var r=n[e];if(r){var i,o=R(R(R(R({scrollIntoView:t.scrollIntoView},r.parentProps),"object"==typeof(i=r.props)?i:{}),n.mapStateToProps(r.mapStateToProps,t)),{setState:n.setState,actionProvider:n.actionProvider||t.actions,actions:t.actions,state:t,payload:t.payload});return r.widget(o)||null}},this.mapStateToProps=function(e,t){if(e)return e.reduce((function(e,n){return e[n]=t[n],e}),{})},this.setState=e,this.actionProvider=t},M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M.apply(this,arguments)},D=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},L=function(e){var t=e.config,n=e.actionProvider,r=e.messageParser,i=e.messageHistory,o=e.runInitialMessagesWithHistory,a=e.saveMessages,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["config","actionProvider","messageParser","messageHistory","runInitialMessagesWithHistory","saveMessages"]),l="",h="";if(!t||!n||!r)return{configurationError:l="I think you forgot to feed me some props. Did you remember to pass a config, a messageparser and an actionprovider?"};var f=function(e,t){var n=[];return e.initialMessages||n.push("Config must contain property 'initialMessages', and it expects it to be an array of chatbotmessages."),n}(t);if(f.length)return{invalidPropsError:h=f.reduce((function(e,t){return e+t}),"")};var m=(0,s.useState)({}),g=m[0],y=m[1],b=function(e){return e.state?e.state:{}}(t);i&&Array.isArray(i)?t.initialMessages=D([],i,!0):"string"==typeof i&&Boolean(i)&&(o||(t.initialMessages=[]));var _,w,x,S=u().useState(M({messages:D([],t.initialMessages,!0)},b)),E=S[0],k=S[1],C=u().useRef(E.messages),T=u().useRef();(0,s.useEffect)((function(){C.current=E.messages})),(0,s.useEffect)((function(){i&&Array.isArray(i)&&k((function(e){return M(M({},e),{messages:i})}))}),[]),(0,s.useEffect)((function(){return function(){var e;if(a&&"function"==typeof a){var t=null===(e=null==g?void 0:g.current)||void 0===e?void 0:e.innerHTML.toString();if(!g.current)return;a(C.current,t)}}}),[g.current]),(0,s.useEffect)((function(){T.current=E}),[E]);var I=n,N=r;return A(I)&&A(N)?(_=new n(d,k,v,T.current,p,c),w=new O(k,_),x=new r(_,T.current),P(t).forEach((function(e){return null==w?void 0:w.addWidget(e,c)}))):(_=n,x=r,w=new O(k,null),P(t).forEach((function(e){return null==w?void 0:w.addWidget(e,c)}))),{widgetRegistry:w,actionProv:_,messagePars:x,configurationError:l,invalidPropsError:h,state:E,setState:k,setMessageContainerRef:y,ActionProvider:I,MessageParser:N}},j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)},F=function(e){var t=e.actionProvider,n=e.messageParser,r=e.config,i=e.headerText,o=e.placeholderText,a=e.saveMessages,s=e.messageHistory,c=e.runInitialMessagesWithHistory,l=e.disableScrollToBottom,h=e.validator,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["actionProvider","messageParser","config","headerText","placeholderText","saveMessages","messageHistory","runInitialMessagesWithHistory","disableScrollToBottom","validator"]),p=L(j({config:r,actionProvider:t,messageParser:n,messageHistory:s,saveMessages:a,runInitialMessagesWithHistory:c},f)),v=p.configurationError,m=p.invalidPropsError,g=p.ActionProvider,y=p.MessageParser,b=p.widgetRegistry,_=p.actionProv,w=p.messagePars,x=p.state,S=p.setState,E=p.setMessageContainerRef;if(v)return u().createElement(N,{message:v});if(m.length)return u().createElement(N,{message:m});var k=function(e){return e.customStyles?e.customStyles:{}}(r),C=function(e){return e.customComponents?e.customComponents:{}}(r),T=function(e){return e.botName?e.botName:"Bot"}(r),P=function(e){return e.customMessages?e.customMessages:{}}(r);return A(g)&&A(y)?u().createElement(I,{state:x,setState:S,widgetRegistry:b,actionProvider:_,messageParser:w,customMessages:P,customComponents:j({},C),botName:T,customStyles:j({},k),headerText:i,placeholderText:o,setMessageContainerRef:E,validator:h,messageHistory:s,disableScrollToBottom:l}):u().createElement(g,{setState:S,createChatBotMessage:d},u().createElement(y,null,u().createElement(I,{state:x,setState:S,widgetRegistry:b,actionProvider:g,messageParser:y,customMessages:P,customComponents:j({},C),botName:T,customStyles:j({},k),headerText:i,placeholderText:o,setMessageContainerRef:E,validator:h,messageHistory:s,disableScrollToBottom:l})))},U=F;e.exports=a}()},1200:function(e){!function(){"use strict";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:function(){return r}});var r=function(e){var t=e.condition,n=e.show,r=e.elseShow,i=function(e){return"function"==typeof e},o=function(e){return e()||(console.warn("Nothing was returned from your render function. Please make sure you are returning a valid React element."),null)};return t?i(n)?o(n):n:!t&&r?i(r)?o(r):r:null};e.exports=n}()},835:function(e,t,n){"use strict";var r=n(2791),i=n(7340);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function h(e){var t=r.useRef(e);return l((function(){t.current=e})),r.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}var f=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],d={decimal:".",delay:null,prefix:"",suffix:"",duration:2,start:0,startOnMount:!0,enableReinitialize:!0},p=function(e){var t=r.useMemo((function(){return a(a({},d),e)}),[e]),n=t.ref,o=t.startOnMount,s=t.enableReinitialize,u=t.delay,l=t.onEnd,p=t.onStart,v=t.onPauseResume,m=t.onReset,g=t.onUpdate,y=c(t,f),b=r.useRef(),_=r.useRef(),w=r.useRef(!1),x=h((function(){return function(e,t){var n=t.decimal,r=t.decimals,o=t.duration,a=t.easingFn,s=t.end,u=t.formattingFn,c=t.numerals,l=t.prefix,h=t.separator,f=t.start,d=t.suffix,p=t.useEasing,v=t.enableScrollSpy,m=t.scrollSpyDelay,g=t.scrollSpyOnce;return new i.CountUp(e,s,{startVal:f,duration:o,decimal:n,decimalPlaces:r,easingFn:a,formattingFn:u,numerals:c,separator:h,prefix:l,suffix:d,useEasing:p,useGrouping:!!h,enableScrollSpy:v,scrollSpyDelay:m,scrollSpyOnce:g})}("string"===typeof n?n:n.current,y)})),S=h((function(e){var t=b.current;if(t&&!e)return t;var n=x();return b.current=n,n})),E=h((function(){var e=function(){return S(!0).start((function(){null===l||void 0===l||l({pauseResume:k,reset:C,start:I,update:T})}))};u&&u>0?_.current=setTimeout(e,1e3*u):e(),null===p||void 0===p||p({pauseResume:k,reset:C,update:T})})),k=h((function(){S().pauseResume(),null===v||void 0===v||v({reset:C,start:I,update:T})})),C=h((function(){S().el&&(_.current&&clearTimeout(_.current),S().reset(),null===m||void 0===m||m({pauseResume:k,start:I,update:T}))})),T=h((function(e){S().update(e),null===g||void 0===g||g({pauseResume:k,reset:C,start:I})})),I=h((function(){C(),E()})),N=h((function(e){o&&(e&&C(),E())}));return r.useEffect((function(){w.current?s&&N(!0):(w.current=!0,N())}),[s,w,N,u,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),r.useEffect((function(){return function(){C()}}),[C]),{start:I,pauseResume:k,reset:C,update:T,getCountUp:S}},v=["className","redraw","containerProps","children","style"];t.ZP=function(e){var t=e.className,n=e.redraw,i=e.containerProps,o=e.children,s=e.style,l=c(e,v),f=r.useRef(null),d=r.useRef(!1),m=p(a(a({},l),{},{ref:f,startOnMount:"function"!==typeof o||0===e.delay,enableReinitialize:!1})),g=m.start,y=m.reset,b=m.update,_=m.pauseResume,w=m.getCountUp,x=h((function(){g()})),S=h((function(t){e.preserveValue||y(),b(t)})),E=h((function(){"function"!==typeof e.children||f.current instanceof Element?w():console.error('Couldn\'t find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.')}));r.useEffect((function(){E()}),[E]),r.useEffect((function(){d.current&&S(e.end)}),[e.end,S]);var k=n&&e;return r.useEffect((function(){n&&d.current&&x()}),[x,n,k]),r.useEffect((function(){!n&&d.current&&x()}),[x,n,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),r.useEffect((function(){d.current=!0}),[]),"function"===typeof o?o({countUpRef:f,start:g,reset:y,update:b,pauseResume:_,getCountUp:w}):r.createElement("span",u({className:t,ref:f,style:s},i),"undefined"!==typeof e.start?w().formattingFn(e.start):"")}},2482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(2007)),a=u(n(2791)),s=n(4432);function u(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:o.default.oneOfType([o.default.string,o.default.oneOf([!0])]),thousandSpacing:o.default.oneOf(["2","2s","3","4"]),decimalSeparator:o.default.string,decimalScale:o.default.number,fixedDecimalScale:o.default.bool,displayType:o.default.oneOf(["input","text"]),prefix:o.default.string,suffix:o.default.string,format:o.default.oneOfType([o.default.string,o.default.func]),removeFormatting:o.default.func,mask:o.default.oneOfType([o.default.string,o.default.arrayOf(o.default.string)]),value:o.default.oneOfType([o.default.number,o.default.string]),isNumericString:o.default.bool,customInput:o.default.func,allowNegative:o.default.bool,onValueChange:o.default.func,onKeyDown:o.default.func,onMouseUp:o.default.func,onChange:o.default.func,onFocus:o.default.func,onBlur:o.default.func,type:o.default.oneOf(["text","tel"]),isAllowed:o.default.func,renderText:o.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:s.noop,onChange:s.noop,onKeyDown:s.noop,onMouseUp:s.noop,onFocus:s.noop,onBlur:s.noop,isAllowed:s.returnTrue},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",o=void 0===t.value?this.formatNumString(i):this.formatValueProp();o!==r&&this.setState({value:o,numAsString:this.removeFormatting(o)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators(),n=t.decimalSeparator,r=this.getNumberRegex(!0),i="-"===e[0];i&&(e=e.replace("-",""));var o=(e=(e.match(r)||[]).join("").replace(n,".")).indexOf(".");return-1!==o&&(e=e.substring(0,o)+"."+e.substring(o+1,e.length).replace(new RegExp((0,s.escapeRegExp)(n),"g"),"")),i&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,o=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!o||0===i||t||r?"":"|"+(0,s.escapeRegExp)(o)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,s.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,s.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,o=r.suffix,a=r.format;if(!a){var u="-"===e[0];return Math.min(Math.max(t,i.length+(u?1:0)),e.length-o.length)}if("function"===typeof a)return t;if("#"===a[t]&&(0,s.charIsNumber)(e[t]))return t;if("#"===a[t-1]&&(0,s.charIsNumber)(e[t-1]))return t;var c=a.indexOf("#"),l=a.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var h=a.substring(t,a.length).indexOf("#"),f=t,d=t+(-1===h?0:h);f>c&&("#"!==a[f]||!(0,s.charIsNumber)(e[f]));)f-=1;return!(0,s.charIsNumber)(e[d])||"left"===n&&t!==c||t-f<d-t?f+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,o=this.getNumberRegex(!0),a=(e.match(o)||[]).join(""),s=(t.match(o)||[]).join(""),u=void 0,c=void 0;for(u=0,c=0;c<n;c++){var l=e[c]||"",h=t[u]||"";if((l.match(o)||l===h)&&("0"!==l||!h.match(o)||"0"===h||a.length===s.length)){for(;l!==t[u]&&u<t.length;)u++;u++}}return"string"!==typeof r||i||(u=t.length),u=this.correctCaretPosition(t,u)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var o="-"===e[0];o&&(e=e.substring(1,e.length));var a=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==a&&a===e.length-i.length?e.substring(0,a):e,o&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,o=t.length;i<=o;i++){var a=t[i]||"",s=i===o?e.length:e.indexOf(a,n);if(-1===s){r=e;break}r+=e.substring(n,s),n=s+a.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,o=t.length;i<o;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case s.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case s.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case s.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,o=t.suffix,a=this.getSeparators(),u=a.thousandSeparator,c=a.decimalSeparator,l=a.thousandSpacing,h=-1!==e.indexOf(".")||n&&r,f=this.splitDecimal(e),d=f.beforeDecimal,p=f.afterDecimal,v=f.addNegation;return void 0!==n&&(p=(0,s.limitToScale)(p,n,r)),u&&(d=this.formatThousand(d,u,l)),i&&(d=i+d),o&&(p+=o),v&&(d="-"+d),e=d+(h&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,o=i.value,a=i.isNumericString;return void 0===o?"":("number"===typeof o&&(o=o.toString(),a=!0),a&&!t&&"number"===typeof n&&(o=(0,s.roundToPrecision)(o,n,r)),a?this.formatNumString(o):this.formatInput(o))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format;return t||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,o=n.suffix,a=n.decimalScale,s=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-o.length||a&&s&&t[e]===u))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var o=e,a=(0,s.splitString)(t,e),u=(0,s.splitString)(n,e),c=a[1].lastIndexOf(u[1]),l=o+(-1!==c?a[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(o,l,t)&&(n=t),!r){var h=this.removeFormatting(n),f=this.splitDecimal(h),d=f.beforeDecimal,p=f.afterDecimal,v=f.addNegation;if(h.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,o=i.isAllowed,a=r.value||"",s=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(s,a,n);var u=this.formatInput(n)||"",c=this.removeFormatting(u),l={formattedValue:u,value:c,floatValue:parseFloat(c)};o(l)||(u=a),t.value=u;var h=this.getCaretPosition(n,u,s);this.setPatchedCaretPosition(t,h,u),u!==a?this.setState({value:u,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,o=n.numAsString,a=n.value;if(!r){o=(0,s.fixLeadingZero)(o);var u=this.formatNumString(o),c={formattedValue:u,value:o,floatValue:parseFloat(o)};if(u!==a)return e.persist(),void this.setState({value:u,numAsString:o},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,o=t.selectionStart,a=void 0,s=this.props,u=s.decimalScale,c=s.fixedDecimalScale,l=s.prefix,h=s.suffix,f=s.format,d=s.onKeyDown,p=void 0!==u&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),g="string"===typeof f;if("ArrowLeft"===n||"Backspace"===n?a=o-1:"ArrowRight"===n?a=o+1:"Delete"===n&&(a=o),void 0!==a&&o===r){var y=a,b=g?f.indexOf("#"):l.length,_=g?f.lastIndexOf("#")+1:i.length-h.length;if("ArrowLeft"===n||"ArrowRight"===n){var w="ArrowLeft"===n?"left":"right";y=this.correctCaretPosition(i,a,w)}else if("Delete"!==n||v.test(i[a])||m.test(i[a])){if("Backspace"===n&&!v.test(i[a])&&!m.test(i[a])){for(;!v.test(i[y-1])&&y>b;)y--;y=this.correctCaretPosition(i,y,"left")}}else for(;!v.test(i[y])&&y<_;)y++;(y!==a||a<b||a>_)&&(e.preventDefault(),this.setPatchedCaretPosition(t,y,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,y,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var o=this.correctCaretPosition(i,n);o!==n&&this.setPatchedCaretPosition(t,o,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,o=t.correctCaretPosition(i,r);o!==r&&t.setPatchedCaretPosition(n,o,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,o=e.renderText,u=this.state.value,l=(0,s.omit)(this.props,c),h=r({},l,{type:t,value:u,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return o?o(u)||null:a.default.createElement("span",l,u);if(i){var f=i;return a.default.createElement(f,h)}return a.default.createElement("input",h)}}]),t}(a.default.Component);h.propTypes=c,h.defaultProps=l,e.exports=h},4432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),o=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),a=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),o[0]),s=n(o[1]||"",(i[1]||"").length,r);return a+(s?"."+s:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,j=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case k:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function oe(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ce(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ee)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(l)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(le){Oe=!1}function De(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,je=e}};function Be(e,t,n,r,i,o,a,s,u){Le=!1,je=null,De.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(ze(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,kt,Ct=!1,Tt=[],It=null,Nt=null,Pt=null,At=new Map,Rt=new Map,Ot=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Pt&&Ft(Pt)&&(Pt=null),At.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Nt&&Bt(Nt,e),null!==Pt&&Bt(Pt,e),At.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var qt=_.ReactCurrentBatchConfig,Zt=!0;function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){if(Zt){var i=$t(e,t,n,r);if(null===i)Zr(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Lt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=$t(e,t,n,r))&&Zr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=j({},cn,{view:0,detail:0}),fn=on(hn),dn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(j({},dn,{dataTransfer:0})),mn=on(j({},hn,{relatedTarget:0})),gn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),_n=on(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return En}var Cn=j({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(Cn),In=on(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(An),On=[9,13,27,32],Mn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Dn,jn=l&&(!Mn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Fr(e,0)}function $n(e){if(K(_i(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];Hn(t,Kn,e,we(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function kr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=kr("animationend"),Tr=kr("animationiteration"),Ir=kr("animationstart"),Nr=kr("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Mr=Ar[Or];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(o(198));var l=je;Le=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=o,i=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Cr:case Tr:case Ir:u=gn;break;case Nr:u=Pn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Re(p,f))&&l.push(Hr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:_i(u),d=null==c?s:_i(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=f;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)f=Kr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Kr(l),f=Kr(f)}l=null}else l=null;null!==u&&Gr(a,s,u,l,!1),null!==c&&null!==h&&Gr(a,h,c,l,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(Zn(s))if(Yn)m=ar;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Hn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?_i(r):window,e){case"focusin":(Zn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(g=Wr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Mn&&Vn(e,t)?(e=en(),Jt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Re(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,o))&&a.unshift(Hr(n,u,s)):i||null!=(u=Re(n,o))&&a.push(Hr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function ki(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ci(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ii=Ei(Ti),Ni=Ei(!1),Pi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ni),ki(Ii)}function Mi(e,t,n){if(Ii.current!==Ti)throw Error(o(168));Ci(Ii,t),Ci(Ni,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(Ii),Ci(Ii,e)):ki(Ni),Ci(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Je,zi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Zi=0,Hi=null,Wi=0,Ki=[],Gi=0,$i=null,Qi=1,Yi="";function Xi(e,t){qi[Zi++]=Wi,qi[Zi++]=Hi,Hi=e,Wi=t}function Ji(e,t,n){Ki[Gi++]=Qi,Ki[Gi++]=Yi,Ki[Gi++]=$i,$i=e;var r=Qi;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Qi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Zi],qi[Zi]=null,Wi=qi[--Zi],qi[Zi]=null;for(;e===$i;)$i=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,Qi=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=_.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ei(null),bo=null,_o=null,wo=null;function xo(){wo=_o=bo=null}function So(e){var t=yo.current;ki(yo),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var To=null;function Io(e){null===To?To=[e]:To.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=j({},h,f);break e;case 2:Ao=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Lu|=a,e.lanes=a,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Mo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(nc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Mo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(nc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Mo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Do(e,i,r))&&(nc(t,e,r,n),Lo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Zo(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Ri(t)?Pi:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Ri(t)?Pi:Ii.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&$o(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,h=o,v=o=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,h=m}if(v===s.length)return n(i,h),io&&Xi(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return io&&Xi(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),io&&Xi(i,v),c}function m(i,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===h?l=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),io&&Xi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return io&&Xi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Xi(i,m),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===S){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&$o(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Ko(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===S?((o=Dc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Mc(a.type,a.key,a.props,null,r.mode,u)).ref=Ko(r,o,a),u.return=r,r=u)}return s(r);case x:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,u)).return=r,r=o}return s(r);case R:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(D(a))return m(r,o,a,u);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Yo=Qo(!0),Xo=Qo(!1),Jo={},ea=Ei(Jo),ta=Ei(Jo),na=Ei(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ci(na,t),Ci(ta,e),Ci(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(ea),Ci(ea,t)}function oa(){ki(ea),ki(ta),ki(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ci(ta,e),Ci(ea,n))}function sa(e){ta.current===e&&(ki(ea),ki(ta))}var ua=Ei(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ha(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=_.ReactCurrentDispatcher,da=_.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ga=null,ya=!1,ba=!1,_a=0,wa=0;function xa(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,t.updateQueue=null,fa.current=cs,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==ma&&null!==ma.next,pa=0,ga=ma=va=null,ya=!1,t)throw Error(o(300));return e}function ka(){var e=0!==_a;return _a=0,e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function Ta(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function Ia(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,va.lanes|=h,Lu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Lu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ra(e,t){var n=va,r=Ta(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Za(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Ma.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(o(349));0!==(30&pa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&ja(e)}function Da(e,t,n){return n((function(){La(t)&&ja(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=Po(e,1);null!==t&&nc(t,e,1,-1)}function Fa(e){var t=Ca();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ta().memoizedState}function Ba(e,t,n,r){var i=Ca();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ta();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function qa(e,t){return Ba(8390656,8,e,t)}function Za(e,t){return za(2048,8,e,t)}function Ha(e,t){return za(4,2,e,t)}function Wa(e,t){return za(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ka.bind(null,t,e),n)}function $a(){}function Qa(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Lu|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return Ta().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=No(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Io(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Co,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:Co,useCallback:function(e,t){return Ca().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ca().memoizedState=e},useState:Fa,useDebugValue:$a,useDeferredValue:function(e){return Ca().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Ja.bind(null,e[1]),Ca().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ca();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nu)throw Error(o(349));0!==(30&pa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Da.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Ma.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ca(),t=Nu.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Co,useCallback:Qa,useContext:Co,useEffect:Za,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ya,useReducer:Na,useRef:Va,useState:function(){return Na(Ia)},useDebugValue:$a,useDeferredValue:function(e){return Xa(Ta(),ma.memoizedState,e)},useTransition:function(){return[Na(Ia)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1},cs={readContext:Co,useCallback:Qa,useContext:Co,useEffect:Za,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ya,useReducer:Pa,useRef:Va,useState:function(){return Pa(Ia)},useDebugValue:$a,useDeferredValue:function(e){var t=Ta();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Pa(Ia)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zu||(Zu=!0,Hu=r),fs(0,t)},n}function vs(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Yo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ea(e,t,n,r,o,i),n=ka(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Zs(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Zs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Ts(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Ou,Ru),Ru|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Ou,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var o=Ri(n)?Pi:Ii.current;return o=Ai(t,o),ko(t,i),n=Ea(e,t,n,r,o,i),r=ka(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function Is(e,t,n,r,i){if(Ri(n)){var o=!0;Li(t)}else o=!1;if(ko(t,i),null===t.stateNode)qs(e,t),Zo(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Ai(t,c=Ri(n)?Pi:Ii.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ho(t,a,r,c),Ao=!1;var f=t.memoizedState;a.state=f,Fo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ni.current||Ao?("function"===typeof l&&(Bo(t,n,l,r),u=t.memoizedState),(s=Ao||qo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:go(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Co(u):u=Ai(t,u=Ri(n)?Pi:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Ho(t,a,r,u),Ao=!1,f=t.memoizedState,a.state=f,Fo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||Ao?("function"===typeof d&&(Bo(t,n,d,r),p=t.memoizedState),(c=Ao||qo(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Zs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),ia(e,t.containerInfo)}function As(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Os,Ms,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ds,e):Fs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=Qi,Ki[Gi++]=Yi,Ki[Gi++]=$i,Qi=e.id,Yi=e.overflow,$i=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Dc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&vo(r),Yo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ws(t),null;case 3:return r=t.stateNode,oa(),ki(Ni),ki(Ii),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ws(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ms(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ws(t),null;case 13:if(ki(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Mu&&(Mu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return oa(),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return So(t.type._context),Ws(t),null;case 19:if(ki(ua),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>zu&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ws(t),null}else 2*Ye()-a.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ua.current,Ci(ua,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),ki(Ni),ki(Ii),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(ki(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ua),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Qs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Js(n,t);case 6:var r=lu,i=hu;lu=null,fu(e,t,n),hu=i,null!==(lu=r)&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=hu,lu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),lu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Qs&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,fu(e,t,n),Qs=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,hu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));du(a,s,i),lu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ec(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Y(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,l)}switch(u){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Ec(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ec(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Ye())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(l=Qs)||h,vu(t,e),Qs=l):vu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Xs=e,h=e.child;null!==h;){for(f=Xs=h;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Js(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Xs=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Xs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Qs;s=$s;var c=Qs;if($s=a,(Qs=u)&&!c)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?xu(i):null!==u?(u.return=a,Xs=u):xu(i);for(;null!==o;)Xs=o,bu(o,t,n),o=o.sibling;Xs=i,$s=s,Qs=c}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):_u(e)}}function _u(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&iu(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function xu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Ec(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Ec(t,a,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Su,Eu=Math.ceil,ku=_.ReactCurrentDispatcher,Cu=_.ReactCurrentOwner,Tu=_.ReactCurrentBatchConfig,Iu=0,Nu=null,Pu=null,Au=0,Ru=0,Ou=Ei(0),Mu=0,Du=null,Lu=0,ju=0,Fu=0,Uu=null,Vu=null,Bu=0,zu=1/0,qu=null,Zu=!1,Hu=null,Wu=null,Ku=!1,Gu=null,$u=0,Qu=0,Yu=null,Xu=-1,Ju=0;function ec(){return 0!==(6&Iu)?Ye():-1!==Xu?Xu:Xu=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Au?Au&-Au:null!==mo.transition?(0===Ju&&(Ju=vt()),Ju):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Qu)throw Qu=0,Yu=null,Error(o(185));gt(e,n,r),0!==(2&Iu)&&e===Nu||(e===Nu&&(0===(2&Iu)&&(ju|=n),4===Mu&&sc(e,Au)),rc(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(zu=Ye()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Nu?Au:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),ai((function(){0===(6&Iu)&&zi()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xu=-1,Ju=0,0!==(6&Iu))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ft(e,e===Nu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Iu;Iu|=2;var a=pc();for(Nu===e&&Au===t||(qu=null,zu=Ye()+500,fc(e,t));;)try{yc();break}catch(u){dc(e,u)}xo(),ku.current=a,Iu=i,null!==Pu?t=0:(Nu=null,Au=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Du,fc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Du,fc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Vu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),t);break}wc(e,Vu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),r);break}wc(e,Vu,qu);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&ac(t)),e}function ac(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Iu))throw Error(o(327));xc();var t=ft(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Du,fc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,qu),rc(e,Ye()),null}function cc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(zu=Ye()+500,Ui&&zi())}}function lc(e){null!==Gu&&0===Gu.tag&&0===(6&Iu)&&xc();var t=Iu;Iu|=1;var n=Tu.transition,r=bt;try{if(Tu.transition=null,bt=1,e)return e()}finally{bt=r,Tu.transition=n,0===(6&(Iu=t))&&zi()}}function hc(){Ru=Ou.current,ki(Ou)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:oa(),ki(Ni),ki(Ii),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:ki(ua);break;case 10:So(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Pu=e=Oc(e.current,null),Au=Ru=t,Mu=0,Du=null,Fu=ju=Lu=0,Vu=Uu=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}To=null}return e}function dc(e,t){for(;;){var n=Pu;try{if(xo(),fa.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ga=ma=va=null,ba=!1,_a=0,Cu.current=null,null===n||null===n.return){Mu=1,Du=t,Pu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Mu&&(Mu=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wu||!Wu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(_){t=_,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function pc(){var e=ku.current;return ku.current=as,null===e?as:e}function vc(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Nu||0===(268435455&Lu)&&0===(268435455&ju)||sc(Nu,Au)}function mc(e,t){var n=Iu;Iu|=2;var r=pc();for(Nu===e&&Au===t||(qu=null,fc(e,t));;)try{gc();break}catch(i){dc(e,i)}if(xo(),Iu=n,ku.current=r,null!==Pu)throw Error(o(261));return Nu=null,Au=0,Mu}function gc(){for(;null!==Pu;)bc(Pu)}function yc(){for(;null!==Pu&&!$e();)bc(Pu)}function bc(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?_c(e):Pu=t,Cu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ru)))return void(Pu=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Mu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Mu&&(Mu=5)}function wc(e,t,n){var r=bt,i=Tu.transition;try{Tu.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Gu);if(0!==(6&Iu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nu&&(Pu=Nu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Nc(tt,(function(){return xc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tu.transition,Tu.transition=null;var s=bt;bt=1;var u=Iu;Iu|=4,Cu.current=null,function(e,t){if(ei=Zt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Zt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Zt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Qe(),Iu=u,bt=s,Tu.transition=a}else e.current=n;if(Ku&&(Ku=!1,Gu=e,$u=i),0===(a=e.pendingLanes)&&(Wu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Zu)throw Zu=!1,e=Hu,Hu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),0!==(1&(a=e.pendingLanes))?e===Yu?Qu++:(Qu=0,Yu=e):Qu=0,zi()}(e,t,n,r)}finally{Tu.transition=i,bt=r}return null}function xc(){if(null!==Gu){var e=_t($u),t=Tu.transition,n=bt;try{if(Tu.transition=null,bt=16>e?16:e,null===Gu)var r=!1;else{if(e=Gu,Gu=null,$u=0,0!==(6&Iu))throw Error(o(331));var i=Iu;for(Iu|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var h=Xs;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var f=h.child;if(null!==f)f.return=h,Xs=f;else for(;null!==Xs;){var d=(h=Xs).sibling,p=h.return;if(ou(h),h===l){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Iu=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Tu.transition=t}}return!1}function Sc(e,t,n){e=Do(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Do(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Au&n)===n&&(4===Mu||3===Mu&&(130023424&Au)===Au&&500>Ye()-Bu?fc(e,0):Fu|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Po(e,t))&&(gt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Dc(n.children,i,a,t);case E:s=8,i|=8;break;case k:return(e=Ac(12,n,t,2|i)).elementType=k,e.lanes=a,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=a,e;case P:return(e=Ac(19,n,t,i)).elementType=P,e.lanes=a,e;case O:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case I:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function qc(e,t,n,r,i,o,a,s,u){return(e=Vc(n,r,!0,e,0,o,0,s,u)).context=zc(null),n=e.current,(o=Mo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function Zc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(i,t,a))&&(nc(e,i,a,o),Lo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:aa(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ci(ua,1&ua.current),null!==(e=Zs(e,t,n))?e.sibling:null);Ci(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Zs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);ko(t,n),i=Ea(null,t,r,e,i,n);var a=ka();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Ns(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=go(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Oo(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Zs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return js(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Mo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Eo(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Eo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Co(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),Ss(e,t,r,i=go(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),qs(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,ko(t,n),Zo(t,r,i),Wo(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}Zc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Zc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(a)}Qc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zc(e,t,null,null)},Qc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Zc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Iu)&&(zu=Ye()+500,zi()))}break;case 13:lc((function(){var t=Po(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Po(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,_i,wi,Ce,Te,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+I(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+I(s=e[c],c);u+=N(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=o+I(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,_(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&M(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(C),C=-1),p=!0;var o=d;try{for(_(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),_(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&M(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function P(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=P,S=function(){R.postMessage(null)}}else S=function(){g(P,0)};function O(e){k=e,E||(E=!0,S())}function M(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(C),C=-1):m=!0,M(w,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9388:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return _},__asyncValues:function(){return x},__await:function(){return b},__awaiter:function(){return l},__classPrivateFieldGet:function(){return T},__classPrivateFieldIn:function(){return N},__classPrivateFieldSet:function(){return I},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return C},__importStar:function(){return k},__makeTemplateObject:function(){return S},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return m},__spreadArray:function(){return y},__spreadArrays:function(){return g},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return E(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function I(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function N(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".b340ee7f.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="Carstro website for the BPA 2022 competition:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkCarstro_website_for_the_BPA_2022_competition=self.webpackChunkCarstro_website_for_the_BPA_2022_competition||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(2791),t=n.t(e,2),r=n(1250),i=n(885),o=n(181);var a=n(2982);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=n(9142);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,u.Z)(r.key),r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Vv){return!1}}var v,m=n(1002);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if(t&&("object"===(0,m.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function b(e){var t=p();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function _(e,t,n){return _=p()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},_.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},w(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(v||(v={}));var S,E="popstate";function k(e){return{usr:e.state,key:e.key}}function C(e,t,n,r){return void 0===n&&(n=null),x({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?I(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function T(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function I(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function N(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:T(e);return new URL(n,t)}function P(e,t,n,r){void 0===r&&(r={});var i=r,o=i.window,a=void 0===o?document.defaultView:o,s=i.v5Compat,u=void 0!==s&&s,c=a.history,l=v.Pop,h=null;function f(){l=v.Pop,h&&h({action:l,location:d.location})}var d={get action(){return l},get location(){return e(a,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(E,f),h=e,function(){a.removeEventListener(E,f),h=null}},createHref:function(e){return t(a,e)},encodeLocation:function(e){var t=N(T(e));return x({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){l=v.Push;var r=C(d.location,e,t);n&&n(r,e);var i=k(r),o=d.createHref(r);try{c.pushState(i,"",o)}catch(s){a.location.assign(o)}u&&h&&h({action:l,location:d.location})},replace:function(e,t){l=v.Replace;var r=C(d.location,e,t);n&&n(r,e);var i=k(r),o=d.createHref(r);c.replaceState(i,"",o),u&&h&&h({action:l,location:d.location})},go:function(e){return c.go(e)}};return d}function A(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?I(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=L(i[a],F(r));return o}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(V(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var a=H([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(V(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),R(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:D(a,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(S||(S={}));var O=/^:\w+$/,M=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(M)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!M(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function L(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=j({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;o.push({params:r,pathname:H([i,l.pathname]),pathnameBase:W(H([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=H([i,l.pathnameBase]))}return o}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);B("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,i.Z)(n,2),o=r[0],a=r[1],s=t.match(o);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return B(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function F(e){try{return decodeURI(e)}catch(t){return B(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function B(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Vv){}}}function z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function q(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Z(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=I(e):(V(!(i=x({},e)).pathname||!i.pathname.includes("?"),z("?","pathname","search",i)),V(!i.pathname||!i.pathname.includes("#"),z("#","pathname","hash",i)),V(!i.search||!i.search.includes("#"),z("#","search","hash",i)));var o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(r||null==s)o=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}o=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?I(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:K(o),hash:G(s)}}(i,o),h=s&&"/"!==s&&s.endsWith("/"),f=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}var H=function(e){return e.join("/").replace(/\/\/+/g,"/")},W=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},K=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},G=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},$=function(e){f(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n)}(w(Error));var Q=l((function e(t,n,r){s(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Y(e){return e instanceof Q}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var X=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat((0,a.Z)(X)));function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}var ee="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},te=e.useState,ne=e.useEffect,re=e.useLayoutEffect,ie=e.useDebugValue;function oe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ee(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,t.useSyncExternalStore;var ae=e.createContext(null);var se=e.createContext(null);var ue=e.createContext(null);var ce=e.createContext(null);var le=e.createContext(null);var he=e.createContext(null);var fe=e.createContext({outlet:null,matches:[]});var de=e.createContext(null);function pe(){return null!=e.useContext(he)}function ve(){return pe()||V(!1),e.useContext(he).location}function me(){pe()||V(!1);var t=e.useContext(le),n=t.basename,r=t.navigator,i=e.useContext(fe).matches,o=ve().pathname,a=JSON.stringify(q(i).map((function(e){return e.pathnameBase}))),s=e.useRef(!1);e.useEffect((function(){s.current=!0}));var u=e.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=Z(e,JSON.parse(a),o,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:H([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,a,o]);return u}function ge(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(fe).matches,o=ve().pathname,a=JSON.stringify(q(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return Z(t,JSON.parse(a),o,"path"===r)}),[t,a,o,r])}function ye(){var t=function(){var t,n=e.useContext(de),r=Ee(_e.UseRouteError),i=e.useContext(fe),o=i.matches[i.matches.length-1];if(n)return n;return i||V(!1),!o.route.id&&V(!1),null==(t=r.errors)?void 0:t[o.route.id]}(),n=Y(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unhandled Thrown Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",e.createElement("code",{style:a},"errorElement")," props on\xa0",e.createElement("code",{style:a},"<Route>")))}var be,_e,we=function(t){f(r,t);var n=b(r);function r(e){var t;return s(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return l(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(de.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function xe(t){var n=t.routeContext,r=t.match,i=t.children,o=e.useContext(ae);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),e.createElement(fe.Provider,{value:n},i)}function Se(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,o=null==r?void 0:r.errors;if(null!=o){var a=i.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));a>=0||V(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((function(t,a,s){var u=a.route.id?null==o?void 0:o[a.route.id]:null,c=r?a.route.errorElement||e.createElement(ye,null):null,l=function(){return e.createElement(xe,{match:a,routeContext:{outlet:t,matches:n.concat(i.slice(0,s+1))}},u?c:void 0!==a.route.element?a.route.element:t)};return r&&(a.route.errorElement||0===s)?e.createElement(we,{location:r.location,component:c,error:u,children:l()}):l()}),null)}function Ee(t){var n=e.useContext(ue);return n||V(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(be||(be={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(_e||(_e={}));var ke;function Ce(e){V(!1)}function Te(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,o=void 0===i?null:i,a=t.location,s=t.navigationType,u=void 0===s?v.Pop:s,c=t.navigator,l=t.static,h=void 0!==l&&l;pe()&&V(!1);var f=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof a&&(a=I(a));var p=a,m=p.pathname,g=void 0===m?"/":m,y=p.search,b=void 0===y?"":y,_=p.hash,w=void 0===_?"":_,x=p.state,S=void 0===x?null:x,E=p.key,k=void 0===E?"default":E,C=e.useMemo((function(){var e=U(g,f);return null==e?null:{pathname:e,search:b,hash:w,state:S,key:k}}),[f,g,b,w,S,k]);return null==C?null:e.createElement(le.Provider,{value:d},e.createElement(he.Provider,{children:o,value:{location:C,navigationType:u}}))}function Ie(t){var n=t.children,r=t.location,i=e.useContext(se);return function(t,n){pe()||V(!1);var r,i=e.useContext(ue),o=e.useContext(fe).matches,a=o[o.length-1],s=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),c=(a&&a.route,ve());if(n){var l,h="string"===typeof n?I(n):n;"/"===u||(null==(l=h.pathname)?void 0:l.startsWith(u))||V(!1),r=h}else r=c;var f=r.pathname||"/",d=A(t,{pathname:"/"===u?f:f.slice(u.length)||"/"}),p=Se(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:H([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:H([u,e.pathnameBase])})})),o,i||void 0);return n&&p?e.createElement(he.Provider,{value:{location:J({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:v.Pop}},p):p}(i&&!n?i.router.routes:Pe(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ke||(ke={}));var Ne=new Promise((function(){}));e.Component;function Pe(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t))if(t.type!==e.Fragment){t.type!==Ce&&V(!1),t.props.index&&t.props.children&&V(!1);var o=[].concat((0,a.Z)(n),[i]),s={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(s.children=Pe(t.props.children,o)),r.push(s)}else r.push.apply(r,Pe(t.props.children,n))})),r}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Oe(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map((function(e){return[n,e]})):[[n,r]])}),[]))}function Me(e,t){var n,r=Oe(e),i=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,o.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(t.keys());try{var a=function(){var e=n.value;r.has(e)||t.getAll(e).forEach((function(t){r.append(e,t)}))};for(i.s();!(n=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}return r}var De=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Le=["aria-current","caseSensitive","className","end","style","to","children"];function je(t){var n,r=t.basename,o=t.children,a=t.window,s=e.useRef();null==s.current&&(s.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),P((function(e,t){var n=e.location;return C("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:T(t)}),null,n)));var u=s.current,c=e.useState({action:u.action,location:u.location}),l=(0,i.Z)(c,2),h=l[0],f=l[1];return e.useLayoutEffect((function(){return u.listen(f)}),[u]),e.createElement(Te,{basename:r,children:o,location:h.location,navigationType:h.action,navigator:u})}var Fe=e.forwardRef((function(t,n){var r=t.onClick,i=t.relative,o=t.reloadDocument,a=t.replace,s=t.state,u=t.target,c=t.to,l=t.preventScrollReset,h=Re(t,De),f=function(t,n){var r=(void 0===n?{}:n).relative;pe()||V(!1);var i=e.useContext(le),o=i.basename,a=i.navigator,s=ge(t,{relative:r}),u=s.hash,c=s.pathname,l=s.search,h=c;return"/"!==o&&(h="/"===c?o:H([o,c])),a.createHref({pathname:h,search:l,hash:u})}(c,{relative:i}),d=function(t,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=r.preventScrollReset,u=r.relative,c=me(),l=ve(),h=ge(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==o?o:T(l)===T(h);c(t,{replace:n,state:a,preventScrollReset:s,relative:u})}}),[l,c,h,o,a,i,t,s,u])}(c,{replace:a,state:s,target:u,preventScrollReset:l,relative:i});return e.createElement("a",Ae({},h,{href:f,onClick:o?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:u}))}));var Ue=e.forwardRef((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.caseSensitive,a=void 0!==o&&o,s=t.className,u=void 0===s?"":s,c=t.end,l=void 0!==c&&c,h=t.style,f=t.to,d=t.children,p=Re(t,Le),v=ge(f,{relative:p.relative}),m=ve(),g=e.useContext(ue),y=v.pathname,b=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase());var w,x=b===y||!l&&b.startsWith(y)&&"/"===b.charAt(y.length),S=null!=_&&(_===y||!l&&_.startsWith(y)&&"/"===_.charAt(y.length)),E=x?i:void 0;w="function"===typeof u?u({isActive:x,isPending:S}):[u,x?"active":null,S?"pending":null].filter(Boolean).join(" ");var k="function"===typeof h?h({isActive:x,isPending:S}):h;return e.createElement(Fe,Ae({},p,{"aria-current":E,className:w,ref:n,style:k,to:f}),"function"===typeof d?d({isActive:x,isPending:S}):d)}));var Ve,Be;function ze(t){var n=e.useRef(Oe(t)),r=ve(),i=e.useMemo((function(){return Me(r.search,n.current)}),[r.search]),o=me(),a=e.useCallback((function(e,t){var n=Oe("function"===typeof e?e(i):e);o("?"+n,t)}),[o,i]);return[i,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ve||(Ve={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Be||(Be={}));var qe=n(1236),Ze=n(184),He=(0,e.createContext)(),We=function(t){var n=t.reducer,r=t.initialState,i=t.children;return(0,Ze.jsx)(He.Provider,{value:(0,e.useReducer)(n,r),children:i})},Ke=function(){return(0,e.useContext)(He)},Ge=n(8008),$e=n(3385);var Qe=function(t){var n=t.white,r=Ke(),o=(0,i.Z)(r,1)[0],a=o.minMaxPrice,s=o.minMaxMileage,u=(0,e.useState)(!1),c=(0,i.Z)(u,2),l=c[0],h=c[1];return(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("div",{className:"navbar",children:(0,Ze.jsx)("div",{className:"menu-bars",children:(0,Ze.jsx)(Ge.Z,{onClick:function(){return h(!l)},className:"hamBarsIcon",styles:"width: 100%; height: 40px;"})})}),(0,Ze.jsx)("nav",{className:l?"nav-menu active":"nav-menu ",id:n?"navMenu_white":"",children:(0,Ze.jsxs)("ul",{className:"nav-menu-items",children:[(0,Ze.jsxs)(Ue,{to:"/",className:"nav-text",onClick:function(){return h(!1)},children:[(0,Ze.jsx)("p",{className:"nav-text-a",children:"Home"}),(0,Ze.jsx)($e.Z,{})]}),(0,Ze.jsxs)(Ue,{to:"/inventory?minPrice=".concat(a[0],"&maxPrice=").concat(a[1],"&minMileage=").concat(s[0],"&maxMileage=").concat(s[1]),className:"nav-text",onClick:function(){return h(!1)},children:[(0,Ze.jsx)("p",{className:"nav-text-a",children:"Inventory"}),(0,Ze.jsx)($e.Z,{})]}),(0,Ze.jsxs)(Ue,{to:"/salesRepresentatives",className:"nav-text",onClick:function(){return h(!1)},children:[(0,Ze.jsx)("p",{className:"nav-text-a",children:"Sales Representatives"}),(0,Ze.jsx)($e.Z,{})]}),(0,Ze.jsxs)(Ue,{to:"/aboutUs",className:"nav-text",onClick:function(){return h(!1)},children:[(0,Ze.jsx)("p",{className:"nav-text-a",children:"About Us"}),(0,Ze.jsx)($e.Z,{})]}),(0,Ze.jsxs)(Ue,{to:"/marketing",className:"nav-text",onClick:function(){return h(!1)},children:[(0,Ze.jsx)("p",{className:"nav-text-a",children:"Marketing"}),(0,Ze.jsx)($e.Z,{})]})]})})]})};var Ye=function(){var t=Ke(),n=(0,i.Z)(t,1)[0],r=n.minMaxPrice,o=n.minMaxMileage,a=(0,e.useState)(!1),s=(0,i.Z)(a,2),u=s[0],c=s[1];return me(),(0,e.useEffect)((function(){"https://carstro-15495.web.app/"===window.location.href||"https://carstro-15495.web.app/aboutUs"===window.location.href||"https://carstro-15495.web.app/marketing"===window.location.href?c(!1):c(!0)}),[window.location.href]),(0,Ze.jsx)("div",{className:"header",children:(0,Ze.jsxs)("div",{className:"headerHeader ".concat(u?"headerWhite":""),children:[(0,Ze.jsx)("div",{className:"leftSide",children:(0,Ze.jsx)(Fe,{to:"/",children:(0,Ze.jsx)("img",{className:"header-logo",src:"headerImages/logo.png",alt:"Carstro car"})})}),(0,Ze.jsxs)("div",{className:"rightSide",children:[(0,Ze.jsxs)("div",{className:"links",id:"showLinks",children:[(0,Ze.jsxs)("div",{className:"dropdown",children:[(0,Ze.jsx)(Ue,{to:"/",className:"dropbtn",children:"Homepage"}),(0,Ze.jsx)("div",{className:"dropdown_content"})]}),(0,Ze.jsxs)("div",{className:"dropdown",children:[(0,Ze.jsx)(Ue,{className:"dropbtn",to:"/inventory?minPrice=".concat(r[0],"&maxPrice=").concat(r[1],"&minMileage=").concat(o[0],"&maxMileage=").concat(o[1]),children:"Inventory"}),(0,Ze.jsx)("div",{className:"dropdown_content"})]}),(0,Ze.jsxs)("div",{className:"dropdown",children:[(0,Ze.jsx)(Ue,{to:"/salesRepresentatives",className:"dropbtn",children:"Sales Representatives"}),(0,Ze.jsx)("div",{className:"dropdown_content"})]}),(0,Ze.jsxs)("div",{className:"dropdown",children:[(0,Ze.jsx)(Ue,{to:"/aboutUs",className:"signOut",children:"About Us"}),(0,Ze.jsx)("div",{className:"dropdown_content"})]})]}),(0,Ze.jsx)("div",{className:"hamWrapper",children:(0,Ze.jsx)(Qe,{white:u})})]})]})})},Xe=n(4942);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,Xe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt=n(1588),nt=n(5172),rt=n(5637);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(eI){t.reject(eI)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(vt){this.f(vt)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(eI){return void this.g(eI)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(vt){n.reject(vt)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Di){o(Di)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now;function E(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e){return e}function C(e,t,n){this.code=N+e,this.message=t||P[e]||"",this.a=n||null}function T(e){var t=e&&e.code;return t?new C(t.substring(N.length),e.message,e.serverResponse):null}E(C,Error),C.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},C.prototype.toJSON=function(){return this.w()};var I,N="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var t in A)if(A[t].id===e)return{firebaseEndpoint:(e=A[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(lI){return!1}}function M(e){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function D(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");M.call(this,n+e[r])}function L(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function j(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}I=R("__EID__")?"__EID__":void 0,E(M,Error),M.prototype.name="CustomError",E(D,M),D.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new j((function(){return new z}),(function(e){e.reset()}));function B(){var e=wt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function z(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},W=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function G(e,t){return 0<=q(e,t)}function $(e,t){var n;return(n=0<=(t=q(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Q(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Y(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var J,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var he=le.userAgent;if(he){J=he;break e}}J=""}function fe(e){return ue(J,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(tI){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(tI){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Se&&t||"",this.b=xe}function _e(e){return e instanceof be&&e.constructor===be&&e.b===xe?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var we,xe={},Se={};function Ee(){if(void 0===we){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(XT){s.console&&s.console.error(XT.message)}we=e}else we=e}return we}function ke(e,t){this.a=t===Pe?e:""}function Ce(e){return e instanceof ke&&e.constructor===ke?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Te(e,t){var n=_e(e);if(!Ne.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Ie,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?_e(e):encodeURIComponent(String(e))})),function(e){var t=Ee();return new ke(e=t?t.createScriptURL(e):e,Pe)}(e)}ke.prototype.ta=!0,ke.prototype.sa=function(){return this.a.toString()},ke.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ie=/%{(\w+)}/g,Ne=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pe={};function Ae(e,t){this.a=t===Fe?e:""}function Re(e){return e instanceof Ae&&e.constructor===Ae?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Ae.prototype.ta=!0,Ae.prototype.sa=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Me=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,De=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Le(e){if(e instanceof Ae)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),De.test(e))e=new Ae(e,Fe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Me);e=t&&Oe.test(t[1])?new Ae(e,Fe):null}return e}function je(e){return e instanceof Ae?e:(e="object"==typeof e&&e.ta?e.sa():String(e),De.test(e)||(e="about:invalid#zClosurez"),new Ae(e,Fe))}var Fe={},Ue=new Ae("about:invalid#zClosurez",Fe);function Ve(e,t,n){this.a=n===Be?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function ze(e,t,n,r){return e=e instanceof Ae?e:je(e),t=t||s,n=n instanceof be?_e(n):n||"",t.open(Re(e),n,r,void 0)}function qe(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ze(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=h;var We,Ke=fe("Opera"),Ge=fe("Trident")||fe("MSIE"),$e=fe("Edge"),Qe=$e||Ge,Ye=fe("Gecko")&&!(ue(J.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),Xe=ue(J.toLowerCase(),"webkit")&&!fe("Edge");function Je(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=J;return Ye?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Ge?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xe?/WebKit\/(\S+)/.exec(e):Ke?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Ge){var nt=Je();if(null!=nt&&nt>parseFloat(et)){We=String(nt);break e}}We=et}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(We)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Ge){var st=Je();it=st||(parseInt(We,10)||void 0)}else it=void 0;var ut=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(KT){}var ct=!Ge||9<=Number(ut);function lt(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ht(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function mt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}Z(a?X(o):o,r)}}}function gt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){s.setTimeout((function(){throw e}),0)}function bt(e,t){dt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);dt=function(){e.then(xt)}}else dt=function(){var e=xt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!fe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ft||(ft=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(e=function(){var e=gt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!fe("Trident")&&!fe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ft(e)):s.setImmediate(e)}}(),_t||(dt(),_t=!0),wt.add(e,t)}var _t=!1,wt=new U;function xt(){for(var e;e=B();){try{e.a.call(e.b)}catch(lI){yt(lI)}F(V,e)}_t=!1}function St(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){jt(n,kt,e)}),(function(e){if(!(e instanceof Zt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Vv){}jt(n,Ct,e)}))}catch(JT){jt(this,Ct,JT)}}var Et=0,kt=2,Ct=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var It=new j((function(){return new Tt}),(function(e){e.reset()}));function Nt(e,t,n){var r=It.get();return r.g=e,r.b=t,r.f=n,r}function Pt(e){if(e instanceof St)return e;var t=new St(h);return jt(t,kt,e),t}function At(e){return new St((function(t,n){n(e)}))}function Rt(e,t,n){Ft(e,t,n,null)||bt(x(t,e))}function Ot(e){return new St((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Rt(e[o],x(i,o,!0),x(i,o,!1));else t(r)}))}function Mt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?Mt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Vt(n),Bt(n,i,Ct,t)))}e.c=null}else jt(e,Ct,t)}function Dt(e,t){e.b||e.a!=kt&&e.a!=Ct||Ut(e),e.f?e.f.next=t:e.b=t,e.f=t}function Lt(e,t,n,r){var i=Nt(null,null,null);return i.a=new St((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(vt){o(vt)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Zt?o(t):e(i)}catch(vt){o(vt)}}:o})),i.a.c=e,Dt(e,i),i.a}function jt(e,t,n){e.a==Et&&(e===n&&(t=Ct,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ut(e),t!=Ct||n instanceof Zt||function(e,t){e.g=!0,bt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof St)return Dt(e,Nt(t||h,n||null,r)),!0;if(O(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(eI){o(eI)}}(e,i,t,n,r),!0}catch(rI){return n.call(r,rI),!0}return!1}function Ut(e){e.h||(e.h=!0,bt(e.gc,e))}function Vt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Bt(e,t,n,r){if(n==Ct&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,r);else try{t.c?t.g.call(t.f):zt(t,n,r)}catch(Vv){qt.call(null,Vv)}F(It,t)}function zt(e,t,n){t==kt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}St.prototype.then=function(e,t,n){return Lt(this,p(e)?e:null,p(t)?t:null,n)},St.prototype.$goog_Thenable=!0,(e=St.prototype).oa=function(e,t){return(e=Nt(e,e,t)).c=!0,Dt(this,e),this},e.o=function(e,t){return Lt(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Zt(e);bt((function(){Mt(this,t)}),this)}},e.$c=function(e){this.a=Et,jt(this,kt,e)},e.ad=function(e){this.a=Et,jt(this,Ct,e)},e.gc=function(){for(var e;e=Vt(this);)Bt(this,e,this.a,this.i);this.h=!1};var qt=yt;function Zt(e){M.call(this,e)}function Ht(){0!=Wt&&(Kt[m(this)]=this),this.ya=this.ya,this.pa=this.pa}E(Zt,M),Zt.prototype.name="cancel";var Wt=0,Kt={};function Gt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=m(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Kt[t]}}Ht.prototype.ya=!1,Ht.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $t=Object.freeze||function(e){return e},Qt=!Ge||9<=Number(ut),Yt=Ge&&!at("9"),Xt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(XT){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function en(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ye){e:{try{He(t.nodeName);var i=!0;break e}catch(rI){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},E(en,Jt);var tn=$t({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Yt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(lI){}},en.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++rn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function un(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=cn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new on(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),hn={};function fn(e,t,n,r,i){if(r&&r.once)pn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=Sn(n),e&&e[nn]?kn(e,t,n,v(r)?!!r.capture:!!r,i):dn(e,t,n,!1,r,i)}function dn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=wn(e);if(s||(e[ln]=s=new sn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=_n,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else n=Sn(n),e&&e[nn]?Cn(e,t,n,v(r)?!!r.capture:!!r,i):dn(e,t,n,!0,r,i)}function vn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)vn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Sn(n),e&&e[nn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=cn(o=e.a[t],n,r,i))&&(an(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=wn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cn(t,n,r,i)),(n=-1<e?t[e]:null)&&mn(n))}function mn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[nn])un(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wn(t))?(un(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function gn(e){return e in hn?hn[e]:hn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=wn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&mn(e),n.call(r,t)}function _n(e,t){if(e.wa)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new en(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(tI){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return bn(e,new en(t,this))}function wn(e){return(e=e[ln])instanceof sn?e:null}var xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(e){return p(e)?e:(e[xn]||(e[xn]=function(t){return e.handleEvent(t)}),e[xn])}function En(){Ht.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function kn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Cn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&un(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Nn(e){var t=null;return new St((function(n,r){-1==(t=In((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Pn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Rn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Mn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Mn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}E(En,Ht),En.prototype[nn]=!0,En.prototype.addEventListener=function(e,t,n,r){fn(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){vn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;ge(e=new Jt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Rn.prototype).X=function(){On(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Mn(this.b,e)?this.b[e]:t},e.set=function(e,t){Mn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Ln?(this.i=void 0!==t?t:e.i,jn(this,e.c),this.l=e.l,this.a=e.a,Fn(this,e.g),this.f=e.f,Un(this,ir(e.b)),this.h=e.h):e&&(n=String(e).match(Dn))?(this.i=!!t,jn(this,n[1]||"",!0),this.l=Zn(n[2]||""),this.a=Zn(n[3]||"",!0),Fn(this,n[4]),this.f=Zn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Zn(n[7]||"")):(this.i=!!t,this.b=new Xn(null,this.i))}function jn(e,t,n){e.c=n?Zn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Fn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Un(e,t,n){t instanceof Xn?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tr(this,t),rr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Hn(t,Qn)),e.b=new Xn(t,e.i))}function Vn(e,t,n){e.b.set(t,n)}function Bn(e,t){return e.b.get(t)}function zn(e){return e instanceof Ln?new Ln(e):new Ln(e,void 0)}function qn(e,t,n,r){var i=new Ln(null,void 0);return e&&jn(i,e),t&&(i.a=t),n&&Fn(i,n),r&&(i.f=r),i}function Zn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ln.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Hn(t,Kn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Hn(t,Kn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hn(n,"/"==n.charAt(0)?$n:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Hn(n,Yn)),e.join("")},Ln.prototype.resolve=function(e){var t=new Ln(this),n=!!e.c;n?jn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Fn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Un(t,ir(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Kn=/[#\/\?@]/g,Gn=/[#\?:]/g,$n=/[#\?]/g,Qn=/[#\?@]/g,Yn=/#/g;function Xn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new Rn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function er(e){var t=An(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Xn(null,void 0);e=Pn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?rr(n,i,o):n.add(i,o)}return n}function tr(e,t){Jn(e),t=or(e,t),Mn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Mn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&On(e)))}function nr(e,t){return Jn(e),t=or(e,t),Mn(e.a.b,t)}function rr(e,t,n){tr(e,t),0<n.length&&(e.c=null,e.a.set(or(e,t),X(n)),e.b+=n.length)}function ir(e){var t=new Xn;return t.c=e.c,e.a&&(t.a=new Rn(e.a),t.b=e.b),t}function or(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ar(e){var t=[];return ur(new sr,e,t),t.join("")}function sr(){}function ur(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ur(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),hr(r,n),n.push(":"),ur(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":hr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Xn.prototype).add=function(e,t){Jn(this),this.c=null,e=or(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){Z(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Jn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Jn(this);var t=[];if("string"===typeof e)nr(this,e)&&(t=Y(t,this.a.get(or(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=Y(t,e[n])}return t},e.set=function(e,t){return Jn(this),this.c=null,nr(this,e=or(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var cr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(e,t){t.push('"',e.replace(lr,(function(e){var t=cr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),cr[e]=t),t})),'"')}function fr(){var e=Rr();return Ge&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function dr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pr(e,t){t=t||s.window;var n="about:blank";e&&(n=Re(Le(e)||Ue)),t.location.href=n}function vr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<vr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function mr(e){return!!((e=(e||Rr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function gr(e){e=e||s.window;try{e.close()}catch(lI){}}function yr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Rr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Nr(Rr())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ae?n:Le("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=gt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ae?t:je(t),a.href=Re(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=ze("",r,n,a),e=Re(t),a&&(Qe&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ze(e)+'">',e=new Ve(e=(r=Ee())?r.createHTML(e):e,null,Be),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=ze(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(YT){}return a}var br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_r=/^[^@]+@[^@]+$/;function wr(){var e=null;return new St((function(t){"complete"==s.document.readyState?t():(e=function(){t()},pn(window,"load",e))})).o((function(t){throw vn(window,"load",e),t}))}function xr(e){return e=e||Rr(),!("file:"!==jr()&&"ionic:"!==jr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){var e=s.window;try{return!(!e||e==e.top)}catch(lI){return!1}}function Er(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function kr(){return rt.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":rt.default.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Cr(){var e=kr();return"ReactNative"===e||"Node"===e}var Tr="Firefox",Ir="Chrome";function Nr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Tr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ir:"Safari"}var Pr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(e,t){t=t||[];var n,r=[],i={};for(n in Pr)i[Pr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=kr())?r=Nr(i=Rr()):"Worker"===r&&(r=Nr(i=Rr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Rr(){return s.navigator&&s.navigator.userAgent||""}function Or(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Mr(){try{var e=s.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!fr()||!!s.indexedDB}catch(XT){return Er()&&!!s.indexedDB}return!1}function Dr(){return(Lr()||"chrome-extension:"===jr()||xr())&&!Cr()&&Mr()&&!Er()}function Lr(){return"http:"===jr()||"https:"===jr()}function jr(){return s.location&&s.location.protocol||null}function Fr(e){return!mr(e=e||Rr())&&Nr(e)!=Tr}function Ur(e){return"undefined"===typeof e?null:ar(e)}function Vr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Br(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function qr(e){return"Safari"!=Nr(e=e||Rr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Zr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Hr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Rr(),t=kr(),this.b=mr(e)||"ReactNative"===t}function Wr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Kr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(XT){}return null}function Gr(){return!(!Or("fireauth.oauthhelper",s)&&!Or("fireauth.iframe",s))}Hr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Lr()&&"chrome-extension:"!==jr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $r,Qr={};function Yr(e){Qr[e]||(Qr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),$r=2==Xr.abcd}catch(KT){$r=!1}function Jr(e,t,n){$r?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ei(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Jr(e,n,t[n])}function ti(e){var t={};return ei(t,e),t}function ni(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Jr(t,n,ni(e[n]));return t}function ri(e){var t=e&&(e[ui]?"phone":null);if(!(t&&e&&e[si]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",e[si]),Jr(this,"displayName",e[oi]||null);var n=null;e[ai]&&(n=new Date(e[ai]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",t)}function ii(e){try{var t=new ci(e)}catch(XT){t=null}return t}ri.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var oi="displayName",ai="enrolledAt",si="mfaEnrollmentId",ui="phoneInfo";function ci(e){ri.call(this,e),Jr(this,"phoneNumber",e[ui])}function li(e){var t={},n=e[pi],r=e[mi],i=e[gi];if(e=ii(e[vi]),!i||i!=fi&&i!=di&&!n||i==di&&!r||i==hi&&!e)throw Error("Invalid checkActionCode response!");i==di?(t[bi]=n||null,t[wi]=n||null,t[yi]=r):(t[bi]=r||null,t[wi]=r||null,t[yi]=n||null),t[_i]=e||null,Jr(this,Si,i),Jr(this,xi,ni(t))}E(ci,ri),ci.prototype.w=function(){var e=ci.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var hi="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",di="VERIFY_AND_CHANGE_EMAIL",pi="email",vi="mfaInfo",mi="newEmail",gi="requestType",yi="email",bi="fromEmail",_i="multiFactorInfo",wi="previousEmail",xi="data",Si="operation";function Ei(e){var t=Bn(e=zn(e),ki)||null,n=Bn(e,Ci)||null,r=Bn(e,Ni)||null;if(r=r&&Ai[r]||null,!t||!n||!r)throw new C("argument-error",ki+", "+Ci+"and "+Ni+" are required in a valid action code URL.");ei(this,{apiKey:t,operation:r,code:n,continueUrl:Bn(e,Ti)||null,languageCode:Bn(e,Ii)||null,tenantId:Bn(e,Pi)||null})}var ki="apiKey",Ci="oobCode",Ti="continueUrl",Ii="languageCode",Ni="mode",Pi="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:fi,verifyAndChangeEmail:di,verifyEmail:"VERIFY_EMAIL"};function Ri(e){try{return new Ei(e)}catch(lI){return null}}function Oi(e){var t=e[Ui];if("undefined"===typeof t)throw new C("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new C("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Mi];if(n&&"object"===typeof n){t=n[zi];var r=n[Vi];if(n=n[Bi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new C("argument-error",Vi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new C("argument-error",Bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new C("argument-error",zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new C("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new C("argument-error",Mi+" property must be a non null object when specified.");if(this.f=null,(t=e[Fi])&&"object"===typeof t){if("string"===typeof(t=t[qi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new C("argument-error",qi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new C("argument-error",Fi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[ji])&&"boolean"!==typeof t)throw new C("argument-error",ji+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Li])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new C("argument-error",Li+" property must be a non empty string when specified.");this.i=e||null}var Mi="android",Li="dynamicLinkDomain",ji="handleCodeInApp",Fi="iOS",Ui="url",Vi="installApp",Bi="minimumVersion",zi="packageName",qi="bundleId";function Zi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Hi=null;function Wi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Hi){Hi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Ki(e){var t=$i(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Gi(e){try{return new Ki(e)}catch(lI){return null}}function $i(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Wi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(vt){}return null}Ki.prototype.T=function(){return this.f},Ki.prototype.l=function(){return this.c},Ki.prototype.toString=function(){return this.h};var Qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Xi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Yi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Yi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Yi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Qi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ji(e){for(var t in Xi)if(Xi[t].fa==e)return Xi[t];return null}function eo(e){var t={};t["facebook.com"]=oo,t["google.com"]=so,t["github.com"]=ao,t["twitter.com"]=uo;var n=e&&e[no];try{if(n)return t[n]?new t[n](e):new io(e);if("undefined"!==typeof e[to])return new ro(e)}catch(JT){}return null}var to="idToken",no="providerId";function ro(e){var t=e[no];if(!t&&e[to]){var n=Gi(e[to]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Jr(this,"providerId",t),Jr(this,"isNewUser",n)}function io(e){ro.call(this,e),Jr(this,"profile",ni((e=Br(e.rawUserInfo||"{}"))||{}))}function oo(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function so(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",e.screenName||null)}function co(e){var t=zn(e),n=Bn(t,"link"),r=Bn(zn(n),"link");return t=Bn(t,"deep_link_id"),Bn(zn(t),"link")||t||r||n||e}function lo(e,t){if(!e&&!t)throw new C("internal-error","Internal assert: no raw session string available");if(e&&t)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ho:fo}E(io,ro),E(oo,io),E(ao,io),E(so,io),E(uo,io);var ho="enroll",fo="signin";function po(){}function vo(e,t){return e.then((function(e){if(e[rs]){var n=Gi(e[rs]);if(!n||t!=n.i)throw new C("user-mismatch");return e}throw new C("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new C("user-mismatch"):e}))}function mo(e,t){if(!t)throw new C("internal-error","failed to construct a credential");this.a=t,Jr(this,"providerId",e),Jr(this,"signInMethod",e)}function go(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function yo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new mo(e.providerId,e.pendingToken)}catch(lI){}return null}function bo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Jr(this,"idToken",t.idToken),t.accessToken&&Jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Jr(this,"accessToken",t.oauthToken),Jr(this,"secret",t.oauthTokenSecret)}Jr(this,"providerId",e),Jr(this,"signInMethod",n)}function _o(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:er(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function wo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new bo(e.providerId,t,e.signInMethod)}catch(XT){}}return null}function xo(e,t){this.Qc=t||[],ei(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Ji(e)||{}).Ja||null,this.pb=null}function So(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');xo.call(this,e,[])}function Eo(e){xo.call(this,e,Yi),this.a=[]}function ko(){Eo.call(this,"facebook.com")}function Co(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new ko).credential({accessToken:t})}function To(){Eo.call(this,"github.com")}function Io(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function No(){Eo.call(this,"google.com"),this.Ca("profile")}function Po(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new No).credential({idToken:n,accessToken:t})}function Ao(){xo.call(this,"twitter.com",Qi)}function Ro(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bo("twitter.com",n,"twitter.com")}function Oo(e,t,n){this.a=e,this.f=t,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Mo(e){return e&&e.email&&e.password?new Oo(e.email,e.password,e.signInMethod):null}function Do(){ei(this,{providerId:"password",isOAuthProvider:!1})}function Lo(e,t){if(!(t=jo(t)))throw new C("argument-error","Invalid email link!");return new Oo(e,t.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function jo(e){return(e=Ri(e=co(e)))&&e.operation===fi?e:null}function Fo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new C("internal-error");this.a=e,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Uo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return Z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Fo(t)}return null}function Vo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Bo(e){try{this.a=e||rt.default.auth()}catch(lI){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ei(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new C("missing-verification-id");if(!t)throw new C("missing-verification-code");return new Fo({fb:e,eb:t})}function qo(e){if(e.temporaryProof&&e.phoneNumber)return new Fo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Po(o,n);case"facebook.com":return Co(n);case"github.com":return Io(n);case"twitter.com":return Ro(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new mo(t,a):new bo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Eo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(YT){return null}}function Zo(e){if(!e.isOAuthProvider)throw new C("invalid-oauth-provider")}function Ho(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Wo(e){return(e=e||{}).type?new Ho(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&T(e.error),e.postBody,e.tenantId):null}function Ko(){this.b=null,this.a=[]}lo.prototype.Ha=function(){return this.a?Pt(this.a):Pt(this.b)},lo.prototype.w=function(){return this.type==ho?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},po.prototype.ka=function(){},po.prototype.b=function(){},po.prototype.c=function(){},po.prototype.w=function(){},mo.prototype.ka=function(e){return ks(e,go(this))},mo.prototype.b=function(e,t){var n=go(this);return n.idToken=t,Cs(e,n)},mo.prototype.c=function(e,t){return vo(Ts(e,go(this)),t)},mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bo.prototype.ka=function(e){return ks(e,_o(this))},bo.prototype.b=function(e,t){var n=_o(this);return n.idToken=t,Cs(e,n)},bo.prototype.c=function(e,t){return vo(Ts(e,_o(this)),t)},bo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},xo.prototype.Ka=function(e){return this.Jb=ve(e),this},E(So,xo),E(Eo,xo),Eo.prototype.Ca=function(e){return G(this.a,e)||this.a.push(e),this},Eo.prototype.Rb=function(){return X(this.a)},Eo.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new bo(this.providerId,n,this.providerId)},E(ko,Eo),Jr(ko,"PROVIDER_ID","facebook.com"),Jr(ko,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(To,Eo),Jr(To,"PROVIDER_ID","github.com"),Jr(To,"GITHUB_SIGN_IN_METHOD","github.com"),E(No,Eo),Jr(No,"PROVIDER_ID","google.com"),Jr(No,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Ao,xo),Jr(Ao,"PROVIDER_ID","twitter.com"),Jr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ka=function(e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?uu(e,Ds,{email:this.a,oobCode:this.f}):uu(e,ru,{email:this.a,password:this.f})},Oo.prototype.b=function(e,t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?uu(e,Ls,{idToken:t,email:this.a,oobCode:this.f}):uu(e,$s,{idToken:t,email:this.a,password:this.f})},Oo.prototype.c=function(e,t){return vo(this.ka(e),t)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ei(Do,{PROVIDER_ID:"password"}),ei(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ei(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ka=function(e){return e.gb(Vo(this))},Fo.prototype.b=function(e,t){var n=Vo(this);return n.idToken=t,uu(e,ou,n)},Fo.prototype.c=function(e,t){var n=Vo(this);return n.operation="REAUTH",vo(e=uu(e,au,n),t)},Fo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Bo.prototype.gb=function(e,t){var n=this.a.a;return Pt(t.verify()).then((function(r){if("string"!==typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==ho?o.Ha().then((function(e){return function(e,t){return uu(e,Ys,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==fo?o.Ha().then((function(t){return function(e,t){return uu(e,Xs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return uu(e,Ks,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ei(Bo,{PROVIDER_ID:"phone"}),ei(Bo,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ho.prototype.T=function(){return this.h},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Go,$o=null;function Qo(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=qe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=qe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",C.call(this,t,n)}function Yo(e,t,n){C.call(this,e,n),(e=t||{}).Kb&&Jr(this,"email",e.Kb),e.ea&&Jr(this,"phoneNumber",e.ea),e.credential&&Jr(this,"credential",e.credential),e.$b&&Jr(this,"tenantId",e.$b)}function Xo(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:qo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new C(t,e.message||void 0);return new Yo(t,n,e.message)}return null}function Jo(){}function ea(e){return e.c||(e.c=e.b())}function ta(){}function na(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Vv){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ra(){}function ia(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function oa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function aa(e,t,n){this.reset(e,t,n,void 0,void 0)}E(Qo,C),E(Yo,C),Yo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ge(e,t),e},Yo.prototype.toJSON=function(){return this.w()},Jo.prototype.c=null,E(ta,Jo),ta.prototype.a=function(){var e=na(this);return e?new ActiveXObject(e):new XMLHttpRequest},ta.prototype.b=function(){var e={};return na(this)&&(e[0]=!0,e[1]=!0),e},Go=new ta,E(ra,Jo),ra.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ia;throw Error("Unsupported browser")},ra.prototype.b=function(){return{}},(e=ia.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,oa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",oa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,oa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},aa.prototype.a=null;function sa(e){this.f=e,this.b=this.c=this.a=null}function ua(e,t){this.name=e,this.value=t}aa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||S(),delete this.a},ua.prototype.toString=function(){return this.name};var ca=new ua("SEVERE",1e3),la=new ua("WARNING",900),ha=new ua("CONFIG",700),fa=new ua("FINE",500);function da(e){return e.c?e.c:e.a?da(e.a):(L("Root logger has no level set."),null)}sa.prototype.log=function(e,t,n){if(e.value>=da(this).value)for(p(t)&&(t=t()),e=new aa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var pa={},va=null;function ma(e){var t;if(va||(va=new sa(""),pa[""]=va,va.c=ha),!(t=pa[e])){t=new sa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ma(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,pa[e]=t}return t}function ga(e,t){e&&e.log(fa,t,void 0)}function ya(e){this.f=e}function ba(e){En.call(this),this.u=e,this.h=void 0,this.readyState=_a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ma("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ya,Jo),ya.prototype.a=function(){return new ba(this.f)},ya.prototype.b=function(e){return function(){return e}}({}),E(ba,En);var _a=0;function wa(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function xa(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Sa(e)}function Sa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ea(e){En.call(this),this.headers=new Rn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ka,this.u=this.S=!1}(e=ba.prototype).open=function(e,t){if(this.readyState!=_a)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Sa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,xa(this)),this.readyState=_a},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Sa(this)),this.a&&(this.readyState=3,Sa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,wa(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?xa(this):Sa(this),3==this.readyState&&wa(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,xa(this))},e.sc=function(e){this.a&&(this.response=e,xa(this))},e.Va=function(e){var t=this.i;t&&t.log(la,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&xa(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(la,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(la,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),E(Ea,En);var ka="";Ea.prototype.b=ma("goog.net.XhrIo");var Ca=/^https?$/i,Ta=["POST","PUT"];function Ia(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Go.a(),e.C=e.D?ea(e.D):ea(Go),e.a.onreadystatechange=w(e.Wb,e);try{ga(e.b,ja(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(tI){return ga(e.b,ja(e,"Error opening Xhr: "+tI.message)),void Pa(e,tI)}t=r||"";var o=new Rn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)Z(e,t,void 0);else for(var n=An(e),r=Pn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Na,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!G(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ma(e),0<e.g&&(e.u=function(e){return Ge&&at(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ga(e.b,ja(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=In(e.Ma,e.g,e)),ga(e.b,ja(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(tI){ga(e.b,ja(e,"Send error: "+tI.message)),Pa(e,tI)}}function Na(e){return"content-type"==e.toLowerCase()}function Pa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Aa(e),Oa(e)}function Aa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ra(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Da(e)&&2==La(e))ga(e.b,ja(e,"Local request error detected and ignored"));else if(e.i&&4==Da(e))In(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Da(e)){ga(e.b,ja(e,"Request complete")),e.c=!1;try{var t,n=La(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Dn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ca.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Da(e)?e.a.statusText:""}catch(eI){ga(e.b,"Can not get status: "+eI.message),c=""}e.h=c+" ["+La(e)+"]",Aa(e)}}finally{Oa(e)}}}function Oa(e,t){if(e.a){Ma(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Vv){(e=e.b)&&e.log(ca,"Problem encountered resetting onreadystatechange: "+Vv.message,void 0)}}}function Ma(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Da(e){return e.a?e.a.readyState:0}function La(e){try{return 2<Da(e)?e.a.status:-1}catch(lI){return-1}}function ja(e,t){return t+" ["+e.P+" "+e.l+" "+La(e)+"]"}function Fa(e){var t=$a;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ua(e,t,n){e.a=!0,e.c=n,e.f=!t,qa(e)}function Va(e){if(e.a){if(!e.v)throw new Za(e);e.v=!1}}function Ba(e,t,n,r){e.g.push([t,n,r]),e.a&&qa(e)}function za(e){return K(e.g,(function(e){return p(e[1])}))}function qa(e){if(e.h&&e.a&&za(e)){var t=e.h,n=Ka[t];n&&(s.clearTimeout(n.a),delete Ka[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(O(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(eI){t=eI,e.f=!0,za(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Fa?(Ba(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Wa(t),Ka[t.a]=t,e.h=t.a)}function Za(){M.call(this)}function Ha(){M.call(this)}function Wa(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=Ea.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ga(this.b,ja(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ga(this.b,ja(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Oa(this,!0)),Ea.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ra(this):this.Jc())},e.Jc=function(){Ra(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ka:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ca,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(lI){return ga(this.b,"Can not get response: "+lI.message),null}},Fa.prototype.cancel=function(e){if(this.a)this.c instanceof Fa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ha(this),Va(this),Ua(this,!1,e))}},Fa.prototype.m=function(e,t){this.i=!1,Ua(this,e,t)},Fa.prototype.then=function(e,t,n){var r,i,o=new St((function(e,t){r=e,i=t}));return Ba(this,r,(function(e){e instanceof Ha?o.cancel():i(e)})),o.then(e,t,n)},Fa.prototype.$goog_Thenable=!0,E(Za,M),Za.prototype.message="Deferred has already fired",Za.prototype.name="AlreadyCalledError",E(Ha,M),Ha.prototype.message="Deferred was canceled",Ha.prototype.name="CanceledError",Wa.prototype.c=function(){throw delete Ka[this.a],this.b};var Ka={};function Ga(e){var t={},n=t.document||document,r=Ce(e).toString(),i=gt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Fa(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Qa(i,!0);var e=new Ja(Xa,"Timeout reached for loading script "+r);Va(a),Ua(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Qa(i,t.xd||!1,u),Va(a),Ua(a,!0,null))},i.onerror=function(){Qa(i,!0,u);var e=new Ja(Ya,"Error while loading script "+r);Va(a),Ua(a,!1,e)},ge(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ht(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Ce(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function $a(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Qa(e,!0,this.Ma)}}function Qa(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ya=0,Xa=1;function Ja(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),M.call(this,n),this.code=e}function es(e){this.f=e}function ts(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||is,this.g=ve(e.secureTokenHeaders||os),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||as,this.a=ve(e.firebaseHeaders||ss),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==kr(),!(n=s.XMLHttpRequest||n&&rt.default.INTERNAL.node&&rt.default.INTERNAL.node.XMLHttpRequest)&&!Er())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new ya(self):Cr()?this.f=new es(n):this.f=new ra,this.b=null}E(Ja,M),E(es,Jo),es.prototype.a=function(){return new this.f},es.prototype.b=function(){return{}};var ns,rs="idToken",is=new Hr(3e4,6e4),os={"Content-Type":"application/x-www-form-urlencoded"},as=new Hr(3e4,6e4),ss={"Content-Type":"application/json"};function us(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function cs(e,t){t&&(e.l=ls("https://securetoken.googleapis.com/v1/token",t),e.h=ls("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ls("https://identitytoolkit.googleapis.com/v2/",t))}function ls(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,jn(e,t.c),e.a=t.a,Fn(e,t.g),e.toString()}function hs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function fs(e,t,n,r,i,o,a){(function(){var e=Rr();return!((e=Nr(e)!=Ir?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Ge||!ut||9<ut)})()||Er()?e=w(e.u,e):(ns||(ns=new St((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[ps]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ba(e,null,t,void 0)}(Ga(Te(ds,{onload:ps})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}ts.prototype.T=function(){return this.b},ts.prototype.u=function(e,t,n,r,i,o){if(Er()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ea(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}kn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ga(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(vt){e=null}t&&t(e)})),Cn(a,"ready",(function(){u&&clearTimeout(u),Gt(this)})),Cn(a,"timeout",(function(){u&&clearTimeout(u),Gt(this),t&&t(null)})),Ia(a,e,n,r,i)};var ds=new be(Se,"https://apis.google.com/js/client.js?onload=%{onload}"),ps="__fcb"+Math.floor(1e6*Math.random()).toString();function vs(e,t,n,r,i,o,a){var s=zn(t+n);Vn(s,"key",e.c),a&&Vn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Vn(s,c,i[c]);return new St((function(t,n){fs(e,s.toString(),(function(e){e?e.error?n(lu(e,o||{})):t(e):n(new C("network-request-failed"))}),r,u?void 0:ar(Vr(i)),e.a,e.v.get())}))}function ms(e){if("string"!==typeof(e=e.email)||!_r.test(e))throw new C("invalid-email")}function gs(e){"email"in e&&ms(e)}function ys(e){if(!e[rs]){if(e.mfaPendingCredential)throw new C("multi-factor-auth-required",null,ve(e));throw new C("internal-error")}}function bs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new C("internal-error")}else{if(!e.sessionInfo)throw new C("missing-verification-id");if(!e.code)throw new C("missing-verification-code")}}ts.prototype.s=function(e,t,n,r,i){var o=this;ns.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ts.prototype.Ab=function(){return uu(this,Qs,{})},ts.prototype.Cb=function(e,t){return uu(this,Gs,{idToken:e,email:t})},ts.prototype.Db=function(e,t){return uu(this,$s,{idToken:e,password:t})};var _s={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ws(e){if(!e.phoneVerificationInfo)throw new C("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new C("missing-verification-code")}function xs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new C("internal-error")}function Ss(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(nr(e=new Xn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Es(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Xo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Xo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Xo(e)):e.errorMessage&&(t=cu(e.errorMessage)),t)throw t;ys(e)}function ks(e,t){return t.returnIdpCredential=!0,uu(e,Js,t)}function Cs(e,t){return t.returnIdpCredential=!0,uu(e,tu,t)}function Ts(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,uu(e,eu,t)}function Is(e){if(!e.oobCode)throw new C("invalid-action-code")}(e=ts.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(_s,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),uu(this,Gs,n)},e.wb=function(e,t){return ge(e={requestType:"PASSWORD_RESET",email:e},t),uu(this,qs,e)},e.xb=function(e,t){return ge(e={requestType:"EMAIL_SIGNIN",email:e},t),uu(this,Vs,e)},e.vb=function(e,t){return ge(e={requestType:"VERIFY_EMAIL",idToken:e},t),uu(this,Bs,e)},e.Fb=function(e,t,n){return ge(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),uu(this,zs,e)},e.gb=function(e){return uu(this,iu,e)},e.ob=function(e,t){return uu(this,Ws,{oobCode:e,newPassword:t})},e.Sa=function(e){return uu(this,Ps,{oobCode:e})},e.kb=function(e){return uu(this,Ns,{oobCode:e})};var Ns={endpoint:"setAccountInfo",A:Is,Z:"email",B:!0},Ps={endpoint:"resetPassword",A:Is,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new C("internal-error")},B:!0},As={endpoint:"signupNewUser",A:function(e){if(ms(e),!e.password)throw new C("weak-password")},G:ys,V:!0,B:!0},Rs={endpoint:"createAuthUri",B:!0},Os={endpoint:"deleteAccount",O:["idToken"]},Ms={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new C("internal-error")}},Ds={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ms,G:ys,V:!0,B:!0},Ls={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ms,G:ys,V:!0},js={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ws,G:ys,B:!0,Na:!0},Fs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ws,G:ys,B:!0,Na:!0},Us={endpoint:"getAccountInfo"},Vs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new C("internal-error");ms(e)},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new C("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new C("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new C("internal-error");ms(e)},Z:"email",B:!0},Zs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Hs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new C("internal-error")}},Ws={endpoint:"resetPassword",A:Is,Z:"email",B:!0},Ks={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Gs={endpoint:"setAccountInfo",O:["idToken"],A:gs,V:!0},$s={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(gs(e),!e.password)throw new C("weak-password")},G:ys,V:!0},Qs={endpoint:"signupNewUser",G:ys,V:!0,B:!0},Ys={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new C("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Xs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Js={endpoint:"verifyAssertion",A:xs,Za:Ss,G:Es,V:!0,B:!0},eu={endpoint:"verifyAssertion",A:xs,Za:Ss,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new C("user-not-found");if(e.errorMessage)throw cu(e.errorMessage);ys(e)},V:!0,B:!0},tu={endpoint:"verifyAssertion",A:function(e){if(xs(e),!e.idToken)throw new C("internal-error")},Za:Ss,G:Es,V:!0},nu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new C("invalid-custom-token")},G:ys,V:!0,B:!0},ru={endpoint:"verifyPassword",A:function(e){if(ms(e),!e.password)throw new C("wrong-password")},G:ys,V:!0,B:!0},iu={endpoint:"verifyPhoneNumber",A:bs,G:ys,B:!0},ou={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new C("internal-error");bs(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Xo(e);ys(e)}},au={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:bs,G:ys,B:!0},su={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[rs]^!!e.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function uu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return At(new C("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Pt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),vs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new C("internal-error");return r[t.Z]}))}function cu(e){return lu({error:{errors:[{message:e}],code:400,message:e}})}function lu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ge(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],t);return!t&&e&&(t=Ur(e)),new C("internal-error",t)}function hu(e){this.b=e,this.a=null,this.sb=function(e){return(vu||(vu=new St((function(e,t){function n(){Zr(),Or("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Zr(),t(Error("Network Error"))},timeout:du.get()})}if(Or("gapi.iframes.Iframe"))e();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Or("gapi.load")?n():t(Error("Network Error"))},Pt(Ga(r=Te(fu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw vu=null,e})))).then((function(){return new St((function(t,n){Or("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),pu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var fu=new be(Se,"https://apis.google.com/js/api.js?onload=%{onload}"),du=new Hr(3e4,6e4),pu=new Hr(5e3,15e3),vu=null;function mu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=qn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=qn("https",this.l,null,"/__/auth/iframe"),this.a=e,Vn(this.a,"apiKey",this.h),Vn(this.a,"appName",this.i),this.b=null,this.c=[]}function gu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function yu(e){try{return rt.default.app(e).auth().Ga()}catch(lI){return[]}}function bu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function _u(e){var t=dr();return function(e){return uu(e,Zs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:br.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Qo(dr())}))}function wu(e){return e.m||(e.m=wr().then((function(){if(!e.u){var t=e.c,n=e.i,r=yu(e.b),i=new mu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new hu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Wo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Pt(n)}return n.status="ERROR",Pt(n)}))}(e)}))),e.m}function xu(e){return e.l||(e.C=e.c?Ar(e.c,yu(e.b)):null,e.l=new ts(e.g,R(e.i),e.C),e.f&&cs(e.l,e.f)),e.l}function Su(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new gu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.zb(l).toString()}function Eu(e){if(this.a=e||rt.default.INTERNAL.reactNative&&rt.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ku(e){this.b=e,this.a={},this.f=w(this.c,this)}mu.prototype.toString=function(){return this.f?Vn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Vn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Vn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},gu.prototype.zb=function(e){return this.h=e,this},gu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(Vn(e,"apiKey",this.s),Vn(e,"appName",this.c),Vn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=rt.default.app(this.c).auth().la()}catch(YT){n=null}for(var r in t.pb=n,Vn(e,"providerId",this.a.providerId),t=Vr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Vn(e,"customParameters",Ur(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Vn(e,"scopes",n.join(","))),this.l?Vn(e,"redirectUrl",this.l):tr(e.b,"redirectUrl"),this.g?Vn(e,"eventId",this.g):tr(e.b,"eventId"),this.i?Vn(e,"v",this.i):tr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Bn(e,a)&&Vn(e,a,this.b[a]);return this.h?Vn(e,"tid",this.h):tr(e.b,"tid"),this.f?Vn(e,"eid",this.f):tr(e.b,"eid"),(a=yu(this.c)).length&&Vn(e,"fw",a.join(",")),e.toString()},(e=bu.prototype).Pb=function(e,t,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return wu(e).then((function(){return function(e,t){return e.sb.then((function(){return new St((function(n){e.a.send(t.type,t,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&gr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new St((function(t){return function n(){Nn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Nn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Rr();return!Fr(e)&&!qr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return At(new C("popup-blocked"));if(a&&!Fr())return this.ma().o((function(t){gr(e),i(t)})),r(),Pt();this.a||(this.a=_u(xu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw gr(e),i(t),t}));return r(),t})).then((function(){(Zo(n),a)||pr(Su(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=_u(xu(this)));var i=this;return this.a.then((function(){Zo(t),pr(Su(i.s,i.g,i.b,e,t,dr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return wu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new C("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Q(this.h,(function(t){return t==e}))},(e=Eu.prototype).get=function(e){return Pt(this.a.getItem(e)).then((function(e){return e&&Br(e)}))},e.set=function(e,t){return Pt(this.a.setItem(e,Ur(t)))},e.U=function(e){return Pt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Cu,Tu=[];function Iu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Nu(e){this.a=e}function Pu(e){this.c=e,this.b=!1,this.a=[]}function Au(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return At(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new St((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ru(e,c),t})).o((function(t){throw Ru(e,c),t}))}function Ru(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(e.a,(function(e){return e==t}))}}function Ou(){if(!ju())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(Z(Tu,(function(n){n.b==e&&(t=n)})),!t){var t=new ku(e);Tu.push(t)}return t}(),Iu(this.v,"keyChanged",(function(t,n){return zu(e).then((function(t){return 0<t.length&&Z(e.a,(function(e){e(t)})),{keyProcessed:G(t,n.key)}}))})),Iu(this.v,"ping",(function(){return Pt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Pt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Pt(null)}().then((function(t){(e.h=t)&&(e.g=new Pu(new Nu(t)),Au(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&G(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Mu(e){return new St((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(rI){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(rI){n(rI)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new St((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Mu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Du(e){return e.i||(e.i=Mu(e)),e.i}function Lu(e,t){var n=0;return new St((function r(i,o){Du(e).then(t).then(i).o((function(t){if(!(3<++n))return Du(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function ju(){try{return!!s.indexedDB}catch(KT){return!1}}function Fu(e){return e.objectStore("firebaseLocalStorage")}function Uu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Vu(e){return new St((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Bu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Au(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Pt()}function zu(e){return Du(e).then((function(e){var t=Fu(Uu(e,!1));return t.getAll?Vu(t.getAll()):new St((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=vr(e.c,n),e.c=n}return r}))}function qu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Zu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Pt().then((function(){if(ju()){var e=zr(),r="__sak"+e;return Cu||(Cu=new Ou),(n=Cu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){Z(t.a,(function(t){t(e)}))})),e}))}function Hu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var e="Node"==kr();if(!(e=Ku()||e&&rt.default.INTERNAL.node&&rt.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(lI){return!1}}()){if("Node"==kr())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Ku()||rt.default.INTERNAL.node.localStorage,this.type="localStorage"}function Ku(){try{var e=s.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(XT){return null}}function Gu(){this.type="nullStorage"}function $u(){if(!function(){var e="Node"==kr();if(!(e=Qu()||e&&rt.default.INTERNAL.node&&rt.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(lI){return!1}}()){if("Node"==kr())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Qu()||rt.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Qu(){try{var e=s.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(XT){return null}}function Yu(){var e={};e.Browser=ec,e.Node=tc,e.ReactNative=nc,e.Worker=rc,this.a=e[kr()]}ku.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];Z(r,(function(t){i.push(Pt().then((function(){return t(e.origin,e.data.data)})))})),Ot(i).then((function(r){var i=[];Z(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),Z(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Nu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Pu.prototype.close=function(){for(;0<this.a.length;)Ru(this,this.a[0]);this.b=!0},(e=Ou.prototype).set=function(e,t){var n=this,r=!1;return Lu(this,(function(t){return Vu((t=Fu(Uu(t,!0))).get(e))})).then((function(i){return Lu(n,(function(o){if(o=Fu(Uu(o,!0)),i)return i.value=t,Vu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Vu(o.add(a))}))})).then((function(){return n.c[e]=t,Bu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Lu(this,(function(t){return Vu(Fu(Uu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Lu(this,(function(r){return n=!0,t.b++,Vu(Fu(Uu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Bu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=zu(e).then((function(t){0<t.length&&Z(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}qu(e),t()}(this),this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e})),0==this.a.length&&qu(this)},(e=Zu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e}))},(e=Hu.prototype).get=function(e){return Pt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Pt()},e.U=function(e){return delete this.a[e],Pt()},e.ca=function(){},e.ia=function(){},(e=Wu.prototype).get=function(e){var t=this;return Pt().then((function(){return Br(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=Ur(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&fn(s.window,"storage",e)},e.ia=function(e){s.window&&vn(s.window,"storage",e)},(e=Gu.prototype).get=function(){return Pt(null)},e.set=function(){return Pt()},e.U=function(){return Pt()},e.ca=function(){},e.ia=function(){},(e=$u.prototype).get=function(e){var t=this;return Pt().then((function(){return Br(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=Ur(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Xu,Ju,ec={F:Wu,cb:$u},tc={F:Wu,cb:$u},nc={F:Eu,cb:Gu},rc={F:Wu,cb:Gu},ic={rd:"local",NONE:"none",td:"session"};function oc(){var e=!(qr(Rr())||!Sr()),t=Fr(),n=Mr();this.m=e,this.h=t,this.l=n,this.a={},Xu||(Xu=new Yu),e=Xu;try{this.g=!fr()&&Gr()||!s.indexedDB?new e.a.F:new Zu(Er()?new Hu:new e.a.F)}catch(JT){this.g=new Hu,this.h=!0}try{this.i=new e.a.cb}catch(JT){this.i=new Hu}this.v=new Hu,this.f=w(this.Zb,this),this.b={}}function ac(){return Ju||(Ju=new oc),Ju}function sc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function uc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function cc(e,t,n){return n=uc(t,n),"local"==t.F&&(e.b[n]=null),sc(e,t.F).U(n)}function lc(e){e.c&&(clearInterval(e.c),e.c=null)}function hc(e){this.a=e,this.b=ac()}(e=oc.prototype).get=function(e,t){return sc(this,e.F).get(uc(e,t))},e.set=function(e,t,n){var r=uc(e,n),i=this,o=sc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=uc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(sc(this,"local").ca(this.f),this.h||(fr()||!Gr())&&s.indexedDB||!this.l||function(e){lc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new en({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=uc(e,t),this.a[e]&&(Q(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(sc(this,"local").ia(this.f),lc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?sc(this,"local").ia(this.f):lc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Ge&&ut&&10==ut&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else Z(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&Z(this.a[e],(function(e){e()}))};var fc,dc={name:"authEvent",F:"local"};function pc(){this.a=ac()}function vc(e,t){this.b=mc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===fc&&(fc=s.Int32Array?new Int32Array(Sc):Sc),this.reset()}E(vc,(function(){this.b=-1}));for(var mc=64,gc=mc-1,yc=[],bc=0;bc<gc;bc++)yc[bc]=0;var _c=Y(128,yc);function wc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|fc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function xc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(wc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(wc(e),i=0)}}e.c=i,e.g+=n}vc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var Sc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ec(){vc.call(this,8,kc)}E(Ec,vc);var kc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new pc,this.g=new hc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Tc(e){return new C("invalid-cordova-configuration",e)}function Ic(e){var t=new Ec;xc(t,e),e=[];var n=8*t.g;56>t.c?xc(t,_c,56-t.c):xc(t,_c,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(wc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return W(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Nc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(JT){}}function Pc(e){return e.f||(e.f=e.ma().then((function(){return new St((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Ac(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=co(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Br(Bn(o=zn(i),"firebaseError")||null))?T(o):null)?new Ho(r.c,r.b,null,null,o,null,r.T()):new Ho(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Nc(e,i)}))}var n=new Ho("unknown",null,null,null,new C("no-auth-event")),r=!1,i=Nn(500).then((function(){return Ac(e).then((function(){r||Nc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Or("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(YT){console.error(YT)}},$o||($o=new Ko),function(e){var t=$o;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Or("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Ac(e){var t=null;return function(e){return e.b.get(dc,e.a).then((function(e){return Wo(e)}))}(e.g).then((function(n){return t=n,cc((n=e.g).b,dc,n.a)})).then((function(){return t}))}function Rc(e){this.a=e,this.b=ac()}(e=Cc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(xr(void 0)?wr().then((function(){return new St((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):At(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Or("universalLinks.subscribe",s))throw Tc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Or("BuildInfo.packageName",s))throw Tc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Or("cordova.plugins.browsertab.openUrl",s))throw Tc("cordova-plugin-browsertab is not installed");if("function"!==typeof Or("cordova.InAppBrowser.open",s))throw Tc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},e.Pb=function(e,t){return t(new C("operation-not-supported-in-this-environment")),Pt()},e.Nb=function(){return At(new C("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return At(new C("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Pt().then((function(){return Zo(t),Pc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ho(t,r,null,o,new C("no-auth-event"),null,i),u=Or("BuildInfo.packageName",s);if("string"!==typeof u)throw new C("invalid-cordova-configuration");var c=Or("BuildInfo.displayName",s),l={};if(Rr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Rr().toLowerCase().match(/android/))return At(new C("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ic(o),l.sessionId=o;var h=Su(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(dc,a.w(),t)})).then((function(){var t=Or("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new C("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Or("cordova.plugins.browsertab.openUrl",s)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Or("cordova.InAppBrowser.open",s)))throw new C("invalid-cordova-configuration");t=Rr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new St((function(e,t){u=function(){var t=Or("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Nn(2e3).then((function(){t(new C("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Rr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Ac(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Pc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ho("unknown",null,null,null,new C("no-auth-event")),e(t))}))},e.Ta=function(e){Q(this.b,(function(t){return t==e}))};var Oc={name:"pendingRedirect",F:"session"};function Mc(e){return cc(e.b,Oc,e.a)}function Dc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Qc,this.C=new tl,this.g=new Rc(Gc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Lc(this.D,this.v,this.m,I,this.J)}function Lc(e,t,n,r,i){var o=rt.default.SDK_VERSION||null;return xr()?new Cc(e,t,n,o,r,i):new bu(e,t,n,o,r,i)}function jc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Fc(e){e.a.Yb()&&jc(e).o((function(t){var n=new Ho("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Zc(t)&&e.s(n)})),e.a.Ub()||Yc(e.b)}function Uc(e,t){G(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Oc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Mc(e.g).then((function(){jc(e).o((function(t){var n=new Ho("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Zc(t)&&e.s(n)}))})):Fc(e)})).o((function(){Fc(e)}))}function Vc(e,t){Q(e.h,(function(e){return e==t}))}Dc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Lc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(e){if(!e)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Yc(this.b),t};var Bc=new Hr(2e3,1e4),zc=new Hr(3e4,6e4);function qc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Zc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Hc(e,t,n,r,i){var o;return function(e){return e.b.set(Oc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Zc(t))throw new C("operation-not-supported-in-this-environment");return o=t,Mc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new St((function(){})):Mc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Wc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Bc.get())}Dc.prototype.ra=function(){return this.b.ra()};var Kc={};function Gc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function $c(e,t,n,r){var i=Gc(t,n,r);return Kc[i]||(Kc[i]=new Dc(e,t,n,r)),Kc[i]}function Qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Yc(e){e.g||(e.g=!0,el(e,!1,null,null))}function Xc(e){e.g&&!e.i&&el(e,!1,null,null)}function Jc(e,t){if(e.b=function(){return Pt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function el(e,t,n,r){t?r?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Jc(e,n):Jc(e,{user:null}),e.f=[],e.c=[]}function tl(){}function nl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function rl(e,t){this.a=t,Jr(this,"verificationId",e)}function il(e,t,n,r){return new Bo(e).gb(t,n).then((function(e){return new rl(e,r)}))}function ol(e){var t=$i(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ei(this,{token:e,expirationTime:Kr(1e3*t.exp),authTime:Kr(1e3*t.auth_time),issuedAtTime:Kr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function al(e,t,n){var r=t&&t[ul];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new lo(null,r),this.b=[];var i=this;Z(t[sl]||[],(function(e){(e=ii(e))&&i.b.push(e)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Qc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(el(this,!0,null,e.a),Pt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){el(e,s,t,null)})).o((function(t){el(e,s,null,t)}))}(this,e,t):At(new C("invalid-auth-event")):(el(this,!1,null,null),Pt())}else At(new C("invalid-auth-event"))},Qc.prototype.ra=function(){var e=this;return new St((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new C("timeout");e.a&&e.a.cancel(),e.a=Nn(zc.get()).then((function(){e.b||(e.g=!0,el(e,!0,null,t))}))}(e))}))},tl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Pt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):At(new C("invalid-auth-event"))}else At(new C("invalid-auth-event"))},rl.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var sl="mfaInfo",ul="mfaPendingCredential";function cl(e,t,n,r){C.call(this,"multi-factor-auth-required",r,t),this.b=new al(e,t,n),Jr(this,"resolver",this.b)}function ll(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new cl(t,e.serverResponse,n,e.message)}catch(JT){}return null}function hl(){}function fl(e){Jr(this,"factorId",e.fa),this.a=e}function dl(e){if(fl.call(this,e),this.a.fa!=Bo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function pl(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function vl(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&Z(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[si]=e.uid),e.displayName&&(r[oi]=e.displayName),e.enrollmentTime&&(r[ai]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ui]=e.phoneNumber);try{t=new ci(r)}catch(tI){}e=t}else e=null;e&&n.push(e)})),ml(this,n)}function ml(e,t){e.b=t,Jr(e,"enrolledFactors",t)}function gl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function yl(e,t){e.stop(),e.b=Nn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Wr()||!e?Pt():new St((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){yl(e,!0)})).o((function(t){e.i(t)&&yl(e,!1)}))}function bl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function _l(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function wl(e,t){e.b=Gi(t[rs]||""),e.a=t.refreshToken,_l(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function xl(e,t){return function(e,t){return new St((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?fs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(lu(e)):e.access_token&&e.refresh_token?n(e):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",er(t).toString(),e.g,e.m.get()):r(new C("internal-error"))}))}(e.f,t).then((function(t){return e.b=Gi(t.access_token),e.a=t.refresh_token,_l(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Sl(e,t){this.a=e||null,this.b=t||null,ei(this,{lastSignInTime:Kr(t||null),creationTime:Kr(e||null)})}function El(e,t,n,r,i,o){ei(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function kl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=rt.default.SDK_VERSION?Ar(rt.default.SDK_VERSION):null;this.a=new ts(this.l,R(I),r),(this.u=e.emulatorConfig||null)&&cs(this.a,this.u),this.h=new bl(this.a),Ml(this,t[rs]),wl(this.h,t),Jr(this,"refreshToken",this.h.a),jl(this,n||{}),En.call(this),this.P=!1,this.s&&Dr()&&(this.b=$c(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new gl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=w(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Cl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Nl(i,e.f)},this.ja=null,this.S=new vl(this,n),Jr(this,"multiFactor",this.S)}function Cl(e,t){e.u=t,cs(e.a,t),e.b&&(t=e.b,e.b=$c(e.s,e.l,e.m,e.u),e.P&&(Vc(t,e),Uc(e.b,e)))}function Tl(e,t){e.qa&&vn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&fn(t,"languageCodeChanged",e.Pa)}function Il(e,t){e.$&&vn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&fn(t,"emulatorConfigChanged",e.Ba)}function Nl(e,t){e.aa=t,hs(e.a,rt.default.SDK_VERSION?Ar(rt.default.SDK_VERSION,e.aa):null)}function Pl(e,t){e.ja&&vn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&fn(t,"frameworkChanged",e.Oa)}function Al(e){try{return rt.default.app(e.m).auth()}catch(lI){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Rl(e){e.J||e.D.b||(e.D.start(),vn(e,"tokenChanged",e.ba),fn(e,"tokenChanged",e.ba))}function Ol(e){vn(e,"tokenChanged",e.ba),e.D.stop()}function Ml(e,t){e.Aa=t,Jr(e,"_lat",t)}function Dl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Ot(t).then((function(){return e}))}function Ll(e){e.b&&!e.P&&(e.P=!0,Uc(e.b,e))}function jl(e,t){ei(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Sl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Fl(){}function Ul(e){return Pt().then((function(){if(e.J)throw new C("app-deleted")}))}function Vl(e){return W(e.providerData,(function(e){return e.providerId}))}function Bl(e,t){t&&(zl(e,t.providerId),e.providerData.push(t))}function zl(e,t){Q(e.providerData,(function(e){return e.providerId==t}))}function ql(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Jr(e,t,n)}function Zl(e,t){e!=t&&(ei(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Jr(e,"metadata",function(e){return new Sl(e.a,e.b)}(t.metadata)):Jr(e,"metadata",new Sl),Z(t.providerData,(function(t){Bl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Jr(e,"refreshToken",e.h.a),ml(e.S,t.S.b))}function Hl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return uu(e.a,Us,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||ql(e,"isAnonymous",!1),t}))}))}function Wl(e,t){t[rs]&&e.Aa!=t[rs]&&(wl(e.h,t),e.dispatchEvent(new pl("tokenChanged")),Ml(e,t[rs]),ql(e,"refreshToken",e.h.a))}function Kl(e,t){return Hl(e).then((function(){if(G(Vl(e),t))return Dl(e).then((function(){throw new C("provider-already-linked")}))}))}function Gl(e,t,n){return ti({user:e,credential:qo(t),additionalUserInfo:t=eo(t),operationType:n})}function $l(e,t){return Wl(e,t),e.reload().then((function(){return e}))}function Ql(e,t,n,r,i){if(!Dr())return At(new C("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=Ji(n.providerId),a=zr(e.uid+":::"),s=null;(!Fr()||Sr())&&e.s&&n.isOAuthProvider&&(s=Su(e.s,e.l,e.m,t,n,null,a,rt.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=yr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Xl(e),!i)return e.I().then((function(){}))})).then((function(){return qc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new St((function(n,r){e.na(t,null,new C("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Wc(e.b,e,t,u,a)}))})).then((function(e){return u&&gr(u),e?ti(e):null})).o((function(e){throw u&&gr(u),e})),Jl(e,r,i)}function Yl(e,t,n,r,i){if(!Dr())return At(new C("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=null,a=zr(e.uid+":::");return r=r().then((function(){if(Xl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Dl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(nh,e.w(),t.a)),t})).then((function(){return Hc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return rh(e.ha);throw o})).then((function(){if(o)throw o})),Jl(e,r,i)}function Xl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Jl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),At(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new pl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){$(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ll(t.w(),Al(e),w(e.jc,e))),n||t}))}function eh(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[rs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new kl(t,n,e);return e.providerData&&Z(e.providerData,(function(e){e&&Bl(i,ti(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function th(e){this.a=e,this.b=ac()}al.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[sl],delete n[ul],ge(n,e),t.g(n)}))},E(cl,C),hl.prototype.tb=function(e,t,n){return t.type==ho?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ge(n,{phoneVerificationInfo:Vo(e.a)}),uu(t,js,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ge(n={mfaPendingCredential:n},{phoneVerificationInfo:Vo(e.a)}),uu(t,Fs,n)}))}(this,e,t)},E(fl,hl),E(dl,fl),E(pl,Jt),(e=vl.prototype).yc=function(e){ml(this,function(e){var t=[];return Z(e.mfaInfo||[],(function(e){(e=ii(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new lo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Wl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return uu(r,su,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return ml(t,r),Wl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(e){return e.w()}))}}},gl.prototype.start=function(){this.a=this.c,yl(this,!0)},gl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},bl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new C("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?xl(this,{grant_type:"refresh_token",refresh_token:this.a}):Pt(null):Pt({accessToken:this.b.toString(),refreshToken:this.a})},Sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(kl,En),kl.prototype.xa=function(e){this.za=e,us(this.a,e)},kl.prototype.la=function(){return this.za},kl.prototype.Ga=function(){return X(this.aa)},kl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Jr(kl.prototype,"providerId","firebase"),(e=kl.prototype).reload=function(){var e=this;return Jl(this,Ul(this).then((function(){return Hl(e).then((function(){return Dl(e)})).then(Fl)})))},e.oc=function(e){return this.I(e).then((function(e){return new ol(e)}))},e.I=function(e){var t=this;return Jl(this,Ul(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new C("internal-error");return e.accessToken!=t.Aa&&(Ml(t,e.accessToken),t.dispatchEvent(new pl("tokenChanged"))),ql(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new C("internal-error");jl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?W(e,(function(e){return new El(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Bl(this,t[n]);ql(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new pl("userReloaded",{hd:e}))},e.Lc=function(e){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Jl(this,e.c(this.a,this.uid).then((function(e){return Wl(t,e),n=Gl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Jl(this,Kl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Gl(t,e,"link"),$l(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Jl(this,Kl(this,"phone").then((function(){return il(Al(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Jl(this,Pt().then((function(){return il(Al(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Jl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Wl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Jl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Wl(t,e),t.reload()})))},e.Db=function(e){var t=this;return Jl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Wl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ul(this);var t=this;return Jl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Wl(t,e),ql(t,"displayName",e.displayName||null),ql(t,"photoURL",e.photoUrl||null),Z(t.providerData,(function(e){"password"===e.providerId&&(Jr(e,"displayName",t.displayName),Jr(e,"photoURL",t.photoURL))})),Dl(t)})).then(Fl))},e.cd=function(e){var t=this;return Jl(this,Hl(this).then((function(n){return G(Vl(t),e)?function(e,t,n){return uu(e,Ms,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return Z(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),Z(Vl(t),(function(e){n[e]||zl(t,e)})),n[Bo.PROVIDER_ID]||Jr(t,"phoneNumber",null),Dl(t)})):Dl(t).then((function(){throw new C("no-such-provider")}))})))},e.delete=function(){var e=this;return Jl(this,this.I().then((function(t){return uu(e.a,Os,{idToken:t})})).then((function(){e.dispatchEvent(new pl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Tl(e,null),Il(e,null),Pl(e,null),e.N=[],e.J=!0,Ol(e),Jr(e,"refreshToken",null),e.b&&Vc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return Ql(this,"linkViaPopup",e,(function(){return Kl(t,e.providerId).then((function(){return Dl(t)}))}),!1)},e.Nc=function(e){return Ql(this,"reauthViaPopup",e,(function(){return Pt()}),!0)},e.Fc=function(e){var t=this;return Yl(this,"linkViaRedirect",e,(function(){return Kl(t,e.providerId)}),!1)},e.Oc=function(e){return Yl(this,"reauthViaRedirect",e,(function(){return Pt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return Cs(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Gl(i,e,"link"),$l(i,e)})).then((function(){return o})),Jl(this,n)},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Pt().then((function(){return vo(Ts(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Gl(i,e,"reauthenticate"),Wl(i,e),i.i=null,i.reload()})).then((function(){return o}));return Jl(this,a,!0)},e.vb=function(e){var t=this,n=null;return Jl(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:Zi(new Oi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Jl(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:Zi(new Oi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return e=vo(Pt(e),n.uid).then((function(e){return t=Gl(n,e,"reauthenticate"),Wl(n,e),n.i=null,n.reload()})).then((function(){return t})),Jl(this,e,!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ge(e,this.metadata.w()),Z(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ge(e,this.S.w()),e};var nh={name:"redirectUser",F:"session"};function rh(e){return cc(e.b,nh,e.a)}function ih(e){this.a=e,this.b=ac(),this.c=null,this.f=function(e){var t=sh("local"),n=sh("session"),r=sh("none");return function(e,t,n){var r=uc(t,n),i=sc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Br(s.localStorage.getItem(r))}catch(YT){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ah,e.a).then((function(e){return e?sh(e):t}))}))}))})).then((function(t){return e.c=t,oh(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(sh("local"),this.a,w(this.g,this))}function oh(e,t){var n,r=[];for(n in ic)ic[n]!==t&&r.push(cc(e.b,sh(ic[n]),e.a));return r.push(cc(e.b,ah,e.a)),function(e){return new St((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Rt(e[s],x(o,s),a);else t(i)}))}(r)}ih.prototype.g=function(){var e=this,t=sh("local");hh(this,(function(){return Pt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return oh(e,"local").then((function(){e.c=t}))}))}))};var ah={name:"persistence",F:"session"};function sh(e){return{name:"authUser",F:e}}function uh(e,t){return hh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function ch(e){return hh(e,(function(){return cc(e.b,e.c,e.a)}))}function lh(e,t,n){return hh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),eh(e||{})}))}))}function hh(e,t){return e.f=e.f.then(t,t),e.f}function fh(e){if(this.l=!1,Jr(this,"settings",new nl),Jr(this,"app",e),!wh(this).options||!wh(this).options.apiKey)throw new C("invalid-api-key");e=rt.default.SDK_VERSION?Ar(rt.default.SDK_VERSION):null,this.a=new ts(wh(this).options&&wh(this).options.apiKey,R(I),e),this.P=[],this.s=[],this.N=[],this.Pa=rt.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=rt.default.INTERNAL.createSubscribe(w(this.Ac,this)),bh(this,null),this.i=new ih(wh(this).options.apiKey+":"+wh(this).name),this.D=new th(wh(this).options.apiKey+":"+wh(this).name),this.$=kh(this,function(e){var t=wh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(nh,e.a).then((function(e){return e&&t&&(e.authDomain=t),eh(e||{})}))}(e.D,wh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),rh(e.D)}));return kh(e,t)}(e).then((function(){return lh(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return uh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:ch(e.i)}))):null})).then((function(t){bh(e,t||null)}));return kh(e,n)}(this)),this.h=kh(this,function(e){return e.$.then((function(){return gh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(sh("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=wh(e).options.authDomain,n=wh(e).options.apiKey;t&&Dr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=$c(t,n,wh(e).name,e.R),Uc(e.b,e),xh(e)&&Ll(xh(e)),e.m){Ll(e.m);var r=e.m;r.xa(e.la()),Tl(r,e),Nl(r=e.m,e.J),Pl(r,e),Cl(r=e.m,e.R),Il(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=zn(this.R.url);e=ti({protocol:e.c,host:e.a,port:e.g,options:ti({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function dh(e){Jt.call(this,"languageCodeChanged"),this.h=e}function ph(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function vh(e){Jt.call(this,"frameworkChanged"),this.f=e}function mh(e){return e.Oa||At(new C("auth-domain-config-required"))}function gh(e){if(!Dr())return At(new C("operation-not-supported-in-this-environment"));var t=mh(e).then((function(){return e.b.ra()})).then((function(e){return e?ti(e):null}));return kh(e,t)}function yh(e,t){var n={};return n.apiKey=wh(e).options.apiKey,n.authDomain=wh(e).options.authDomain,n.appName=wh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new kl(e,t);return n&&(i.ha=n),r&&Nl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return xh(e)&&t.uid==xh(e).uid?(Zl(xh(e),t),e.da(t)):(bh(e,t),Ll(t),e.da(t))})).then((function(){Eh(e)}))}function bh(e,t){xh(e)&&(function(e,t){Q(e.W,(function(e){return e==t}))}(xh(e),e.Ba),vn(xh(e),"tokenChanged",e.qa),vn(xh(e),"userDeleted",e.za),vn(xh(e),"userInvalidated",e.Aa),Ol(xh(e))),t&&(t.W.push(e.Ba),fn(t,"tokenChanged",e.qa),fn(t,"userDeleted",e.za),fn(t,"userInvalidated",e.Aa),0<e.u&&Rl(t)),Jr(e,"currentUser",t),t&&(t.xa(e.la()),Tl(t,e),Nl(t,e.J),Pl(t,e),Cl(t,e.R),Il(t,e))}function _h(e,t){var n=null,r=null;return kh(e,t.then((function(t){return n=qo(t),r=eo(t),yh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ll(t.w(),e,w(e.kc,e))),n||t})).then((function(){return ti({user:xh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wh(e){return e.app}function xh(e){return e.currentUser}function Sh(e){return xh(e)&&xh(e)._lat||null}function Eh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Sh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Sh(e))}}function kh(e,t){return e.P.push(t),t.oa((function(){$(e.P,t)})),t}function Ch(){}function Th(){this.a={},this.b=1e12}ih.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");e:{for(r in ic)if(ic[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(kr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!ju()&&"none"!==e)throw n;break;default:if(!Mr()&&"none"!==e)throw n}}(e),hh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,oh(n,e)})).then((function(){if(n.c=sh(e),t)return n.b.set(n.c,t,n.a)})):Pt()}))},E(fh,En),E(dh,Jt),E(ph,Jt),E(vh,Jt),(e=fh.prototype).yb=function(e){return kh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,us(this.a,this.aa),this.dispatchEvent(new dh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&wr().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,cs(this.a,this.R),this.dispatchEvent(new ph(this.R))}},e.Gc=function(e){this.J.push(e),hs(this.a,rt.default.SDK_VERSION?Ar(rt.default.SDK_VERSION,this.J):null),this.dispatchEvent(new vh(this.J))},e.Ga=function(){return X(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:wh(this).options.apiKey,authDomain:wh(this).options.authDomain,appName:wh(this).name,currentUser:xh(this)&&xh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return _h(i,ks(i.a,o))}))},e.Xc=function(e){if(!Dr())return At(new C("operation-not-supported-in-this-environment"));var t=this,n=Ji(e.providerId),r=zr(),i=null;(!Fr()||Sr())&&wh(this).options.authDomain&&e.isOAuthProvider&&(i=Su(wh(this).options.authDomain,wh(this).options.apiKey,wh(this).name,"signInViaPopup",e,null,r,rt.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=yr(i,n&&n.va,n&&n.ua);return n=mh(this).then((function(n){return qc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new St((function(e,n){t.na("signInViaPopup",null,new C("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Wc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&gr(o),e?ti(e):null})).o((function(e){throw o&&gr(o),e})),kh(this,n)},e.Yc=function(e){if(!Dr())return At(new C("operation-not-supported-in-this-environment"));var t=this,n=mh(this).then((function(){return function(e){return hh(e,(function(){return e.b.set(ah,e.c.F,e.a)}))}(t.i)})).then((function(){return Hc(t.b,"signInViaRedirect",e,void 0,t.T())}));return kh(this,n)},e.ra=function(){var e=this;return gh(this).then((function(t){return e.b&&Xc(e.b.b),t})).o((function(t){throw e.b&&Xc(e.b.b),t}))},e.dd=function(e){if(!e)return At(new C("null-user"));if(this.S!=e.tenantId)return At(new C("tenant-id-mismatch"));var t=this,n={};n.apiKey=wh(this).options.apiKey,n.authDomain=wh(this).options.authDomain,n.appName=wh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[rs]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new kl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Nl(t,r),Zl(t,e),t}(e,n,t.D,t.Ga());return kh(this,this.h.then((function(){if(wh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return xh(t)&&e.uid==xh(t).uid?(Zl(xh(t),e),t.da(e)):(bh(t,r),Ll(r),t.da(r))})).then((function(){Eh(t)})))},e.Bb=function(){var e=this;return kh(this,this.h.then((function(){return e.b&&Xc(e.b.b),xh(e)?(bh(e,null),ch(e.i).then((function(){Eh(e)}))):Pt()})))},e.Zc=function(){var e=this;return lh(this.i,wh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=xh(e)&&t){n=xh(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Zl(xh(e),t),xh(e).I();(xh(e)||t)&&(bh(e,t),t&&(Ll(t),t.ha=e.D),e.b&&Uc(e.b,e),Eh(e))}}))},e.da=function(e){return uh(this.i,e)},e.mc=function(){Eh(this),this.da(xh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return _h(t,Pt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(xh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),kh(e,e.h.then((function(){!e.l&&G(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Sh(e)))})))}(this,(function(){e.next(xh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(xh(r)):"function"===typeof e.next&&e.next(xh(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(xh(r)):"function"===typeof e.next&&e.next(xh(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this,n=this.h.then((function(){return xh(t)?xh(t).I(e).then((function(e){return{accessToken:e}})):null}));return kh(this,n)},e.Tc=function(e){var t=this;return this.h.then((function(){return _h(t,uu(t.a,nu,{token:e}))})).then((function(e){var n=e.user;return ql(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return _h(n,uu(n.a,ru,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return _h(n,uu(n.a,As,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return _h(t,e.ka(t.a))}))},e.Sc=function(e){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=xh(e);if(t&&t.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return _h(e,e.a.Ab()).then((function(t){var n=t.user;return ql(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return xh(this)&&xh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&xh(this)&&Rl(xh(this))},e.Pc=function(e){var t=this;Z(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&xh(this)&&Ol(xh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),kh(this,this.h.then((function(){t.l||G(t.s,e)&&e(Sh(t))})))},e.removeAuthTokenListener=function(e){Q(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(sh("local"),e.a,this.ja),this.b&&(Vc(this.b,this),Xc(this.b.b)),Promise.resolve()},e.hc=function(e){return kh(this,function(e,t){return uu(e,Rs,{identifier:t,continueUri:Lr()?dr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!jo(e)},e.xb=function(e,t){var n=this;return kh(this,Pt().then((function(){var e=new Oi(t);if(!e.c)throw new C("argument-error",ji+" must be true when sending sign in link to email");return Zi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return kh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return kh(this,this.a.Sa(e).then((function(e){return new li(e)})))},e.kb=function(e){return kh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return kh(this,Pt().then((function(){return"undefined"===typeof t||pe(t)?{}:Zi(new Oi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return kh(this,il(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return kh(this,Pt().then((function(){var r=t||dr(),i=Lo(e,r);if(!(r=jo(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new C("tenant-id-mismatch");return n.ab(i)})))},Ch.prototype.render=function(){},Ch.prototype.reset=function(){},Ch.prototype.getResponse=function(){},Ch.prototype.execute=function(){};var Ih=null;function Nh(e,t){return(t=Ph(t))&&e.a[t]||null}function Ph(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Ah(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function Rh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Oh(){}function Mh(){}Th.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ah(e,t),this.b++},Th.prototype.reset=function(e){var t=Nh(this,e);e=Ph(e),t&&e&&(t.delete(),delete this.a[e])},Th.prototype.getResponse=function(e){return(e=Nh(this,e))?e.getResponse():null},Th.prototype.execute=function(e){(e=Nh(this,e))&&e.execute()},Ah.prototype.getResponse=function(){return Rh(this),this.b},Ah.prototype.execute=function(){Rh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(JT){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(JT){}e.h&&e.execute()}),6e4)}),500))},Ah.prototype.delete=function(){Rh(this),this.g=!0,clearTimeout(this.a),this.a=null,vn(this.f,"click",this.i)},Jr(Oh,"FACTOR_ID","phone"),Mh.prototype.g=function(){return Ih||(Ih=new Th),Pt(Ih)},Mh.prototype.c=function(){};var Dh=null;function Lh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jh=new be(Se,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Fh=new Hr(3e4,6e4);Lh.prototype.g=function(e){var t=this;return new St((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),Fh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete s[t.a]},Pt(Ga(Te(jh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Lh.prototype.c=function(){this.b--};var Uh=null;function Vh(e,t,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Dh||(Dh=new Mh),a=Dh):(Uh||(Uh=new Lh),a=Uh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[qh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Zh],!s.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ts(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Bh];this.a[Bh]=function(e){if(Hh(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Or(c,s);"function"===typeof t&&t(e)}};var l=this.a[zh];this.a[zh]=function(){if(Hh(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Or(l,s);"function"===typeof e&&e()}}}var Bh="callback",zh="expired-callback",qh="sitekey",Zh="size";function Hh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(JT){}}function Wh(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function Kh(e){if(e.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Gh(e,t,n){var r=!1;try{this.b=n||rt.default.app()}catch(tI){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(tI){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(tI){}o=rt.default.SDK_VERSION?Ar(rt.default.SDK_VERSION,o):null,Vh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(YT){e=null}return e}),o,R(I),r)}function $h(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Qh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Qh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new C("argument-error",e+" failed: "+r)}(e=Vh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Wh(this,Pt().then((function(){if(Lr()&&!Er())return wr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,uu(e.s,Hs,{})})).then((function(t){e.a[qh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Kh(this);var e=this;return Wh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ct&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ze(a.name),'"'),a.type){o.push(' type="',Ze(a.type),'"');var s={};ge(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=gt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ht(o,a)),2<r.length&&mt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Kh(this);var e=this;return Wh(this,this.render().then((function(t){return new St((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Q(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Kh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Kh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},E(Gh,Vh);var Qh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Yh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Xh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Jh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function ef(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function tf(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function nf(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function rf(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function of(e){return v(e)&&"string"===typeof e.uid}function af(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function sf(e,t){for(var n in t){var r=t[n].name;e[r]=lf(r,e[n],t[n].j)}}function uf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:x((function(e){return this[e]}),n),set:x((function(e,t,n,r){$h(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function cf(e,t,n,r){e[t]=lf(t,n,r)}function lf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return $h(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}sf(fh.prototype,{kb:{name:"applyActionCode",j:[Yh("code")]},Sa:{name:"checkActionCode",j:[Yh("code")]},ob:{name:"confirmPasswordReset",j:[Yh("code"),Yh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Yh("email"),Yh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Yh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Yh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[af(Jh(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[af(Jh(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Yh("email"),af(Jh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Yh("email"),Jh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Yh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[nf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[nf()]},Tc:{name:"signInWithCustomToken",j:[Yh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Yh("email"),Yh("password")]},Vc:{name:"signInWithEmailLink",j:[Yh("email"),Yh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[af({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof kl)}},tf(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Yh("url"),Jh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Yh("code")]}}),uf(fh.prototype,{lc:{name:"languageCode",lb:af(Yh(),tf(),"languageCode")},ti:{name:"tenantId",lb:af(Yh(),tf(),"tenantId")}}),fh.Persistence=ic,fh.Persistence.LOCAL="local",fh.Persistence.SESSION="session",fh.Persistence.NONE="none",sf(kl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[nf()]},rb:{name:"linkWithCredential",j:[nf()]},Dc:{name:"linkWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[nf()]},ub:{name:"reauthenticateWithCredential",j:[nf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[af(Jh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},cd:{name:"unlink",j:[Yh("provider")]},Cb:{name:"updateEmail",j:[Yh("email")]},Db:{name:"updatePassword",j:[Yh("password")]},ed:{name:"updatePhoneNumber",j:[nf("phone")]},Eb:{name:"updateProfile",j:[Jh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Yh("email"),af(Jh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]}}),sf(Th.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),sf(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),sf(St.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),uf(nl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Xh("appVerificationDisabledForTesting")}}),sf(rl.prototype,{confirm:{name:"confirm",j:[Yh("verificationCode")]}}),cf(po,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[wo,Mo,Uo,yo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[af(Yh(),Jh(),"json")]),cf(Do,"credential",(function(e,t){return new Oo(e,t)}),[Yh("email"),Yh("password")]),sf(Oo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sf(ko.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),cf(ko,"credential",Co,[af(Yh(),Jh(),"token")]),cf(Do,"credentialWithLink",Lo,[Yh("email"),Yh("emailLink")]),sf(To.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),cf(To,"credential",Io,[af(Yh(),Jh(),"token")]),sf(No.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),cf(No,"credential",Po,[af(Yh(),af(Jh(),tf()),"idToken"),af(Yh(),tf(),"accessToken",!0)]),sf(Ao.prototype,{Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),cf(Ao,"credential",Ro,[af(Yh(),Jh(),"token"),Yh("secret",!0)]),sf(Eo.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},credential:{name:"credential",j:[af(Yh(),af(Jh(),tf()),"optionsOrIdToken"),af(Yh(),tf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),sf(bo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sf(mo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),cf(Bo,"credential",zo,[Yh("verificationId"),Yh("verificationCode")]),sf(Bo.prototype,{gb:{name:"verifyPhoneNumber",j:[af(Yh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?rf(e.session,ho)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?rf(e.session,fo)&&of(e.multiFactorHint):e.session&&e.multiFactorUid?rf(e.session,fo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),sf(Fo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sf(C.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(Yo.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(Qo.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(cl.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(al.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),sf(vl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Yh("displayName",!0)]},bd:{name:"unenroll",j:[af({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:of},Yh(),"multiFactorInfoIdentifier")]}}),sf(Gh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),cf(Ei,"parseLink",Ri,[Yh("link")]),cf(Oh,"assertion",(function(e){return new dl(e)}),[nf("phone")]),function(){if("undefined"===typeof rt.default||!rt.default.INTERNAL||!rt.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:di,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:fh,AuthCredential:po,Error:C};cf(e,"EmailAuthProvider",Do,[]),cf(e,"FacebookAuthProvider",ko,[]),cf(e,"GithubAuthProvider",To,[]),cf(e,"GoogleAuthProvider",No,[]),cf(e,"TwitterAuthProvider",Ao,[]),cf(e,"OAuthProvider",Eo,[Yh("providerId")]),cf(e,"SAMLAuthProvider",So,[Yh("providerId")]),cf(e,"PhoneAuthProvider",Bo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof fh)}}]),cf(e,"RecaptchaVerifier",Gh,[af(Yh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Jh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof rt.default.app.App)}}]),cf(e,"ActionCodeURL",Ei,[]),cf(e,"PhoneMultiFactorGenerator",Oh,[]),rt.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new fh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),rt.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),rt.default.registerVersion("@firebase/auth","0.16.8"),rt.default.INTERNAL.extendNamespace({User:kl})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(6895);var it=n(9388),ot=n(9971),at=n(9386),st=function(e,t){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},st(e,t)};function ut(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ct,lt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ht=ht||{},ft=lt||self;function dt(){}function pt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var mt="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function yt(e,t,n){return e.call.apply(e.bind,arguments)}function bt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _t(e,t,n){return(_t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yt:bt).apply(null,arguments)}function wt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function xt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function St(){this.s=this.s,this.o=this.o}var Et={};St.prototype.s=!1,St.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,mt)&&e[mt]||(e[mt]=++gt)}(this);delete Et[e]}},St.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var kt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ct=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Tt(e){return Array.prototype.concat.apply([],arguments)}function It(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nt(e){return/^[\s\xa0]*$/.test(e)}var Pt,At=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Rt(e,t){return-1!=e.indexOf(t)}function Ot(e,t){return e<t?-1:e>t?1:0}e:{var Mt=ft.navigator;if(Mt){var Dt=Mt.userAgent;if(Dt){Pt=Dt;break e}}Pt=""}function Lt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function jt(e){var t={};for(var n in e)t[n]=e[n];return t}var Ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ut(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Ft.length;o++)n=Ft[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Vt(e){return Vt[" "](e),e}Vt[" "]=dt;var Bt,zt=Rt(Pt,"Opera"),qt=Rt(Pt,"Trident")||Rt(Pt,"MSIE"),Zt=Rt(Pt,"Edge"),Ht=Zt||qt,Wt=Rt(Pt,"Gecko")&&!(Rt(Pt.toLowerCase(),"webkit")&&!Rt(Pt,"Edge"))&&!(Rt(Pt,"Trident")||Rt(Pt,"MSIE"))&&!Rt(Pt,"Edge"),Kt=Rt(Pt.toLowerCase(),"webkit")&&!Rt(Pt,"Edge");function Gt(){var e=ft.document;return e?e.documentMode:void 0}e:{var $t="",Qt=function(){var e=Pt;return Wt?/rv:([^\);]+)(\)|;)/.exec(e):Zt?/Edge\/([\d\.]+)/.exec(e):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Kt?/WebKit\/(\S+)/.exec(e):zt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qt&&($t=Qt?Qt[1]:""),qt){var Yt=Gt();if(null!=Yt&&Yt>parseFloat($t)){Bt=String(Yt);break e}}Bt=$t}var Xt,Jt={};function en(){return function(e){var t=Jt;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=At(String(Bt)).split("."),n=At("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Ot(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ot(0==o[2].length,0==a[2].length)||Ot(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(ft.document&&qt){var tn=Gt();Xt=tn||(parseInt(Bt,10)||void 0)}else Xt=void 0;var nn=Xt,rn=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ft.addEventListener("test",dt,t),ft.removeEventListener("test",dt,t)}catch(XT){}return e}();function on(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function an(e,t){if(on.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wt){e:{try{Vt(t.nodeName);var i=!0;break e}catch(rI){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&an.Z.h.call(this)}}on.prototype.h=function(){this.defaultPrevented=!0},xt(an,on);var sn={2:"touch",3:"pen",4:"mouse"};an.prototype.h=function(){an.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var un="closure_listenable_"+(1e6*Math.random()|0),cn=0;function ln(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++cn,this.ca=this.fa=!1}function hn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function fn(e){this.src=e,this.g={},this.h=0}function dn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=kt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(hn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function pn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}fn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=pn(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new ln(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var vn="closure_lm_"+(1e6*Math.random()|0),mn={};function gn(e,t,n,r,i){if(r&&r.once)return bn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)gn(e,t[o],n,r,i);return null}return n=Cn(n),e&&e[un]?e.N(t,n,vt(r)?!!r.capture:!!r,i):yn(e,t,n,!1,r,i)}function yn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=vt(i)?!!i.capture:!!i,s=En(e);if(s||(e[vn]=s=new fn(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Sn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)rn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function bn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)bn(e,t[o],n,r,i);return null}return n=Cn(n),e&&e[un]?e.O(t,n,vt(r)?!!r.capture:!!r,i):yn(e,t,n,!0,r,i)}function _n(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_n(e,t[o],n,r,i);else r=vt(r)?!!r.capture:!!r,n=Cn(n),e&&e[un]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=pn(o=e.g[t],n,r,i))&&(hn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=En(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pn(t,n,r,i)),(n=-1<e?t[e]:null)&&wn(n))}function wn(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[un])dn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=En(t))?(dn(n,e),0==n.h&&(n.src=null,t[vn]=null)):hn(e)}}}function xn(e){return e in mn?mn[e]:mn[e]="on"+e}function Sn(e,t){if(e.ca)e=!0;else{t=new an(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&wn(e),e=n.call(r,t)}return e}function En(e){return(e=e[vn])instanceof fn?e:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(e){return"function"===typeof e?e:(e[kn]||(e[kn]=function(t){return e.handleEvent(t)}),e[kn])}function Tn(){St.call(this),this.i=new fn(this),this.P=this,this.I=null}function In(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new on(t,e);else if(t instanceof on)t.target=t.target||e;else{var i=t;Ut(t=new on(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Nn(a,r,!0,t)&&i}if(i=Nn(a=t.g=e,r,!0,t)&&i,i=Nn(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Nn(a=t.g=n[o],r,!1,t)&&i}function Nn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&dn(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}xt(Tn,St),Tn.prototype[un]=!0,Tn.prototype.removeEventListener=function(e,t,n,r){_n(this,e,t,n,r)},Tn.prototype.M=function(){if(Tn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hn(n[r]);delete t.g[e],t.h--}}this.I=null},Tn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Tn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Pn=ft.JSON.stringify;function An(){var e=Un,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Rn,On=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Mn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Mn=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Dn}),(function(e){return e.reset()})),Dn=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ln(e){ft.setTimeout((function(){throw e}),0)}function jn(e,t){Rn||function(){var e=ft.Promise.resolve(void 0);Rn=function(){e.then(Vn)}}(),Fn||(Rn(),Fn=!0),Un.add(e,t)}var Fn=!1,Un=new On;function Vn(){for(var e;e=An();){try{e.h.call(e.g)}catch(XT){Ln(XT)}var t=Mn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fn=!1}function Bn(e,t){Tn.call(this),this.h=e||1,this.g=t||ft,this.j=_t(this.kb,this),this.l=Date.now()}function zn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qn(e,t,n){if("function"===typeof e)n&&(e=_t(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_t(e.handleEvent,e)}return 2147483647<Number(t)?-1:ft.setTimeout(e,t||0)}function Zn(e){e.g=qn((function(){e.g=null,e.i&&(e.i=!1,Zn(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}xt(Bn,Tn),(ct=Bn.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),In(this,"tick"),this.da&&(zn(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){Bn.Z.M.call(this),zn(this),delete this.g};var Hn=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}st(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Zn(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(St);function Wn(e){St.call(this),this.h=e,this.g={}}xt(Wn,St);var Kn=[];function Gn(e,t,n,r){Array.isArray(n)||(n&&(Kn[0]=n.toString()),n=Kn);for(var i=0;i<n.length;i++){var o=gn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function $n(e){Lt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&wn(e)}),e),e.g={}}function Qn(){this.g=!0}function Yn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Pn(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Wn.prototype.M=function(){Wn.Z.M.call(this),$n(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qn.prototype.Aa=function(){this.g=!1},Qn.prototype.info=function(){};var Xn={},Jn=null;function er(){return Jn=Jn||new Tn}function tr(e){on.call(this,Xn.Ma,e)}function nr(e){var t=er();In(t,new tr(t,e))}function rr(e,t){on.call(this,Xn.STAT_EVENT,e),this.stat=t}function ir(e){var t=er();In(t,new rr(t,e))}function or(e,t){on.call(this,Xn.Na,e),this.size=t}function ar(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ft.setTimeout((function(){e()}),t)}Xn.Ma="serverreachability",xt(tr,on),Xn.STAT_EVENT="statevent",xt(rr,on),Xn.Na="timingevent",xt(or,on);var sr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ur={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cr(){}function lr(e){return e.h||(e.h=e.i())}function hr(){}cr.prototype.h=null;var fr,dr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pr(){on.call(this,"d")}function vr(){on.call(this,"c")}function mr(){}function gr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Wn(this),this.P=br,e=Ht?125:void 0,this.W=new Bn(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}xt(pr,on),xt(vr,on),xt(mr,cr),mr.prototype.g=function(){return new XMLHttpRequest},mr.prototype.i=function(){return{}},fr=new mr;var br=45e3,_r={},wr={};function xr(e,t,n){e.K=1,e.v=Hr(Ur(t)),e.s=n,e.U=!0,Sr(e,null)}function Sr(e,t){e.F=Date.now(),Tr(e),e.A=Ur(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ii(n.h,"t",r),e.C=0,n=e.l.H,e.h=new yr,e.g=oo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Hn(_t(e.Ia,e,e.g),e.O)),Gn(e.V,e.g,"readystatechange",e.gb),t=e.H?jt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),nr(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Er(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function kr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Cr(e,n))==wr){4==t&&(e.o=4,ir(14),i=!1),Yn(e.j,e.m,null,"[Incomplete Response]");break}if(r==_r){e.o=4,ir(15),Yn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Yn(e.j,e.m,r,null),Rr(e,r)}Er(e)&&r!=wr&&r!=_r&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ir(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yi(t),t.L=!0,ir(11))):(Yn(e.j,e.m,n,"[Invalid Chunked Response]"),Ar(e),Pr(e))}function Cr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wr:(n=Number(t.substring(n,r)),isNaN(n)?_r:(r+=1)+n>t.length?wr:(t=t.substr(r,n),e.C=r+n,t))}function Tr(e){e.Y=Date.now()+e.P,Ir(e,e.P)}function Ir(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ar(_t(e.eb,e),t)}function Nr(e){e.B&&(ft.clearTimeout(e.B),e.B=null)}function Pr(e){0==e.l.G||e.I||eo(e.l,e)}function Ar(e){Nr(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,zn(e.W),$n(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Rr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hi(n.i,e)))if(n.I=e.N,!e.J&&hi(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ji(n),zi(n)}Qi(n),ir(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ar(_t(n.ab,n),6e3));if(1>=li(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else no(n,11)}else if((e.J||n.g==e)&&Ji(n),!Nt(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Rt(l,"spdy")||Rt(l,"quic")||Rt(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(fi(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Zr(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=io(r,r.H?r.la:null,r.W),d.J){di(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Nr(p),Tr(p)),r.g=d}else $i(r);0<n.l.length&&Hi(n)}else"stop"!=o[0]&&"close"!=o[0]||no(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?no(n,7):Bi(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}nr(4)}catch(o){}}function Or(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(pt(e)||"string"===typeof e)Ct(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(pt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(pt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Mr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Lr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Lr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Lr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ct=gr.prototype).setTimeout=function(e){this.P=e},ct.gb=function(e){e=e.target;var t=this.L;t&&3==Li(e)?t.l():this.Ia(e)},ct.Ia=function(e){try{if(e==this.g)e:{var t=Li(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ht||this.g&&(this.h.h||this.g.ga()||ji(this.g)))){this.I||4!=t||7==n||nr(8==n||0>=r?3:2),Nr(this);var i=this.g.ba();this.N=i;t:if(Er(this)){var o=ji(this.g);e="";var a=o.length,s=4==Li(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ar(this),Pr(this);var u="";break t}this.h.i=new ft.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nt(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,ir(12),Ar(this),Pr(this);break e}Yn(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rr(this,i)}this.U?(kr(this,t,u),Ht&&this.i&&3==t&&(Gn(this.V,this.W,"tick",this.fb),this.W.start())):(Yn(this.j,this.m,u,null),Rr(this,u)),4==t&&Ar(this),this.i&&!this.I&&(4==t?eo(this.l,this):(this.i=!1,Tr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ir(12)):(this.o=0,ir(13)),Ar(this),Pr(this)}}}catch(t){}},ct.fb=function(){if(this.g){var e=Li(this.g),t=this.g.ga();this.C<t.length&&(Nr(this),kr(this,e,t),this.i&&4!=e&&Tr(this))}},ct.cancel=function(){this.I=!0,Ar(this)},ct.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(nr(3),ir(17)),Ar(this),this.o=2,Pr(this)):Ir(this,this.Y-e)},(ct=Mr.prototype).R=function(){Dr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ct.T=function(){return Dr(this),this.g.concat()},ct.get=function(e,t){return Lr(this.h,e)?this.h[e]:t},ct.set=function(e,t){Lr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ct.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var jr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Fr){this.g=void 0!==t?t:e.g,Vr(this,e.j),this.s=e.s,Br(this,e.i),zr(this,e.m),this.l=e.l,t=e.h;var n=new ei;n.i=t.i,t.g&&(n.g=new Mr(t.g),n.h=t.h),qr(this,n),this.o=e.o}else e&&(n=String(e).match(jr))?(this.g=!!t,Vr(this,n[1]||"",!0),this.s=Wr(n[2]||""),Br(this,n[3]||"",!0),zr(this,n[4]),this.l=Wr(n[5]||"",!0),qr(this,n[6]||"",!0),this.o=Wr(n[7]||"")):(this.g=!!t,this.h=new ei(null,this.g))}function Ur(e){return new Fr(e)}function Vr(e,t,n){e.j=n?Wr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Br(e,t,n){e.i=n?Wr(t,!0):t}function zr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qr(e,t,n){t instanceof ei?(e.h=t,function(e,t){t&&!e.j&&(ti(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ni(this,t),ii(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Kr(t,Xr)),e.h=new ei(t,e.g))}function Zr(e,t,n){e.h.set(t,n)}function Hr(e){return Zr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kr(t,$r,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kr(t,$r,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kr(n,"/"==n.charAt(0)?Yr:Qr,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kr(n,Jr)),e.join("")};var $r=/[#\/\?@]/g,Qr=/[#\?:]/g,Yr=/[#\?]/g,Xr=/[#\?@]/g,Jr=/#/g;function ei(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ti(e){e.g||(e.g=new Mr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ni(e,t){ti(e),t=oi(e,t),Lr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Lr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Dr(e)))}function ri(e,t){return ti(e),t=oi(e,t),Lr(e.g.h,t)}function ii(e,t,n){ni(e,t),0<n.length&&(e.i=null,e.g.set(oi(e,t),It(n)),e.h+=n.length)}function oi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ct=ei.prototype).add=function(e,t){ti(this),this.i=null,e=oi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ct.forEach=function(e,t){ti(this),this.g.forEach((function(n,r){Ct(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ct.T=function(){ti(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ct.R=function(e){ti(this);var t=[];if("string"===typeof e)ri(this,e)&&(t=Tt(t,this.g.get(oi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Tt(t,e[n])}return t},ct.set=function(e,t){return ti(this),this.i=null,ri(this,e=oi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ct.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var ai=function(e,t){this.h=e,this.g=t};function si(e){this.l=e||ui,ft.PerformanceNavigationTiming?e=0<(e=ft.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ft.g&&ft.g.Ea&&ft.g.Ea()&&ft.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ui=10;function ci(e){return!!e.h||!!e.g&&e.g.size>=e.j}function li(e){return e.h?1:e.g?e.g.size:0}function hi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fi(e,t){e.g?e.g.add(t):e.h=t}function di(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pi(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=ut(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return It(e.i)}function vi(){}function mi(){this.g=new vi}function gi(e,t,n){var r=n||"";try{Or(e,(function(e,n){var i=e;vt(e)&&(i=Pn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Vv){throw t.push(r+"type="+encodeURIComponent("_badmap")),Vv}}function yi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(rI){}}function bi(e){this.l=e.$b||null,this.j=e.ib||!1}function _i(e,t){Tn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}si.prototype.cancel=function(){var e,t;if(this.i=pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ut(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},vi.prototype.stringify=function(e){return ft.JSON.stringify(e,void 0)},vi.prototype.parse=function(e){return ft.JSON.parse(e,void 0)},xt(bi,cr),bi.prototype.g=function(){return new _i(this.l,this.j)},bi.prototype.i=function(e){return function(){return e}}({}),xt(_i,Tn);var wi=0;function xi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Si(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ei(e)}function Ei(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ct=_i.prototype).open=function(e,t){if(this.readyState!=wi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ei(this)},ct.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ft).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Si(this)),this.readyState=wi},ct.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ft.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Si(this):Ei(this),3==this.readyState&&xi(this)}},ct.Ua=function(e){this.g&&(this.response=this.responseText=e,Si(this))},ct.Ta=function(e){this.g&&(this.response=e,Si(this))},ct.ha=function(){this.g&&Si(this)},ct.setRequestHeader=function(e,t){this.v.append(e,t)},ct.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ki=ft.JSON.parse;function Ci(e){Tn.call(this),this.headers=new Mr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ti,this.K=this.L=!1}xt(Ci,Tn);var Ti="",Ii=/^https?$/i,Ni=["POST","PUT"];function Pi(e){return"content-type"==e.toLowerCase()}function Ai(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ri(e),Mi(e)}function Ri(e){e.D||(e.D=!0,In(e,"complete"),In(e,"error"))}function Oi(e){if(e.h&&"undefined"!=typeof ht&&(!e.C[1]||4!=Li(e)||2!=e.ba()))if(e.v&&4==Li(e))qn(e.Fa,0,e);else if(In(e,"readystatechange"),4==Li(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(jr)[1]||null;if(!o&&ft.self&&ft.self.location){var a=ft.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ii.test(o?o.toLowerCase():"")}t=i}if(t)In(e,"complete"),In(e,"success");else{e.m=6;try{var s=2<Li(e)?e.g.statusText:""}catch(QT){s=""}e.j=s+" ["+e.ba()+"]",Ri(e)}}finally{Mi(e)}}}function Mi(e,t){if(e.g){Di(e);var n=e.g,r=e.C[0]?dt:null;e.g=null,e.C=null,t||In(e,"ready");try{n.onreadystatechange=r}catch(Vv){}}}function Di(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ft.clearTimeout(e.A),e.A=null)}function Li(e){return e.g?e.g.readyState:0}function ji(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ti:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lI){return null}}function Fi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Lt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Zr(e,t,n))}function Ui(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vi(e){this.za=0,this.l=[],this.h=new Qn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ui("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ui("baseRetryDelayMs",5e3,e),this.$a=Ui("retryDelaySeedMs",1e4,e),this.Ya=Ui("forwardChannelMaxRetries",2,e),this.ra=Ui("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new si(e&&e.concurrentRequestLimit),this.Ca=new mi,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Bi(e){if(qi(e),3==e.G){var t=e.V++,n=Ur(e.F);Zr(n,"SID",e.J),Zr(n,"RID",t),Zr(n,"TYPE","terminate"),Ki(e,n),(t=new gr(e,e.h,t,void 0)).K=2,t.v=Hr(Ur(n)),n=!1,ft.navigator&&ft.navigator.sendBeacon&&(n=ft.navigator.sendBeacon(t.v.toString(),"")),!n&&ft.Image&&((new Image).src=t.v,n=!0),n||(t.g=oo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Tr(t)}ro(e)}function zi(e){e.g&&(Yi(e),e.g.cancel(),e.g=null)}function qi(e){zi(e),e.u&&(ft.clearTimeout(e.u),e.u=null),Ji(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ft.clearTimeout(e.m),e.m=null)}function Zi(e,t){e.l.push(new ai(e.Za++,t)),3==e.G&&Hi(e)}function Hi(e){ci(e.i)||e.m||(e.m=!0,jn(e.Ha,e),e.C=0)}function Wi(e,t){var n;n=t?t.m:e.V++;var r=Ur(e.F);Zr(r,"SID",e.J),Zr(r,"RID",n),Zr(r,"AID",e.U),Ki(e,r),e.o&&e.s&&Fi(r,e.o,e.s),n=new gr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Gi(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),fi(e.i,n),xr(n,r,t)}function Ki(e,t){e.j&&Or({},(function(e,n){Zr(t,n,e)}))}function Gi(e,t,n){n=Math.min(e.l.length,n);var r=e.j?_t(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{gi(l,a,"req"+c+"_")}catch(Bo){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $i(e){e.g||e.u||(e.Y=1,jn(e.Ga,e),e.A=0)}function Qi(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ar(_t(e.Ga,e),to(e,e.A)),e.A++,!0)}function Yi(e){null!=e.B&&(ft.clearTimeout(e.B),e.B=null)}function Xi(e){e.g=new gr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ur(e.oa);Zr(t,"RID","rpc"),Zr(t,"SID",e.J),Zr(t,"CI",e.N?"0":"1"),Zr(t,"AID",e.U),Ki(e,t),Zr(t,"TYPE","xmlhttp"),e.o&&e.s&&Fi(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Hr(Ur(t)),n.s=null,n.U=!0,Sr(n,e)}function Ji(e){null!=e.v&&(ft.clearTimeout(e.v),e.v=null)}function eo(e,t){var n=null;if(e.g==t){Ji(e),Yi(e),e.g=null;var r=2}else{if(!hi(e.i,t))return;n=t.D,di(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;In(r=er(),new or(r,n,t,i)),Hi(e)}else $i(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(li(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ar(_t(e.Ha,e,t),to(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qi(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:no(e,5);break;case 4:no(e,10);break;case 3:no(e,6);break;default:no(e,2)}}function to(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function no(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=_t(e.jb,e);n||(n=new Fr("//www.google.com/images/cleardot.gif"),ft.location&&"http"==ft.location.protocol||Vr(n,"https"),Hr(n)),function(e,t){var n=new Qn;if(ft.Image){var r=new Image;r.onload=wt(yi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wt(yi,n,r,"TestLoadImage: error",!1,t),r.onabort=wt(yi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wt(yi,n,r,"TestLoadImage: timeout",!1,t),ft.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ir(2);e.G=0,e.j&&e.j.va(t),ro(e),qi(e)}function ro(e){e.G=0,e.I=-1,e.j&&(0==pi(e.i).length&&0==e.l.length||(e.i.i.length=0,It(e.l),e.l.length=0),e.j.ua())}function io(e,t,n){var r=function(e){return e instanceof Fr?Ur(e):new Fr(e,void 0)}(n);if(""!=r.i)t&&Br(r,t+"."+r.i),zr(r,r.m);else{var i=ft.location;r=function(e,t,n,r){var i=new Fr(null,void 0);return e&&Vr(i,e),t&&Br(i,t),n&&zr(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Lt(e.aa,(function(e,t){Zr(r,t,e)})),t=e.D,n=e.sa,t&&n&&Zr(r,t,n),Zr(r,"VER",e.ma),Ki(e,r),r}function oo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ci(new bi({ib:!0})):new Ci(e.qa)).L=e.H,t}function ao(){}function so(){if(qt&&!(10<=Number(nn)))throw Error("Environmental error: no available transport.")}function uo(e,t){Tn.call(this),this.g=new Vi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nt(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ho(this)}function co(e){pr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lo(){vr.call(this),this.status=1}function ho(e){this.g=e}(ct=Ci.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fr.g(),this.C=this.u?lr(this.u):lr(fr),this.g.onreadystatechange=_t(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(rI){return void Ai(this,rI)}e=n||"";var i=new Mr(this.headers);r&&Or(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Pi,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ft.FormData&&e instanceof ft.FormData,!(0<=kt(Ni,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Di(this),0<this.B&&((this.K=function(e){return qt&&en()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.pa,this)):this.A=qn(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(rI){Ai(this,rI)}},ct.pa=function(){"undefined"!=typeof ht&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,In(this,"timeout"),this.abort(8))},ct.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,In(this,"complete"),In(this,"abort"),Mi(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mi(this,!0)),Ci.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?Oi(this):this.cb())},ct.cb=function(){Oi(this)},ct.ba=function(){try{return 2<Li(this)?this.g.status:-1}catch(KT){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(KT){return""}},ct.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ki(t)}},ct.Da=function(){return this.m},ct.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ct=Vi.prototype).ma=8,ct.G=1,ct.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(lI){}},ct.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new gr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ut(n=jt(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Gi(this,t,r),Zr(i=Ur(this.F),"RID",e),Zr(i,"CVER",22),this.D&&Zr(i,"X-HTTP-Session-Id",this.D),Ki(this,i),this.o&&n&&Fi(i,this.o,n),fi(this.i,t),this.Ra&&Zr(i,"TYPE","init"),this.ja?(Zr(i,"$req",r),Zr(i,"SID","null"),t.$=!0,xr(t,i,null)):xr(t,i,r),this.G=2}}else 3==this.G&&(e?Wi(this,e):0==this.l.length||ci(this.i)||Wi(this))},ct.Ga=function(){if(this.u=null,Xi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ar(_t(this.bb,this),e)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ir(10),zi(this),Xi(this))},ct.ab=function(){null!=this.v&&(this.v=null,zi(this),Qi(this),ir(19))},ct.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ir(2)):(this.h.info("Failed to ping google.com"),ir(1))},(ct=ao.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},so.prototype.g=function(e,t){return new uo(e,t)},xt(uo,Tn),uo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),jn(_t(e.hb,e,t))),ir(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=io(e,null,e.W),Hi(e)},uo.prototype.close=function(){Bi(this.g)},uo.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Zi(this.g,t)}else this.v?((t={}).__data__=Pn(e),Zi(this.g,t)):Zi(this.g,e)},uo.prototype.M=function(){this.g.j=null,delete this.j,Bi(this.g),delete this.g,uo.Z.M.call(this)},xt(co,pr),xt(lo,vr),xt(ho,ao),ho.prototype.xa=function(){In(this.g,"a")},ho.prototype.wa=function(e){In(this.g,new co(e))},ho.prototype.va=function(e){In(this.g,new lo(e))},ho.prototype.ua=function(){In(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,uo.prototype.send=uo.prototype.u,uo.prototype.open=uo.prototype.m,uo.prototype.close=uo.prototype.close,sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,ur.COMPLETE="complete",hr.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",Tn.prototype.listen=Tn.prototype.N,Ci.prototype.listenOnce=Ci.prototype.O,Ci.prototype.getLastError=Ci.prototype.La,Ci.prototype.getLastErrorCode=Ci.prototype.Da,Ci.prototype.getStatus=Ci.prototype.ba,Ci.prototype.getResponseJson=Ci.prototype.Qa,Ci.prototype.getResponseText=Ci.prototype.ga,Ci.prototype.send=Ci.prototype.ea;var fo=function(){return new so},po=function(){return er()},vo=sr,mo=ur,go=Xn,yo={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bo=bi,_o=hr,wo=Ci,xo=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();xo.o=-1;var So={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Eo=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,it.__extends)(t,e),t}(Error),ko=new at.Logger("@firebase/firestore");function Co(){return ko.logLevel}function To(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ko.logLevel<=at.LogLevel.DEBUG){var r=t.map(Po);ko.debug.apply(ko,(0,it.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function Io(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ko.logLevel<=at.LogLevel.ERROR){var r=t.map(Po);ko.error.apply(ko,(0,it.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function No(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ko.logLevel<=at.LogLevel.WARN){var r=t.map(Po);ko.warn.apply(ko,(0,it.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function Po(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ao(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Io(t),new Error(t)}function Ro(e,t){e||Ao()}function Oo(e,t){return e}function Mo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Do=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Mo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Lo(e,t){return e<t?-1:e>t?1:0}function jo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fo(e){return e+"\0"}var Uo=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Eo(So.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Eo(So.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Eo(So.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Eo(So.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Lo(this.nanoseconds,e.nanoseconds):Lo(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Vo=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Uo(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Bo(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Zo=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Ao(),void 0===n?n=e.length-t:n>e.length-t&&Ao(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Ho=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,it.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Eo(So.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Zo),Wo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,it.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Wo.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Eo(So.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Eo(So.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Eo(So.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Eo(So.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Zo),Go=function(){function e(e){this.fields=e,e.sort(Ko.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return jo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),$o=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Lo(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();$o.EMPTY_BYTE_STRING=new $o("");var Qo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(e){if(Ro(!!e),"string"==typeof e){var t=0,n=Qo.exec(e);if(Ro(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xo(e.seconds),nanos:Xo(e.nanos)}}function Xo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Jo(e){return"string"==typeof e?$o.fromBase64String(e):$o.fromUint8Array(e)}function ea(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ta(e){var t=e.mapValue.fields.__previous_value__;return ea(t)?ta(t):t}function na(e){var t=Yo(e.mapValue.fields.__local_write_time__.timestampValue);return new Uo(t.seconds,t.nanos)}function ra(e){return null==e}function ia(e){return 0===e&&1/e==-1/0}function oa(e){return"number"==typeof e&&Number.isInteger(e)&&!ia(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var aa=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Ho.fromString(t))},e.fromName=function(t){return new e(Ho.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Ho.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Ho.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Ho(t.slice()))},e}();function sa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ea(e)?4:10:Ao()}function ua(e,t){var n=sa(e);if(n!==sa(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return na(e).isEqual(na(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Yo(e.timestampValue),r=Yo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Jo(e.bytesValue).isEqual(Jo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xo(e.geoPointValue.latitude)===Xo(t.geoPointValue.latitude)&&Xo(e.geoPointValue.longitude)===Xo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xo(e.integerValue)===Xo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Xo(e.doubleValue),r=Xo(t.doubleValue);return n===r?ia(n)===ia(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jo(e.arrayValue.values||[],t.arrayValue.values||[],ua);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bo(n)!==Bo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ua(n[i],r[i])))return!1;return!0}(e,t);default:return Ao()}}function ca(e,t){return void 0!==(e.values||[]).find((function(e){return ua(e,t)}))}function la(e,t){var n=sa(e),r=sa(t);if(n!==r)return Lo(n,r);switch(n){case 0:return 0;case 1:return Lo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Xo(e.integerValue||e.doubleValue),r=Xo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ha(e.timestampValue,t.timestampValue);case 4:return ha(na(e),na(t));case 5:return Lo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Jo(e),r=Jo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Lo(n[i],r[i]);if(0!==o)return o}return Lo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Lo(Xo(e.latitude),Xo(t.latitude));return 0!==n?n:Lo(Xo(e.longitude),Xo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=la(n[i],r[i]);if(o)return o}return Lo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Lo(r[a],o[a]);if(0!==s)return s;var u=la(n[r[a]],i[o[a]]);if(0!==u)return u}return Lo(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ao()}}function ha(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lo(e,t);var n=Yo(e),r=Yo(t),i=Lo(n.seconds,r.seconds);return 0!==i?i:Lo(n.nanos,r.nanos)}function fa(e){return da(e)}function da(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Yo(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Jo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,aa.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=da(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+da(e.fields[o])}return t+"}"}(e.mapValue):Ao();var t,n}function pa(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function va(e){return!!e&&"integerValue"in e}function ma(e){return!!e&&"arrayValue"in e}function ga(e){return!!e&&"nullValue"in e}function ya(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ba(e){return!!e&&"mapValue"in e}function _a(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zo(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=_a(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_a(e.arrayValue.values[r]);return n}return Object.assign({},e)}var wa=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ba(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(t)},e.prototype.setAll=function(e){var t=this,n=Ko.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=_a(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());ba(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return ua(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ba(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){zo(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(_a(this.value))},e}();function xa(e){var t=[];return zo(e.fields,(function(e,n){var r=new Ko([e]);if(ba(n)){var i=xa(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Go(t)}var Sa=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Vo.min(),wa.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,wa.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,wa.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Ea=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ka(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ea(e,t,n,r,i,o,a)}function Ca(e){var t=Oo(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+fa(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ra(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ua(t.startAt)),t.endAt&&(n+="|ub:",n+=Ua(t.endAt)),t.h=n}return t.h}function Ta(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ba(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ua(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qa(e.startAt,t.startAt)&&qa(e.endAt,t.endAt)}function Ia(e){return aa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Na=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,it.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Pa(e,n,r):"array-contains"===n?new Ma(e,r):"in"===n?new Da(e,r):"not-in"===n?new La(e,r):"array-contains-any"===n?new ja(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Aa(e,n):new Ra(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(la(t,this.value)):null!==t&&sa(this.value)===sa(t)&&this.m(la(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ao()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Pa=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=aa.fromName(r.referenceValue),i}return(0,it.__extends)(t,e),t.prototype.matches=function(e){var t=aa.comparator(e.key,this.key);return this.m(t)},t}(Na),Aa=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Oa("in",n),r}return(0,it.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Na),Ra=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Oa("not-in",n),r}return(0,it.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Na);function Oa(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return aa.fromName(e.referenceValue)}))}var Ma=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,it.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return ma(t)&&ca(t.arrayValue,this.value)},t}(Na),Da=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,it.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&ca(this.value.arrayValue,t)},t}(Na),La=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,it.__extends)(t,e),t.prototype.matches=function(e){if(ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ca(this.value.arrayValue,t)},t}(Na),ja=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,it.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!ma(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ca(t.value.arrayValue,e)}))},t}(Na),Fa=function(e,t){this.position=e,this.before=t};function Ua(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return fa(e)})).join(",")}var Va=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ba(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function za(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?aa.comparator(aa.fromName(a.referenceValue),n.key):la(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function qa(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ua(e.position[n],t.position[n]))return!1;return!0}var Za=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ha(e,t,n,r,i,o,a,s){return new Za(e,t,n,r,i,o,a,s)}function Wa(e){return new Za(e)}function Ka(e){return!ra(e.limit)&&"F"===e.limitType}function Ga(e){return!ra(e.limit)&&"L"===e.limitType}function $a(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qa(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ya(e){return null!==e.collectionGroup}function Xa(e){var t=Oo(e);if(null===t.p){t.p=[];var n=Qa(t),r=$a(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Va(n)),t.p.push(new Va(Ko.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Va(Ko.keyField(),u))}}}return t.p}function Ja(e){var t=Oo(e);if(!t.T)if("F"===t.limitType)t.T=ka(t.path,t.collectionGroup,Xa(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Xa(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Va(o.field,a))}var s=t.endAt?new Fa(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Fa(t.startAt.position,!t.startAt.before):null;t.T=ka(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function es(e,t,n){return new Za(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ts(e,t){return Ta(Ja(e),Ja(t))&&e.limitType===t.limitType}function ns(e){return Ca(Ja(e))+"|lt:"+e.limitType}function rs(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+fa(t.value);var t})).join(", ")+"]"),ra(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ua(e.startAt)),e.endAt&&(t+=", endAt: "+Ua(e.endAt)),"Target("+t+")"}(Ja(e))+"; limitType="+e.limitType+")"}function is(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):aa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!za(e.startAt,Xa(e),t))&&(!e.endAt||!za(e.endAt,Xa(e),t))}(e,t)}function os(e){return function(t,n){for(var r=!1,i=0,o=Xa(e);i<o.length;i++){var a=o[i],s=as(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function as(e,t,n){var r=e.field.isKeyField()?aa.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?la(r,i):Ao()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ao()}}function ss(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ia(t)?"-0":t}}function us(e){return{integerValue:""+e}}function cs(e,t){return oa(t)?us(t):ss(e,t)}var ls=function(){this._=void 0};function hs(e,t,n){return e instanceof ps?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vs?ms(e,t):e instanceof gs?ys(e,t):function(e,t){var n=ds(e,t),r=_s(n)+_s(e.A);return va(n)&&va(e.A)?us(r):ss(e.R,r)}(e,t)}function fs(e,t,n){return e instanceof vs?ms(e,t):e instanceof gs?ys(e,t):n}function ds(e,t){return e instanceof bs?va(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,it.__extends)(t,e),t}(ls),vs=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,it.__extends)(t,e),t}(ls);function ms(e,t){for(var n=ws(t),r=function(e){n.some((function(t){return ua(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var gs=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,it.__extends)(t,e),t}(ls);function ys(e,t){for(var n=ws(t),r=function(e){n=n.filter((function(t){return!ua(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var bs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,it.__extends)(t,e),t}(ls);function _s(e){return Xo(e.integerValue||e.doubleValue)}function ws(e){return ma(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xs=function(e,t){this.field=e,this.transform=t},Ss=function(e,t){this.version=e,this.transformResults=t},Es=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ks(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Cs=function(){};function Ts(e,t,n){e instanceof Rs?function(e,t,n){var r=e.value.clone(),i=Ds(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Os?function(e,t,n){if(ks(e.precondition,t)){var r=Ds(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ms(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Is(e,t,n){e instanceof Rs?function(e,t,n){if(ks(e.precondition,t)){var r=e.value.clone(),i=Ls(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(As(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Os?function(e,t,n){if(ks(e.precondition,t)){var r=Ls(e.fieldTransforms,n,t),i=t.data;i.setAll(Ms(e)),i.setAll(r),t.convertToFoundDocument(As(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ks(e.precondition,t)&&t.convertToNoDocument(Vo.min())}(e,t)}function Ns(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=ds(o.transform,a||null);null!=s&&(null==n&&(n=wa.empty()),n.set(o.field,s))}return n||null}function Ps(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vs&&t instanceof vs||e instanceof gs&&t instanceof gs?jo(e.elements,t.elements,ua):e instanceof bs&&t instanceof bs?ua(e.A,t.A):e instanceof ps&&t instanceof ps}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function As(e){return e.isFoundDocument()?e.version:Vo.min()}var Rs=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,it.__extends)(t,e),t}(Cs),Os=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,it.__extends)(t,e),t}(Cs);function Ms(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ds(e,t,n){var r=new Map;Ro(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,fs(a,s,n[i]))}return r}function Ls(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,hs(s,u,t))}return r}var js,Fs,Us=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,it.__extends)(t,e),t}(Cs),Vs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,it.__extends)(t,e),t}(Cs),Bs=function(e){this.count=e};function zs(e){switch(e){case So.OK:return Ao();case So.CANCELLED:case So.UNKNOWN:case So.DEADLINE_EXCEEDED:case So.RESOURCE_EXHAUSTED:case So.INTERNAL:case So.UNAVAILABLE:case So.UNAUTHENTICATED:return!1;case So.INVALID_ARGUMENT:case So.NOT_FOUND:case So.ALREADY_EXISTS:case So.PERMISSION_DENIED:case So.FAILED_PRECONDITION:case So.ABORTED:case So.OUT_OF_RANGE:case So.UNIMPLEMENTED:case So.DATA_LOSS:return!0;default:return Ao()}}function qs(e){if(void 0===e)return Io("GRPC error has no .code"),So.UNKNOWN;switch(e){case js.OK:return So.OK;case js.CANCELLED:return So.CANCELLED;case js.UNKNOWN:return So.UNKNOWN;case js.DEADLINE_EXCEEDED:return So.DEADLINE_EXCEEDED;case js.RESOURCE_EXHAUSTED:return So.RESOURCE_EXHAUSTED;case js.INTERNAL:return So.INTERNAL;case js.UNAVAILABLE:return So.UNAVAILABLE;case js.UNAUTHENTICATED:return So.UNAUTHENTICATED;case js.INVALID_ARGUMENT:return So.INVALID_ARGUMENT;case js.NOT_FOUND:return So.NOT_FOUND;case js.ALREADY_EXISTS:return So.ALREADY_EXISTS;case js.PERMISSION_DENIED:return So.PERMISSION_DENIED;case js.FAILED_PRECONDITION:return So.FAILED_PRECONDITION;case js.ABORTED:return So.ABORTED;case js.OUT_OF_RANGE:return So.OUT_OF_RANGE;case js.UNIMPLEMENTED:return So.UNIMPLEMENTED;case js.DATA_LOSS:return So.DATA_LOSS;default:return Ao()}}(Fs=js||(js={}))[Fs.OK=0]="OK",Fs[Fs.CANCELLED=1]="CANCELLED",Fs[Fs.UNKNOWN=2]="UNKNOWN",Fs[Fs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fs[Fs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fs[Fs.NOT_FOUND=5]="NOT_FOUND",Fs[Fs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fs[Fs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fs[Fs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fs[Fs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fs[Fs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fs[Fs.ABORTED=10]="ABORTED",Fs[Fs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fs[Fs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fs[Fs.INTERNAL=13]="INTERNAL",Fs[Fs.UNAVAILABLE=14]="UNAVAILABLE",Fs[Fs.DATA_LOSS=15]="DATA_LOSS";var Zs=function(){function e(e,t){this.comparator=e,this.root=t||Ws.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ws.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ws.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Hs(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Hs(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Hs(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Hs(this.root,e,this.comparator,!0)},e}(),Hs=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ws=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ao();if(this.right.isRed())throw Ao();var e=this.left.check();if(e!==this.right.check())throw Ao();return e+(this.isRed()?0:1)},e}();Ws.EMPTY=null,Ws.RED=!0,Ws.BLACK=!1,Ws.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ws(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Ks=function(){function e(e){this.comparator=e,this.data=new Zs(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Gs(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Gs(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Gs=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),$s=new Zs(aa.comparator);function Qs(){return $s}var Ys=new Zs(aa.comparator);function Xs(){return Ys}var Js=new Zs(aa.comparator);function eu(){return Js}var tu=new Ks(aa.comparator);function nu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=tu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ru=new Ks(Lo);function iu(){return ru}var ou=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Vo.min(),r,iu(),Qs(),nu())},e}(),au=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e($o.EMPTY_BYTE_STRING,n,nu(),nu(),nu())},e}(),su=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},uu=function(e,t){this.targetId=e,this.V=t},cu=function(e,t,n,r){void 0===n&&(n=$o.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},lu=function(){function e(){this.S=0,this.D=du(),this.C=$o.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=nu(),t=nu(),n=nu();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ao()}})),new au(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=du()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),hu=function(){function e(e){this.W=e,this.G=new Map,this.H=Qs(),this.J=fu(),this.Y=new Ks(Lo)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Ao()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Ia(i))if(0===n){var o=new aa(i.path);this.tt(t,o,Sa.newNoDocument(o,Vo.min()))}else Ro(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Ia(o.target)){var a=new aa(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Sa.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=nu();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new ou(e,n,this.Y,this.H,r);return this.H=Qs(),this.J=fu(),this.Y=new Ks(Lo),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new lu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Ks(Lo),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||To("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new lu),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function fu(){return new Zs(aa.comparator)}function du(){return new Zs(aa.comparator)}var pu={asc:"ASCENDING",desc:"DESCENDING"},vu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mu=function(e,t){this.databaseId=e,this.I=t};function gu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function yu(e,t){return e.I?t.toBase64():t.toUint8Array()}function bu(e,t){return gu(e,t.toTimestamp())}function _u(e){return Ro(!!e),Vo.fromTimestamp(function(e){var t=Yo(e);return new Uo(t.seconds,t.nanos)}(e))}function wu(e,t){return function(e){return new Ho(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function xu(e){var t=Ho.fromString(e);return Ro(Wu(t)),t}function Su(e,t){return wu(e.databaseId,t.path)}function Eu(e,t){var n=xu(t);if(n.get(1)!==e.databaseId.projectId)throw new Eo(So.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eo(So.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new aa(Iu(n))}function ku(e,t){return wu(e.databaseId,t)}function Cu(e){var t=xu(e);return 4===t.length?Ho.emptyPath():Iu(t)}function Tu(e){return new Ho(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Iu(e){return Ro(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nu(e,t,n){return{name:Su(e,t),fields:n.value.mapValue.fields}}function Pu(e,t,n){var r=Eu(e,t.name),i=_u(t.updateTime),o=new wa({mapValue:{fields:t.fields}}),a=Sa.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Au(e,t){var n;if(t instanceof Rs)n={update:Nu(e,t.key,t.value)};else if(t instanceof Us)n={delete:Su(e,t.key)};else if(t instanceof Os)n={update:Nu(e,t.key,t.data),updateMask:Hu(t.fieldMask)};else{if(!(t instanceof Vs))return Ao();n={verify:Su(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ps)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bs)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Ao()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ao()}(e,t.precondition)),n}function Ru(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Es.updateTime(_u(e.updateTime)):void 0!==e.exists?Es.exists(e.exists):Es.none()}(t.currentDocument):Es.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ro("REQUEST_TIME"===t.setToServerValue),n=new ps;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new vs(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new gs(i)}else"increment"in t?n=new bs(e,t.increment):Ao();var o=Ko.fromServerFormat(t.fieldPath);return new xs(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Eu(e,t.update.name),o=new wa({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Go(t.map((function(e){return Ko.fromServerFormat(e)})))}(t.updateMask);return new Os(i,o,a,n,r)}return new Rs(i,o,n,r)}if(t.delete){var s=Eu(e,t.delete);return new Us(s,n)}if(t.verify){var u=Eu(e,t.verify);return new Vs(u,n)}return Ao()}function Ou(e,t){return{documents:[ku(e,t.path)]}}function Mu(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ku(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ku(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ya(e.value))return{unaryFilter:{field:Bu(e.field),op:"IS_NAN"}};if(ga(e.value))return{unaryFilter:{field:Bu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ya(e.value))return{unaryFilter:{field:Bu(e.field),op:"IS_NOT_NAN"}};if(ga(e.value))return{unaryFilter:{field:Bu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(e.field),op:Vu(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Bu(e.field),direction:Uu(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ra(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=ju(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ju(t.endAt)),n}function Du(e){var t=Cu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ro(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Lu(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Va(zu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ra(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Fu(n.startAt));var l=null;return n.endAt&&(l=Fu(n.endAt)),Ha(t,i,s,a,u,"F",c,l)}function Lu(e){return e?void 0!==e.unaryFilter?[Zu(e)]:void 0!==e.fieldFilter?[qu(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Lu(e)})).reduce((function(e,t){return e.concat(t)})):Ao():[]}function ju(e){return{before:e.before,values:e.position}}function Fu(e){var t=!!e.before,n=e.values||[];return new Fa(n,t)}function Uu(e){return pu[e]}function Vu(e){return vu[e]}function Bu(e){return{fieldPath:e.canonicalString()}}function zu(e){return Ko.fromServerFormat(e.fieldPath)}function qu(e){return Na.create(zu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ao()}}(e.fieldFilter.op),e.fieldFilter.value)}function Zu(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zu(e.unaryFilter.field);return Na.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zu(e.unaryFilter.field);return Na.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zu(e.unaryFilter.field);return Na.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zu(e.unaryFilter.field);return Na.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ao()}}function Hu(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Wu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ku(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$u(t)),t=Gu(e.get(n),t);return $u(t)}function Gu(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function $u(e){return e+"\x01\x01"}function Qu(e){var t=e.length;if(Ro(t>=2),2===t)return Ro("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ho.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Ao(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Ao()}o=a+2}return new Ho(r)}var Yu=function(e,t){this.seconds=e,this.nanoseconds=t},Xu=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Xu.store="owner",Xu.key="owner";var Ju=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ju.store="mutationQueues",Ju.keyPath="userId";var ec=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ec.store="mutations",ec.keyPath="batchId",ec.userMutationsIndex="userMutationsIndex",ec.userMutationsKeyPath=["userId","batchId"];var tc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Ku(t)]},e.key=function(e,t,n){return[e,Ku(t),n]},e}();tc.store="documentMutations",tc.PLACEHOLDER=new tc;var nc=function(e,t){this.path=e,this.readTime=t},rc=function(e,t){this.path=e,this.version=t},ic=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ic.store="remoteDocuments",ic.readTimeIndex="readTimeIndex",ic.readTimeIndexPath="readTime",ic.collectionReadTimeIndex="collectionReadTimeIndex",ic.collectionReadTimeIndexPath=["parentPath","readTime"];var oc=function(e){this.byteSize=e};oc.store="remoteDocumentGlobal",oc.key="remoteDocumentGlobalKey";var ac=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ac.store="targets",ac.keyPath="targetId",ac.queryTargetsIndexName="queryTargetsIndex",ac.queryTargetsKeyPath=["canonicalId","targetId"];var sc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};sc.store="targetDocuments",sc.keyPath=["targetId","path"],sc.documentTargetsIndex="documentTargetsIndex",sc.documentTargetsKeyPath=["path","targetId"];var uc=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};uc.key="targetGlobalKey",uc.store="targetGlobal";var cc=function(e,t){this.collectionId=e,this.parent=t};cc.store="collectionParents",cc.keyPath=["collectionId","parent"];var lc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};lc.store="clientMetadata",lc.keyPath="clientId";var hc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};hc.store="bundles",hc.keyPath="bundleId";var fc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};fc.store="namedQueries",fc.keyPath="name";var dc=(0,it.__spreadArray)((0,it.__spreadArray)([],(0,it.__spreadArray)((0,it.__spreadArray)([],(0,it.__spreadArray)((0,it.__spreadArray)([],(0,it.__spreadArray)((0,it.__spreadArray)([],[Ju.store,ec.store,tc.store,ic.store,ac.store,Xu.store,uc.store,sc.store]),[lc.store])),[oc.store])),[cc.store])),[hc.store,fc.store]),pc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vc=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),mc=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},gc=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Ao(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),yc=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new mc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new wc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Cc(t.target.error);n.ft.reject(new wc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new wc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(To("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Sc(t)},e}(),bc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,ot.getUA)())&&Io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return To("SimpleDb","Removing database:",e),Ec(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,ot.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(To("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new wc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Eo(So.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new wc(e,n))},i.onupgradeneeded=function(e){To("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){To("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,it.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,it.__generator)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,it.__generator)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=yc.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),gc.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,To("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),_c=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Ec(this.Pt.delete())},e}(),wc=function(e){function t(t,n){var r=this;return(r=e.call(this,So.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,it.__extends)(t,e),t}(Eo);function xc(e){return"IndexedDbTransactionError"===e.name}var Sc=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(To("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(To("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ec(n)},e.prototype.add=function(e){return To("SimpleDb","ADD",this.store.name,e,e),Ec(this.store.add(e))},e.prototype.get=function(e){var t=this;return Ec(this.store.get(e)).next((function(n){return void 0===n&&(n=null),To("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return To("SimpleDb","DELETE",this.store.name,e),Ec(this.store.delete(e))},e.prototype.count=function(){return To("SimpleDb","COUNT",this.store.name),Ec(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){To("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new gc((function(n,r){t.onerror=function(e){var t=Cc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new gc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new _c(i),a=t(i.primaryKey,i.value,o);if(a instanceof gc){var s=a.catch((function(e){return o.done(),gc.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return gc.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Ec(e){return new gc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Cc(e.target.error);n(t)}}))}var kc=!1;function Cc(e){var t=bc._t((0,ot.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Eo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return kc||(kc=!0,setTimeout((function(){throw r}),0)),r}}return e}var Tc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,it.__extends)(t,e),t}(vc);function Ic(e,t){var n=Oo(e);return bc.It(n.Mt,t)}var Nc=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ts(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Is(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Is(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Vo.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),nu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(function(e,t){return Ps(e,t)}))&&jo(this.baseMutations,e.baseMutations,(function(e,t){return Ps(e,t)}))},e}(),Pc=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Ro(t.mutations.length===r.length);for(var i=eu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Ac=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Vo.min()),void 0===o&&(o=Vo.min()),void 0===a&&(a=$o.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Rc=function(e){this.Lt=e};function Oc(e,t){if(t.document)return Pu(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=aa.fromSegments(t.noDocument.path),r=Fc(t.noDocument.readTime),i=Sa.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=aa.fromSegments(t.unknownDocument.path);return r=Fc(t.unknownDocument.version),Sa.newUnknownDocument(o,r)}return Ao()}function Mc(e,t,n){var r=Dc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Su(e,t.key),fields:t.data.value.mapValue.fields,updateTime:gu(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new ic(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=jc(t.version);return a=t.hasCommittedMutations,new ic(null,new nc(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=jc(t.version);return new ic(new rc(c,l),null,null,!0,r,i)}return Ao()}function Dc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Lc(e){var t=new Uo(e[0],e[1]);return Vo.fromTimestamp(t)}function jc(e){var t=e.toTimestamp();return new Yu(t.seconds,t.nanoseconds)}function Fc(e){var t=new Uo(e.seconds,e.nanoseconds);return Vo.fromTimestamp(t)}function Uc(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ru(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Ru(e.Lt,t)})),s=Uo.fromMillis(t.localWriteTimeMs);return new Nc(t.batchId,s,n,a)}function Vc(e){var t,n,r=Fc(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Fc(e.lastLimboFreeSnapshotVersion):Vo.min();return void 0!==e.query.documents?(Ro(1===(n=e.query).documents.length),t=Ja(Wa(Cu(n.documents[0])))):t=function(e){return Ja(Du(e))}(e.query),new Ac(t,e.targetId,0,e.lastListenSequenceNumber,r,i,$o.fromBase64String(e.resumeToken))}function Bc(e,t){var n,r=jc(t.snapshotVersion),i=jc(t.lastLimboFreeSnapshotVersion);n=Ia(t.target)?Ou(e.Lt,t.target):Mu(e.Lt,t.target);var o=t.resumeToken.toBase64();return new ac(t.targetId,Ca(t.target),r,o,t.sequenceNumber,i,n)}function zc(e){var t=Du({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?es(t,t.limit,"L"):t}var qc=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Zc(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Fc(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Zc(e).put({bundleId:(n=t).id,createTime:jc(_u(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Hc(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:zc(t.bundledQuery),readTime:Fc(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Hc(e).put(function(e){return{name:e.name,readTime:jc(_u(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Zc(e){return Ic(e,hc.store)}function Hc(e){return Ic(e,fc.store)}var Wc=function(){function e(){this.Bt=new Kc}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),gc.resolve()},e.prototype.getCollectionParents=function(e,t){return gc.resolve(this.Bt.getEntries(t))},e}(),Kc=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ks(Ho.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ks(Ho.comparator)).toArray()},e}(),Gc=function(){function e(){this.qt=new Kc}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Ku(i)};return $c(e).put(o)}return gc.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fo(t),""],!1,!0);return $c(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Qu(o.parent))}return n}))},e}();function $c(e){return Ic(e,cc.store)}var Qc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yc=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Xc(e,t,n){var r=e.store(ec.store),i=e.store(tc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Ro(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=tc.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return gc.waitFor(o).next((function(){return c}))}function Jc(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ao();t=e.noDocument}return JSON.stringify(t).length}Yc.DEFAULT_COLLECTION_PERCENTILE=10,Yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yc.DEFAULT=new Yc(41943040,Yc.DEFAULT_COLLECTION_PERCENTILE,Yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yc.DISABLED=new Yc(-1,0,0);var el=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Ro(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).$t({index:ec.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=rl(e),a=nl(e);return a.add({}).next((function(s){Ro("number"==typeof s);for(var u=new Nc(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Au(e.Lt,t)})),i=n.mutations.map((function(t){return Au(e.Lt,t)}));return new ec(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Ks((function(e,t){return Lo(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=tc.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,tc.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),gc.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return nl(e).get(t).next((function(e){return e?(Ro(e.userId===n.userId),Uc(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?gc.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return nl(e).$t({index:ec.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Ro(t.batchId>=r),o=Uc(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nl(e).$t({index:ec.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).Nt(ec.userMutationsIndex,n).next((function(e){return e.map((function(e){return Uc(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=tc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return rl(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Qu(u);if(s===n.userId&&t.path.isEqual(l))return nl(e).get(c).next((function(e){if(!e)throw Ao();Ro(e.userId===n.userId),o.push(Uc(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ks(Lo),i=[];return t.forEach((function(t){var o=tc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=rl(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Qu(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),gc.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=tc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ks(Lo);return rl(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Qu(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(nl(e).get(t).next((function(e){if(null===e)throw Ao();Ro(e.userId===n.userId),r.push(Uc(n.R,e))})))})),gc.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Xc(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),gc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return gc.resolve();var r=IDBKeyRange.lowerBound(tc.prefixForUser(t.userId)),i=[];return rl(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Qu(e[1]);i.push(o)}else r.done()})).next((function(){Ro(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return tl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return il(e).get(this.userId).next((function(e){return e||new Ju(t.userId,-1,"")}))},e}();function tl(e,t,n){var r=tc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return rl(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function nl(e){return Ic(e,ec.store)}function rl(e){return Ic(e,tc.store)}function il(e){return Ic(e,Ju.store)}var ol=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),al=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new ol(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Vo.fromTimestamp(new Uo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return sl(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Ro(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return sl(e).$t((function(a,s){var u=Vc(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return gc.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return sl(e).$t((function(e,n){var r=Vc(n);t(r)}))},e.prototype.Xt=function(e){return ul(e).get(uc.key).next((function(e){return Ro(null!==e),e}))},e.prototype.Zt=function(e,t){return ul(e).put(uc.key,t)},e.prototype.te=function(e,t){return sl(e).put(Bc(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Ca(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sl(e).$t({range:r,index:ac.queryTargetsIndexName},(function(e,n,r){var o=Vc(n);Ta(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=cl(e);return t.forEach((function(t){var a=Ku(t.path);i.push(o.put(new sc(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),gc.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=cl(e);return gc.forEach(t,(function(t){var o=Ku(t.path);return gc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=cl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cl(e),i=nu();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Qu(e[1]),o=new aa(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Ku(t.path),r=IDBKeyRange.bound([n],[Fo(n)],!1,!0),i=0;return cl(e).$t({index:sc.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return sl(e).get(t).next((function(e){return e?Vc(e):null}))},e}();function sl(e){return Ic(e,ac.store)}function ul(e){return Ic(e,uc.store)}function cl(e){return Ic(e,sc.store)}function ll(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){if(e.code!==So.FAILED_PRECONDITION||e.message!==pc)throw e;return To("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function hl(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Lo(n,i);return 0===a?Lo(r,o):a}var fl=function(){function e(e){this.ne=e,this.buffer=new Ks(hl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();hl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),dl=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;To("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,it.__awaiter)(t,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return xc(t=n.sent())?(To("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,ll(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),pl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return gc.resolve(xo.o);var r=new fl(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(To("LruGarbageCollector","Garbage collection skipped; disabled"),gc.resolve(Qc)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(To("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Qc):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(To("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Co()<=at.LogLevel.DEBUG&&To("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),gc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),vl=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new pl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return ml(e,n)},e.prototype.removeReference=function(e,t,n){return ml(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return ml(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return il(e).Ot((function(r){return tl(e,r,t).next((function(e){return e&&(n=!0),gc.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),cl(e).delete([0,Ku(a.path)])}))}));i.push(u)}})).next((function(){return gc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ml(e,t)},e.prototype.we=function(e,t){var n,r=cl(e),i=xo.o;return r.$t({index:sc.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==xo.o&&t(new aa(Qu(n)),i),i=s,n=a):i=xo.o})).next((function(){i!==xo.o&&t(new aa(Qu(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ml(e,t){return cl(e).put(function(e,t){return new sc(0,Ku(e.path),t)}(t,e.currentSequenceNumber))}var gl=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){zo(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return qo(this.inner)},e}(),yl=function(){function e(){this.changes=new gl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Vo.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Sa.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?gc.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),bl=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return xl(e).put(Sl(t),n)},e.prototype.removeEntry=function(e,t){var n=xl(e),r=Sl(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return xl(e).get(Sl(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return xl(e).get(Sl(t)).next((function(e){return{document:n.ye(t,e),size:Jc(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Qs();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Qs(),i=new Zs(aa.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Jc(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return gc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return xl(e).$t({range:r},(function(e,t,r){for(var a=aa.fromSegments(e);o&&aa.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Qs(),o=t.path.length+1,a={};if(n.isEqual(Vo.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Dc(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ic.collectionReadTimeIndex}return xl(e).$t(a,(function(e,n,a){if(e.length===o){var s=Oc(r.R,n);t.path.isPrefixOf(s.key.path)?is(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new _l(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return wl(e).get(oc.key).next((function(e){return Ro(!!e),e}))},e.prototype.me=function(e,t){return wl(e).put(oc.key,t)},e.prototype.ye=function(e,t){if(t){var n=Oc(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Vo.min()))return n}return Sa.newInvalidDocument(e)},e}(),_l=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new gl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,it.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Ks((function(e,t){return Lo(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Mc(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Jc(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Mc(t.Ie.R,Sa.newNoDocument(o,Vo.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),gc.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(yl);function wl(e){return Ic(e,oc.store)}function xl(e){return Ic(e,ic.store)}function Sl(e){return e.path.toArray()}var El=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Ro(n<r&&n>=0&&r<=11);var o=new yc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Xu.store)}(e),function(e){e.createObjectStore(Ju.store,{keyPath:Ju.keyPath}),e.createObjectStore(ec.store,{keyPath:ec.keyPath,autoIncrement:!0}).createIndex(ec.userMutationsIndex,ec.userMutationsKeyPath,{unique:!0}),e.createObjectStore(tc.store)}(e),kl(e),function(e){e.createObjectStore(ic.store)}(e));var a=gc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(sc.store),e.deleteObjectStore(ac.store),e.deleteObjectStore(uc.store)}(e),kl(e)),a=a.next((function(){return function(e){var t=e.store(uc.store),n=new uc(0,0,Vo.min().toTimestamp(),0);return t.put(uc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(ec.store).Nt().next((function(n){e.deleteObjectStore(ec.store),e.createObjectStore(ec.store,{keyPath:ec.keyPath,autoIncrement:!0}).createIndex(ec.userMutationsIndex,ec.userMutationsKeyPath,{unique:!0});var r=t.store(ec.store),i=n.map((function(e){return r.put(e)}));return gc.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(lc.store,{keyPath:lc.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(oc.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ic.store);t.createIndex(ic.readTimeIndex,ic.readTimeIndexPath,{unique:!1}),t.createIndex(ic.collectionReadTimeIndex,ic.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(hc.store,{keyPath:hc.keyPath})}(e),function(e){e.createObjectStore(fc.store,{keyPath:fc.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(ic.store).$t((function(e,n){t+=Jc(n)})).next((function(){var n=new oc(t);return e.store(oc.store).put(oc.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Ju.store),r=e.store(ec.store);return n.Nt().next((function(n){return gc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ec.userMutationsIndex,i).next((function(r){return gc.forEach(r,(function(r){Ro(r.userId===n.userId);var i=Uc(t.R,r);return Xc(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(sc.store),n=e.store(ic.store);return e.store(uc.store).get(uc.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Ho(n),a=function(e){return[0,Ku(e)]}(o);r.push(t.get(a).next((function(n){return n?gc.resolve():function(n){return t.put(new sc(0,Ku(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return gc.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(cc.store,{keyPath:cc.keyPath});var n=t.store(cc.store),r=new Kc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ku(i)})}};return t.store(ic.store).$t({Ft:!0},(function(e,t){var n=new Ho(e);return i(n.popLast())})).next((function(){return t.store(tc.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Qu(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(ac.store);return n.$t((function(e,r){var i=Vc(r),o=Bc(t.R,i);return n.put(o)}))},e}();function kl(e){e.createObjectStore(sc.store,{keyPath:sc.keyPath}).createIndex(sc.documentTargetsIndex,sc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ac.store,{keyPath:ac.keyPath}).createIndex(ac.queryTargetsIndexName,ac.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(uc.store)}var Cl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Tl=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Eo(So.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vl(this,i),this.Le=n+"main",this.R=new Rc(u),this.Be=new bc(this.Le,11,new El(this.R)),this.qe=new al(this.referenceDelegate,this.R),this.Ut=new Gc,this.Ue=function(e,t){return new bl(e,t)}(this.R,this.Ut),this.Ke=new qc,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Eo(So.FAILED_PRECONDITION,Cl);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new xo(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,it.__awaiter)(t,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,it.__awaiter)(t,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,it.__awaiter)(t,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Nl(t).put(new lc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(xc(t))return To("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return To("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Il(e).get(Xu.key).next((function(e){return gc.resolve(t.tn(e))}))},e.prototype.en=function(e){return Nl(e).delete(this.clientId)},e.prototype.nn=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ic(e,lc.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return gc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?gc.resolve(!0):Il(e).get(Xu.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Eo(So.FAILED_PRECONDITION,Cl);return!1}}return!(!t.networkEnabled||!t.inForeground)||Nl(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&To("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xu.store,lc.store],(function(t){var n=new Tc(t,xo.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Nl(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return el.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;To("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,dc,(function(o){return i=new Tc(o,r.Ne?r.Ne.next():xo.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Io("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Eo(So.FAILED_PRECONDITION,pc);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Il(e).get(Xu.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Eo(So.FAILED_PRECONDITION,Cl)}))},e.prototype.Ze=function(e){var t=new Xu(this.clientId,this.allowTabSynchronization,Date.now());return Il(e).put(Xu.key,t)},e.yt=function(){return bc.yt()},e.prototype.Xe=function(e){var t=this,n=Il(e);return n.get(Xu.key).next((function(e){return t.tn(e)?(To("IndexedDbPersistence","Releasing primary lease."),n.delete(Xu.key)):gc.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Io("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,ot.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return To("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Io("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Io("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Il(e){return Ic(e,Xu.store)}function Nl(e){return Ic(e,lc.store)}function Pl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Al=function(e,t){this.progress=e,this.wn=t},Rl=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return aa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Ya(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new aa(t)).next((function(e){var t=Xs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Xs();return this.Ut.getCollectionParents(e,i).next((function(a){return gc.forEach(a,(function(a){var s=function(e,t){return new Za(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Sa.newInvalidDocument(c),r=r.insert(c,l)),Is(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){is(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=nu(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Os&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Ol=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=nu(),i=nu(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Ml=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Vo.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Ka(t)||Ga(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Co()<=at.LogLevel.DEBUG&&To("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),rs(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Ks(os(e));return t.forEach((function(t,r){is(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Co()<=at.LogLevel.DEBUG&&To("QueryEngine","Using full collection scan to execute query:",rs(t)),this.Sn.getDocumentsMatchingQuery(e,t,Vo.min())},e}(),Dl=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Zs(Lo),this.Fn=new gl((function(e){return Ca(e)}),Ta),this.$n=Vo.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Rl(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Ll(e,t,n,r){return new Dl(e,t,n,r)}function jl(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:return n=Oo(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Rl(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=nu(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Fl(e,t){var n=Oo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=gc.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Ro(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Ul(e){var t=Oo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Vl(e,t){var n=Oo(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Ro(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Qs();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Bl(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Vo.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return gc.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function Bl(e,t,n,r,i){var o=nu();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Qs();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Vo.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):To("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function zl(e,t){var n=Oo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function ql(e,t){var n=Oo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,gc.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Ac(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Zl(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:r=Oo(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!xc(a=s.sent()))throw a;return To("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Hl(e,t,n){var r=Oo(e),i=Vo.min(),o=nu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Oo(e),i=r.Fn.get(n);return void 0!==i?gc.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Ja(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Vo.min(),n?o:nu())})).next((function(e){return{documents:e,Bn:o}}))}))}function Wl(e,t){var n=Oo(e),r=Oo(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Kl(e){var t=Oo(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Oo(e),i=Qs(),o=Dc(n),a=xl(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:ic.readTimeIndex,range:s},(function(e,t){var n=Oc(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Lc(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Gl(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){return[2,(t=Oo(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=xl(e),n=Vo.min();return t.$t({index:ic.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Lc(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function $l(e,t,n,r){return(0,it.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,it.__generator)(this,(function(p){switch(p.label){case 0:for(i=Oo(e),o=nu(),a=Qs(),s=eu(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,ql(i,function(e){return Ja(Wa(Ho.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Bl(e,f,a,Vo.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Ql(e,t,n){return void 0===n&&(n=nu()),(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return[4,ql(e,Ja(zc(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Oo(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=_u(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken($o.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Yl=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return gc.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:_u(n.createTime)}),gc.resolve()},e.prototype.getNamedQuery=function(e,t){return gc.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:zc(e.bundledQuery),readTime:_u(e.readTime)}}(t)),gc.resolve()},e}(),Xl=function(){function e(){this.Wn=new Ks(Jl.Gn),this.zn=new Ks(Jl.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Jl(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Jl(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new aa(new Ho([])),r=new Jl(n,e),i=new Jl(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new aa(new Ho([])),n=new Jl(t,e),r=new Jl(t,e+1),i=nu();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Jl(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Jl=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return aa.comparator(e.key,t.key)||Lo(e.ns,t.ns)},e.Hn=function(e,t){return Lo(e.ns,t.ns)||aa.comparator(e.key,t.key)},e}(),eh=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Ks(Jl.Gn)}return e.prototype.checkEmpty=function(e){return gc.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Nc(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Jl(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return gc.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return gc.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return gc.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return gc.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return gc.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Jl(t,0),i=new Jl(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),gc.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ks(Lo);return t.forEach((function(e){var t=new Jl(e,0),i=new Jl(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),gc.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;aa.isDocumentKey(i)||(i=i.child(""));var o=new Jl(new aa(i),0),a=new Ks(Lo);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),gc.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Ro(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return gc.forEach(t.mutations,(function(i){var o=new Jl(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Jl(t,0),r=this.rs.firstAfterOrEqual(n);return gc.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,gc.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),th=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Zs(aa.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return gc.resolve(n?n.document.clone():Sa.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Qs();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Sa.newInvalidDocument(e))})),gc.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Qs(),i=new aa(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||is(t,c)&&(r=r.insert(c.key,c.clone()))}return gc.resolve(r)},e.prototype.fs=function(e,t){return gc.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new nh(this)},e.prototype.getSize=function(e){return gc.resolve(this.size)},e}(),nh=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,it.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),gc.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(yl),rh=function(){function e(e){this.persistence=e,this.ds=new gl((function(e){return Ca(e)}),Ta),this.lastRemoteSnapshotVersion=Vo.min(),this.highestTargetId=0,this.ws=0,this._s=new Xl,this.targetCount=0,this.ys=ol.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),gc.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return gc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return gc.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),gc.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),gc.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new ol(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,gc.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),gc.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,gc.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),gc.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return gc.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return gc.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),gc.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),gc.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),gc.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return gc.resolve(n)},e.prototype.containsKey=function(e,t){return gc.resolve(this._s.containsKey(t))},e}(),ih=function(){function e(e,t){var n=this;this.gs={},this.Ne=new xo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new rh(this),this.Ut=new Wc,this.Ue=function(e,t){return new th(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Rc(t),this.Ke=new Yl(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new eh(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;To("MemoryPersistence","Starting transaction:",e);var i=new oh(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return gc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),oh=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,it.__extends)(t,e),t}(vc),ah=function(){function e(e){this.persistence=e,this.As=new Xl,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ao()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),gc.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),gc.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),gc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gc.forEach(this.vs,(function(r){var i=aa.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return gc.or([function(){return gc.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),sh=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function uh(e,t){return"firestore_clients_"+e+"_"+t}function ch(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function lh(e,t){return"firestore_targets_"+e+"_"+t}sh.UNAUTHENTICATED=new sh(null),sh.GOOGLE_CREDENTIALS=new sh("google-credentials-uid"),sh.FIRST_PARTY=new sh("first-party-uid"),sh.MOCK_USER=new sh("mock-user");var hh=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Eo(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Io("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),fh=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Eo(i.error.code,i.error.message)),o?new e(t,i.state,r):(Io("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),dh=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=iu(),a=0;i&&a<r.activeTargetIds.length;++a)i=oa(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Io("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ph=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Io("SharedClientState","Failed to parse online state: "+t),null)},e}(),vh=function(){function e(){this.activeTargetIds=iu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),mh=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Zs(Lo),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=uh(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new vh),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,it.__generator)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(uh(this.persistenceKey,r)))&&(o=dh.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(lh(this.persistenceKey,e));if(n){var r=fh.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(lh(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return To("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){To("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){To("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(To("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,it.__awaiter)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,it.__generator)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=xo.o;if(null!=e)try{var n=JSON.parse(e);Ro("number"==typeof n),t=n}catch(e){Io("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==xo.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new hh(this.currentUser,e,t,n),i=ch(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=ch(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=lh(this.persistenceKey,e),i=new fh(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return dh.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hh.Vs(new sh(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return fh.Vs(r,t)},e.prototype.js=function(e){return ph.Vs(e)},e.prototype.ii=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(To("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=iu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),gh=function(){function e(){this.li=new vh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new vh,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),yh=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),bh=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){To("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){To("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),_h={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},wh=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),xh=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,it.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new wo;a.listenOnce(mo.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case vo.NO_ERROR:var t=a.getResponseJson();To("Connection","XHR received:",JSON.stringify(t)),i(t);break;case vo.TIMEOUT:To("Connection",'RPC "'+e+'" timed out'),o(new Eo(So.DEADLINE_EXCEEDED,"Request time out"));break;case vo.HTTP_ERROR:var n=a.getStatus();if(To("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(So).indexOf(t)>=0?t:So.UNKNOWN}(r.status);o(new Eo(s,r.message))}else o(new Eo(So.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Eo(So.UNAVAILABLE,"Connection failed."));break;default:Ao()}}finally{To("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=fo(),i=po(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bo({})),this.ki(o.initMessageHeaders,t),(0,ot.isMobileCordova)()||(0,ot.isReactNative)()||(0,ot.isElectron)()||(0,ot.isIE)()||(0,ot.isUWP)()||(0,ot.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");To("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new wh({Ei:function(e){c?To("Connection","Not sending because WebChannel is closed:",e):(u||(To("Connection","Opening WebChannel transport."),s.open(),u=!0),To("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,_o.EventType.OPEN,(function(){c||To("Connection","WebChannel transport opened.")})),h(s,_o.EventType.CLOSE,(function(){c||(c=!0,To("Connection","WebChannel transport closed"),l.Vi())})),h(s,_o.EventType.ERROR,(function(e){c||(c=!0,No("Connection","WebChannel transport errored:",e),l.Vi(new Eo(So.UNAVAILABLE,"The operation could not be completed")))})),h(s,_o.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Ro(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){To("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=js[e];if(void 0!==t)return qs(t)}(o),u=i.message;void 0===a&&(a=So.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Eo(a,u)),s.close()}else To("Connection","WebChannel received:",n),l.Si(n)}})),h(i,go.STAT_EVENT,(function(e){e.stat===yo.PROXY?To("Connection","Detected buffering proxy"):e.stat===yo.NOPROXY&&To("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);To("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return To("RestConnection","Received: ",e),e}),(function(t){throw No("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=_h[e];return this.Di+"/v1/"+t+":"+n},e}());function Sh(){return"undefined"!=typeof window?window:null}function Eh(){return"undefined"!=typeof document?document:null}function kh(e){return new mu(e,!0)}var Ch=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&To("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Th=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ch(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===So.RESOURCE_EXHAUSTED?(Io(t.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===So.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Eo(So.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,it.__awaiter)(e,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return To("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(To("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Ih=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,it.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ao()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Ro(void 0===t||"string"==typeof t),$o.fromBase64String(t||"")):(Ro(void 0===t||t instanceof Uint8Array),$o.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?So.UNKNOWN:qs(e.code);return new Eo(t,e.message||"")}(s);n=new cu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Eu(e,r.document.name),o=_u(r.document.updateTime);var s=new wa({mapValue:{fields:r.document.fields}}),u=(a=Sa.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new su(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Eu(e,r.document),o=r.readTime?_u(r.readTime):Vo.min(),s=Sa.newNoDocument(i,o),a=r.removedTargetIds||[],n=new su([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Eu(e,r.document),o=r.removedTargetIds||[],n=new su([],o,i,null);else{if(!("filter"in t))return Ao();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Bs(r),o=l.targetId,n=new uu(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Vo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vo.min():t.readTime?_u(t.readTime):Vo.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Tu(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Ia(r)?{documents:Ou(e,r)}:{query:Mu(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=yu(e,t.resumeToken):t.snapshotVersion.compareTo(Vo.min())>0&&(n.readTime=gu(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ao()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Tu(this.R),t.removeTarget=e,this.cr(t)},t}(Th),Nh=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,it.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Ro(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Ro(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?_u(e.updateTime):_u(t);return n.isEqual(Vo.min())&&(n=_u(t)),new Ss(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=_u(e.commitTime);return this.listener.Tr(n,t)}return Ro(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Tu(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Au(t.R,e)}))};this.cr(n)},t}(Th),Ph=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,it.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new Eo(So.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===So.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Eo(So.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===So.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Eo(So.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Ah=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Io(t),this.Vr=!1):To("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Rh=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,it.__awaiter)(o,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:return Bh(this)?(To("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return(t=Oo(e)).Or.add(4),[4,Mh(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Oh(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Ah(n,r)};function Oh(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:if(!Bh(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Mh(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Dh(e,t){var n=Oo(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Vh(n)?Uh(n):nf(n).er()&&jh(n,t))}function Lh(e,t){var n=Oo(e),r=nf(n);n.$r.delete(t),r.er()&&Fh(n,t),0===n.$r.size&&(r.er()?r.ir():Bh(n)&&n.Br.set("Unknown"))}function jh(e,t){e.qr.U(t.targetId),nf(e).mr(t)}function Fh(e,t){e.qr.U(t),nf(e).yr(t)}function Uh(e){e.qr=new hu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),nf(e).start(),e.Br.Sr()}function Vh(e){return Bh(e)&&!nf(e).tr()&&e.$r.size>0}function Bh(e){return 0===Oo(e).Or.size}function zh(e){e.qr=void 0}function qh(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){return e.$r.forEach((function(t,n){jh(e,t)})),[2]}))}))}function Zh(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(n){return zh(e),Vh(e)?(e.Br.Nr(t),Uh(e)):e.Br.set("Unknown"),[2]}))}))}function Hh(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof cu&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),To("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Wh(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof su?e.qr.X(t):t instanceof uu?e.qr.rt(t):e.qr.et(t),n.isEqual(Vo.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ul(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken($o.EMPTY_BYTE_STRING,n.snapshotVersion)),Fh(e,t);var r=new Ac(n.target,t,1,n.sequenceNumber);jh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return To("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Wh(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Wh(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:if(!xc(t))throw t;return e.Or.add(1),[4,Mh(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Ul(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,it.__awaiter)(r,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return To("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Oh(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Kh(e,t){return t().catch((function(n){return Wh(e,n,t)}))}function Gh(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:t=Oo(e),n=rf(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Bh(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,zl(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=rf(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Wh(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return $h(t)&&Qh(t),[2]}}))}))}function $h(e){return Bh(e)&&!rf(e).tr()&&e.Fr.length>0}function Qh(e){rf(e).start()}function Yh(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){return rf(e).Ar(),[2]}))}))}function Xh(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,it.__generator)(this,(function(o){for(t=rf(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Jh(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Pc.from(r,t,n),[4,Kh(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Gh(e)];case 2:return o.sent(),[2]}}))}))}function ef(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return t&&rf(e).pr?[4,function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return zs(r=t.code)&&r!==So.ABORTED?(n=e.Fr.shift(),rf(e).sr(),[4,Kh(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Gh(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return $h(e)&&Qh(e),[2]}}))}))}function tf(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return n=Oo(e),t?(n.Or.delete(2),[4,Oh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Mh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function nf(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Oo(e);return r.br(),new Ih(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:qh.bind(null,e),Ri:Zh.bind(null,e),_r:Hh.bind(null,e)}),e.Mr.push((function(n){return(0,it.__awaiter)(t,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Vh(e)?Uh(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),zh(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function rf(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Oo(e);return r.br(),new Nh(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Yh.bind(null,e),Ri:ef.bind(null,e),Ir:Xh.bind(null,e),Tr:Jh.bind(null,e)}),e.Mr.push((function(n){return(0,it.__awaiter)(t,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Gh(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(To("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var of=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new mc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eo(So.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function af(e,t){if(Io("AsyncQueue",t+": "+e),xc(e))return new Eo(So.UNAVAILABLE,t+": "+e);throw e}var sf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||aa.comparator(t.key,n.key)}:function(e,t){return aa.comparator(e.key,t.key)},this.keyedMap=Xs(),this.sortedSet=new Zs(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),uf=function(){function e(){this.Qr=new Zs(aa.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Ao():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),cf=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,sf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ts(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),lf=function(){this.Wr=void 0,this.listeners=[]},hf=function(){this.queries=new gl((function(e){return ns(e)}),ts),this.onlineState="Unknown",this.Gr=new Set};function ff(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,it.__generator)(this,(function(c){switch(c.label){case 0:if(n=Oo(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new lf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=af(s,"Initialization of query '"+rs(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&mf(n),[2]}}))}))}function df(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,it.__generator)(this,(function(s){return n=Oo(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function pf(e,t){for(var n=Oo(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&mf(n)}function vf(e,t,n){var r=Oo(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function mf(e){e.Gr.forEach((function(e){e.next()}))}var gf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new cf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=cf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),yf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),bf=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Eu(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Pu(this.R,e.document,!1):Sa.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return _u(e)},e}(),_f=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=wf(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new bf(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||nu()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return[4,$l(this.localStore,new bf(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Ql(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Al(Object.assign({},this.progress),e))]}}))}))},e}();function wf(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var xf=function(e){this.key=e},Sf=function(e){this.key=e},Ef=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=nu(),this.mutatedKeys=nu(),this.lo=os(e),this.fo=new sf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new uf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ka(this.query)&&i.size===this.query.limit?i.last():null,c=Ga(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=is(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Ka(this.query)||Ga(this.query))for(;a.size>this.query.limit;){var l=Ka(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ao()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new cf(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=nu(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Sf(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new xf(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=nu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return cf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),kf=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Cf=function(e){this.key=e,this.bo=!1},Tf=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new gl((function(e){return ns(e)}),ts),this.Vo=new Map,this.So=new Set,this.Do=new Zs(aa.comparator),this.Co=new Map,this.No=new Xl,this.xo={},this.ko=new Map,this.Fo=ol.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function If(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return n=rd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,ql(n.localStore,Ja(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Nf(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Dh(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Nf(e,t,n,r){return(0,it.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,it.__generator)(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,it.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Hl(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(zf(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Hl(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Ef(t,i.Bn),a=o._o(i.documents),s=au.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),zf(e,n,u.To),c=new kf(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Pf(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return n=Oo(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!ts(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Zl(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Lh(n.remoteStore,r.targetId),Vf(n,r.targetId)})).catch(ll)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Vf(n,r.targetId),[4,Zl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Af(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:r=id(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Oo(e),i=Uo.now(),o=t.reduce((function(e,t){return e.add(t.key)}),nu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Ns(c,n.get(c.key));null!=l&&a.push(new Os(c.key,l,xa(l.value.mapValue),Es.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Zs(Lo)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hf(r,i.changes)];case 3:return s.sent(),[4,Gh(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=af(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Rf(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:n=Oo(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Vl(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Ro(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Ro(r.bo):e.removedDocuments.size>0&&(Ro(r.bo),r.bo=!1))})),[4,Hf(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,ll(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Of(e,t,n){var r=Oo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Oo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&mf(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Mf(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,it.__generator)(this,(function(c){switch(c.label){case 0:return(r=Oo(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Zs(aa.comparator)).insert(o,Sa.newNoDocument(o,Vo.min())),s=nu().add(o),u=new ou(Vo.min(),new Map,new Ks(Lo),a,s),[4,Rf(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Zf(r),[3,4];case 2:return[4,Zl(r.localStore,t,!1).then((function(){return Vf(r,t,n)})).catch(ll)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Df(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:n=Oo(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Fl(n.localStore,t)];case 2:return i=o.sent(),Uf(n,r,null),Ff(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ll(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Lf(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:r=Oo(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Oo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Ro(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Uf(r,t,n),Ff(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Hf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ll(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jf(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:Bh((n=Oo(e)).remoteStore)||To("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Oo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=af(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Ff(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function Uf(e,t,n){var r=Oo(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Vf(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Bf(e,t)}))}function Bf(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Lh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Zf(e))}function zf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof xf?(e.No.addReference(o.key,t),qf(e,o)):o instanceof Sf?(To("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Bf(e,o.key)):Ao()}}function qf(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(To("SyncEngine","New document in limbo: "+n),e.So.add(r),Zf(e))}function Zf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new aa(Ho.fromString(t)),r=e.Fo.next();e.Co.set(r,new Cf(n)),e.Do=e.Do.insert(n,r),Dh(e.remoteStore,new Ac(Ja(Wa(n.path)),r,2,xo.o))}}function Hf(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:return r=Oo(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Ol.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,it.__generator)(this,(function(h){switch(h.label){case 0:n=Oo(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return gc.forEach(t,(function(t){return gc.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return gc.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!xc(r=h.sent()))throw r;return To("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Wf(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return(n=Oo(e)).currentUser.isEqual(t)?[3,3]:(To("SyncEngine","User change. New user:",t.toKey()),[4,jl(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Eo(So.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Hf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Kf(e,t){var n=Oo(e),r=n.Co.get(t);if(r&&r.bo)return nu().add(r.key);var i=nu(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Gf(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return[4,Hl((n=Oo(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&zf(n,t.targetId,i.To),i)]}}))}))}function $f(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){return[2,Kl((t=Oo(e)).localStore).then((function(e){return Hf(t,e)}))]}))}))}function Qf(e,t,n,r){return(0,it.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Oo(e),r=Oo(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):gc.resolve(null)}))}))}((i=Oo(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Gh(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Uf(i,t,r||null),Ff(i,t),function(e,t){Oo(Oo(e)._n).Gt(t)}(i.localStore,t)):Ao(),a.label=4;case 4:return[4,Hf(i,o)];case 5:return a.sent(),[3,7];case 6:To("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Yf(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,it.__generator)(this,(function(l){switch(l.label){case 0:return rd(n=Oo(e)),id(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Xf(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,tf(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Dh(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Vf(n,t),Zl(n.localStore,t,!0)})),Lh(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Xf(n,u)];case 5:return l.sent(),function(e){var t=Oo(e);t.Co.forEach((function(e,n){Lh(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Zs(aa.comparator)}(n),n.$o=!1,[4,tf(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Xf(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,v;return(0,it.__generator)(this,(function(m){switch(m.label){case 0:n=Oo(e),r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,ql(n.localStore,Ja(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Gf(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Wl(n.localStore,s)];case 8:return v=m.sent(),[4,ql(n.localStore,v)];case 9:return u=m.sent(),[4,Nf(n,Jf(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Jf(e){return Ha(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ed(e){var t=Oo(e);return Oo(Oo(t.localStore).persistence).fn()}function td(e,t,n,r){return(0,it.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:return(i=Oo(e)).$o?(To("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Kl(i.localStore)];case 3:return o=s.sent(),a=ou.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Hf(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Zl(i.localStore,t,!0)];case 6:return s.sent(),Vf(i,t,r),[3,8];case 7:Ao(),s.label=8;case 8:return[2]}}))}))}function nd(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,it.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=rd(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(To("SyncEngine","Adding an already active target "+a),[3,5]):[4,Wl(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,ql(r.localStore,s)];case 3:return u=d.sent(),[4,Nf(r,Jf(s),u.targetId,!1)];case 4:d.sent(),Dh(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Zl(r.localStore,e,!1).then((function(){Lh(r.remoteStore,e),Vf(r,e)})).catch(ll)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function rd(e){var t=Oo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mf.bind(null,t),t.vo._r=pf.bind(null,t.eventManager),t.vo.Mo=vf.bind(null,t.eventManager),t}function id(e){var t=Oo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Df.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Lf.bind(null,t),t}function od(e,t,n){var r=Oo(e);(function(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,it.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=Oo(e),r=_u(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(wf(r)),i=new _f(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Hf(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=Oo(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return No("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var ad=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return this.R=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Ll(this.persistence,new Ml,e.initialUser,this.R)},e.prototype.qo=function(e){return new ih(ah.bs,this.R)},e.prototype.Bo=function(e){return new gh},e.prototype.terminate=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),sd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,it.__extends)(t,e),t.prototype.initialize=function(t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Gl(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,id(this.Qo.syncEngine)];case 4:return r.sent(),[4,Gh(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Ll(this.persistence,new Ml,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new dl(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Pl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Yc.withCacheSize(this.cacheSizeBytes):Yc.DEFAULT;return new Tl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Sh(),Eh(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new gh},t}(ad),ud=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,it.__extends)(t,e),t.prototype.initialize=function(t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof mh?(this.sharedClientState.syncEngine={ui:Qf.bind(null,n),ai:td.bind(null,n),hi:nd.bind(null,n),fn:ed.bind(null,n),ci:$f.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,it.__awaiter)(r,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return[4,Yf(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Sh();if(!mh.yt(t))throw new Eo(So.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mh(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(sd),cd=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Of(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Wf.bind(null,this.syncEngine),[4,tf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new hf},e.prototype.createDatastore=function(e){var t,n=kh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xh(t));return function(e,t,n){return new Ph(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Of(a.syncEngine,e,0)},o=bh.yt()?new bh:new yh,new Rh(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Tf(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return t=Oo(e),To("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Mh(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function ld(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r;return(0,it.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var hd=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),fd=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new mc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new yf(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),dd=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Eo(So.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return n=Oo(e),r=Tu(n.R)+"/documents",i={documents:t.map((function(e){return Su(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Ro(!!t.found),t.found.name,t.found.updateTime;var n=Eu(e,t.found.name),r=_u(t.found.updateTime),i=new wa({mapValue:{fields:t.found.fields}});return Sa.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ro(!!t.missing),Ro(!!t.readTime);var n=Eu(e,t.missing),r=_u(t.readTime);return Sa.newNoDocument(n,r)}(e,t):Ao()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Ro(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Us(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=aa.fromPath(n);t.mutations.push(new Vs(r,t.precondition(r)))})),[4,function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return n=Oo(e),r=Tu(n.R)+"/documents",i={writes:t.map((function(e){return Au(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ao();t=Vo.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Eo(So.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Es.updateTime(t):Es.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vo.min()))throw new Eo(So.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Es.updateTime(t)}return Es.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),pd=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ch(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,it.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,it.__generator)(this,(function(r){return e=new dd(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ra(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!zs(t)}return!1},e}(),vd=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=sh.UNAUTHENTICATED,this.clientId=Do.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,it.__awaiter)(r,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return To("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Eo(So.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new mc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,it.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=af(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function md(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),To("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,it.__awaiter)(i,void 0,void 0,(function(){return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,jl(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function gd(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,yd(e)];case 1:return n=i.sent(),To("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return(n=Oo(e)).asyncQueue.verifyOperationInProgress(),To("RemoteStore","RemoteStore received new credentials"),r=Bh(n),n.Or.add(3),[4,Mh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Oh(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function yd(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(To("FirestoreClient","Using default OfflineComponentProvider"),[4,md(e,new ad)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function bd(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(To("FirestoreClient","Using default OnlineComponentProvider"),[4,gd(e,new cd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function _d(e){return yd(e).then((function(e){return e.persistence}))}function wd(e){return yd(e).then((function(e){return e.localStore}))}function xd(e){return bd(e).then((function(e){return e.remoteStore}))}function Sd(e){return bd(e).then((function(e){return e.syncEngine}))}function Ed(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,bd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=If.bind(null,t.syncEngine),n.onUnlisten=Pf.bind(null,t.syncEngine),n)]}}))}))}function kd(e,t,n){var r=this;void 0===n&&(n={});var i=new mc;return e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(r,void 0,void 0,(function(){var r;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new hd({next:function(o){t.enqueueAndForget((function(){return df(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Eo(So.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Eo(So.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new gf(Wa(n.path),o,{includeMetadataChanges:!0,so:!0});return ff(e,a)},[4,Ed(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Cd(e,t,n){var r=this;void 0===n&&(n={});var i=new mc;return e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(r,void 0,void 0,(function(){var r;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new hd({next:function(n){t.enqueueAndForget((function(){return df(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Eo(So.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new gf(n,o,{includeMetadataChanges:!0,so:!0});return ff(e,a)},[4,Ed(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Td=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Id=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Nd=new Map,Pd=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Ad=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(sh.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Rd=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Od=function(){function e(e){var t=this;this.currentUser=sh.UNAUTHENTICATED,this.oc=new mc,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){To("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(To("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(To("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ro("string"==typeof n.accessToken),new Pd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,it.__awaiter)(n,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Ro(null===e||"string"==typeof e),new sh(e)},e}(),Md=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=sh.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Dd=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Md(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(sh.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ld(e,t,n){if(!n)throw new Eo(So.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function jd(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Eo(So.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Fd(e,t,n,r){if(!0===t&&!0===r)throw new Eo(So.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Ud(e){if(!aa.isDocumentKey(e))throw new Eo(So.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Vd(e){if(aa.isDocumentKey(e))throw new Eo(So.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Bd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Ao()}function zd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eo(So.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Bd(e);throw new Eo(So.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function qd(e,t){if(t<=0)throw new Eo(So.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Zd=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Eo(So.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Eo(So.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Fd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Hd=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zd({}),this._settingsFrozen=!1,e instanceof Id?(this._databaseId=e,this._credentials=new Ad):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eo(So.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(e.options.projectId)}(e),this._credentials=new Od(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Eo(So.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Eo(So.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zd(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Ad;switch(e.type){case"gapi":var t=e.client;return Ro(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Dd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Eo(So.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Nd.get(this))&&(To("ComponentProvider","Removing Datastore"),Nd.delete(this),e.terminate()),Promise.resolve();var e},e}(),Wd=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Gd(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Kd=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Gd=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Wa(r))||this)._path=r,i.type="collection",i}return(0,it.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Wd(this.firestore,null,new aa(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Kd);function $d(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,ot.getModularInstance)(e),Ld("collection","path",t),e instanceof Hd)return Vd(n=Ho.fromString.apply(Ho,(0,it.__spreadArray)([t],r))),new Gd(e,null,n);if(!(e instanceof Wd||e instanceof Gd))throw new Eo(So.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vd(n=Ho.fromString.apply(Ho,(0,it.__spreadArray)([e.path],r)).child(Ho.fromString(t))),new Gd(e.firestore,null,n)}function Qd(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,ot.getModularInstance)(e),1===arguments.length&&(t=Do.u()),Ld("doc","path",t),e instanceof Hd)return Ud(n=Ho.fromString.apply(Ho,(0,it.__spreadArray)([t],r))),new Wd(e,null,new aa(n));if(!(e instanceof Wd||e instanceof Gd))throw new Eo(So.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ud(n=e._path.child(Ho.fromString.apply(Ho,(0,it.__spreadArray)([t],r)))),new Wd(e.firestore,e instanceof Gd?e.converter:null,new aa(n))}function Yd(e,t){return e=(0,ot.getModularInstance)(e),t=(0,ot.getModularInstance)(t),(e instanceof Wd||e instanceof Gd)&&(t instanceof Wd||t instanceof Gd)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xd(e,t){return e=(0,ot.getModularInstance)(e),t=(0,ot.getModularInstance)(t),e instanceof Kd&&t instanceof Kd&&e.firestore===t.firestore&&ts(e._query,t._query)&&e.converter===t.converter}var Jd=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ch(this,"async_queue_retry"),this.Ic=function(){var t=Eh();t&&To("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Eh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Eh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new mc;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!xc(e=n.sent()))throw e;return To("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Io("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=of.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Ao()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e;return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function ep(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var tp=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new mc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),np=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Jd,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,it.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||ip(this),this._firestoreClient.terminate()},t}(Hd);function rp(e){return e._firestoreClient||ip(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ip(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Td(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vd(e._credentials,e._queue,r)}function op(e,t,n){var r=this,i=new mc;return e.asyncQueue.enqueue((function(){return(0,it.__awaiter)(r,void 0,void 0,(function(){var r;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,md(e,n)];case 1:return o.sent(),[4,gd(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===So.FAILED_PRECONDITION||e.code===So.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ap(e){if(e._initialized||e._terminated)throw new Eo(So.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Eo(So.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ko(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),up=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e($o.fromBase64String(t))}catch(t){throw new Eo(So.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e($o.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),cp=function(e){this._methodName=e},lp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Eo(So.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Eo(So.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Lo(this._lat,e._lat)||Lo(this._long,e._long)},e}(),hp=/^__.*__$/,fp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Os(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rs(e,this.data,t,this.fieldTransforms)},e}(),dp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Os(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function pp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ao()}}var vp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Dp(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(pp(this.Nc)&&hp.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),mp=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||kh(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new vp({Nc:e,methodName:t,qc:n,path:Ko.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function gp(e){var t=e._freezeSettings(),n=kh(e._databaseId);return new mp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yp(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Ap("Data must be an object, but it was:",a,r);var s,u,c=Np(r,a);if(o.merge)s=new Go(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Rp(t,f[h],n);if(!a.contains(d))throw new Eo(So.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Lp(l,d)||l.push(d)}s=new Go(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new fp(new wa(c),s,u)}var bp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,it.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(cp);function _p(e,t,n){return new vp({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var wp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,it.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new xs(e.path,new ps)},t.prototype.isEqual=function(e){return e instanceof t},t}(cp),xp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,it.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=_p(this,e,!0),n=this.Kc.map((function(e){return Ip(e,t)})),r=new vs(n);return new xs(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(cp),Sp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,it.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=_p(this,e,!0),n=this.Kc.map((function(e){return Ip(e,t)})),r=new gs(n);return new xs(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(cp),Ep=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,it.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new bs(e.R,cs(e.R,this.Qc));return new xs(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(cp);function kp(e,t,n,r){var i=e.Uc(1,t,n);Ap("Data must be an object, but it was:",i,r);var o=[],a=wa.empty();zo(r,(function(e,r){var s=Mp(t,e,n);r=(0,ot.getModularInstance)(r);var u=i.Oc(s);if(r instanceof bp)o.push(s);else{var c=Ip(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Go(o);return new dp(a,s,i.fieldTransforms)}function Cp(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[Rp(t,r,n)],u=[i];if(o.length%2!=0)throw new Eo(So.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Rp(t,o[c])),u.push(o[c+1]);for(var l=[],h=wa.empty(),f=s.length-1;f>=0;--f)if(!Lp(l,s[f])){var d=s[f],p=u[f];p=(0,ot.getModularInstance)(p);var v=a.Oc(d);if(p instanceof bp)l.push(d);else{var m=Ip(p,v);null!=m&&(l.push(d),h.set(d,m))}}var g=new Go(l);return new dp(h,g,a.fieldTransforms)}function Tp(e,t,n,r){return void 0===r&&(r=!1),Ip(n,e.Uc(r?4:3,t))}function Ip(e,t){if(Pp(e=(0,ot.getModularInstance)(e)))return Ap("Unsupported field value:",t,e),Np(e,t);if(e instanceof cp)return function(e,t){if(!pp(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Ip(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,ot.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cs(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Uo.fromDate(e);return{timestampValue:gu(t.R,n)}}if(e instanceof Uo)return n=new Uo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:gu(t.R,n)};if(e instanceof lp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof up)return{bytesValue:yu(t.R,e._byteString)};if(e instanceof Wd){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:wu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Bd(e))}(e,t)}function Np(e,t){var n={};return qo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zo(e,(function(e,r){var i=Ip(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Uo||e instanceof lp||e instanceof up||e instanceof Wd||e instanceof cp)}function Ap(e,t,n){if(!Pp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Bd(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Rp(e,t,n){if((t=(0,ot.getModularInstance)(t))instanceof sp)return t._internalPath;if("string"==typeof t)return Mp(e,t);throw Dp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Op=new RegExp("[~\\*/\\[\\]]");function Mp(e,t,n){if(t.search(Op)>=0)throw Dp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(sp.bind.apply(sp,(0,it.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(Vv){throw Dp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Dp(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Eo(So.INVALID_ARGUMENT,(s+=". ")+e+u)}function Lp(e,t){return e.some((function(e){return e.isEqual(t)}))}var jp=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Wd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Fp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Up("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,it.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(jp);function Up(e,t){return"string"==typeof t?Mp(e,t):t instanceof sp?t._internalPath:t._delegate._internalPath}var Vp=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Bp=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,it.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Up("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(jp),zp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,it.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Bp),qp=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new zp(n._firestore,n._userDataWriter,r.key,r,new Vp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Eo(So.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new zp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new zp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Zp(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Zp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ao()}}function Hp(e,t){return e instanceof Bp&&t instanceof Bp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof qp&&t instanceof qp&&e._firestore===t._firestore&&Xd(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Wp(e){if(Ga(e)&&0===e.explicitOrderBy.length)throw new Eo(So.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kp=function(){};function Gp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var $p=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,it.__extends)(t,e),t.prototype._apply=function(e){var t=gp(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Eo(So.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){nv(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(tv(r,e,h))}s={arrayValue:{values:u}}}else s=tv(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||nv(a,o),s=Tp(n,"where",a,"in"===o||"not-in"===o);var f=Na.create(i,o,s);return function(e,t){if(t.g()){var n=Qa(e);if(null!==n&&!n.isEqual(t.field))throw new Eo(So.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=$a(e);null!==r&&rv(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Eo(So.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Eo(So.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Kd(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Za(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Kp),Qp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,it.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Eo(So.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Eo(So.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Va(t,n);return function(e,t){if(null===$a(e)){var n=Qa(e);null!==n&&rv(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Kd(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Za(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Kp),Yp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,it.__extends)(t,e),t.prototype._apply=function(e){return new Kd(e.firestore,e.converter,es(e._query,this.Hc,this.Jc))},t}(Kp),Xp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,it.__extends)(t,e),t.prototype._apply=function(e){var t=ev(e,this.type,this.Yc,this.Xc);return new Kd(e.firestore,e.converter,function(e,t){return new Za(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Kp),Jp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,it.__extends)(t,e),t.prototype._apply=function(e){var t=ev(e,this.type,this.Yc,this.Xc);return new Kd(e.firestore,e.converter,function(e,t){return new Za(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Kp);function ev(e,t,n,r){if(n[0]=(0,ot.getModularInstance)(n[0]),n[0]instanceof jp)return function(e,t,n,r,i){if(!r)throw new Eo(So.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Xa(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(pa(t,r.key));else{var c=r.data.field(u.field);if(ea(c))throw new Eo(So.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Eo(So.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Fa(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=gp(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Eo(So.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Eo(So.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ya(e)&&-1!==c.indexOf("/"))throw new Eo(So.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Ho.fromString(c));if(!aa.isDocumentKey(l))throw new Eo(So.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new aa(l);s.push(pa(t,h))}else{var f=Tp(n,r,c);s.push(f)}}return new Fa(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function tv(e,t,n){if("string"==typeof(n=(0,ot.getModularInstance)(n))){if(""===n)throw new Eo(So.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ya(t)&&-1!==n.indexOf("/"))throw new Eo(So.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ho.fromString(n));if(!aa.isDocumentKey(r))throw new Eo(So.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return pa(e,new aa(r))}if(n instanceof Wd)return pa(e,n._key);throw new Eo(So.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Bd(n)+".")}function nv(e,t){if(!Array.isArray(e)||0===e.length)throw new Eo(So.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Eo(So.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function rv(e,t,n){if(!n.isEqual(t))throw new Eo(So.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var iv=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ao()}},e.prototype.convertObject=function(e,t){var n=this,r={};return zo(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new lp(Xo(e.latitude),Xo(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=ta(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(na(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Yo(e);return new Uo(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Ho.fromString(e);Ro(Wu(n));var r=new Id(n.get(1),n.get(3)),i=new aa(n.popFirst(5));return r.isEqual(t)||Io("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function ov(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var av=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,it.__extends)(t,e),t.prototype.convertBytes=function(e){return new up(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wd(this.firestore,null,t)},t}(iv),sv=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gp(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=uv(e,this._firestore),i=ov(r.converter,t,n),o=yp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Es.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=uv(e,this._firestore);return o="string"==typeof(t=(0,ot.getModularInstance)(t))||t instanceof sp?Cp(this._dataReader,"WriteBatch.update",a._key,t,n,r):kp(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Es.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=uv(e,this._firestore);return this._mutations=this._mutations.concat(new Us(t._key,Es.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Eo(So.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function uv(e,t){if((e=(0,ot.getModularInstance)(e)).firestore!==t)throw new Eo(So.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var cv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,it.__extends)(t,e),t.prototype.convertBytes=function(e){return new up(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wd(this.firestore,null,t)},t}(iv);function lv(e,t,n){e=zd(e,Wd);var r=zd(e.firestore,np),i=ov(e.converter,t,n);return dv(r,[yp(gp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Es.none())])}function hv(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=zd(e,Wd);var o=zd(e.firestore,np),a=gp(o);return dv(o,[("string"==typeof(t=(0,ot.getModularInstance)(t))||t instanceof sp?Cp(a,"updateDoc",e._key,t,n,r):kp(a,"updateDoc",e._key,t)).toMutation(e._key,Es.exists(!0))])}function fv(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,ot.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||ep(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(ep(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof Wd)c=zd(e.firestore,np),l=Wa(e._key.path),u={next:function(t){i[s]&&i[s](pv(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=zd(e,Kd);c=zd(d.firestore,np),l=d._query;var p=new cv(c);u={next:function(e){i[s]&&i[s](new qp(c,p,d,e))},error:i[s+1],complete:i[s+2]},Wp(e._query)}return function(e,t,n,r){var i=this,o=new hd(r),a=new gf(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(i,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return t=ff,[4,Ed(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(i,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return t=df,[4,Ed(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(rp(c),l,h,u)}function dv(e,t){return function(e,t){var n=this,r=new mc;return e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(n,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return n=Af,[4,Sd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(rp(e),t)}function pv(e,t,n){var r=n.docs.get(t._key),i=new cv(e);return new Bp(e,i,t._key,r,new Vp(n.hasPendingWrites,n.fromCache),t.converter)}var vv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,it.__extends)(t,e),t.prototype.get=function(t){var n=this,r=uv(t,this._firestore),i=new cv(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Bp(n._firestore,i,r._key,e._document,new Vp(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=gp(e)}return e.prototype.get=function(e){var t=this,n=uv(e,this._firestore),r=new av(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ao();var i=e[0];if(i.isFoundDocument())return new jp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new jp(t._firestore,r,n._key,null,n.converter);throw Ao()}))},e.prototype.set=function(e,t,n){var r=uv(e,this._firestore),i=ov(r.converter,t,n),o=yp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=uv(e,this._firestore);return o="string"==typeof(t=(0,ot.getModularInstance)(t))||t instanceof sp?Cp(this._dataReader,"Transaction.update",a._key,t,n,r):kp(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=uv(e,this._firestore);return this._transaction.delete(t._key),this},e}());function mv(){if("undefined"==typeof Uint8Array)throw new Eo(So.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gv(){if("undefined"==typeof atob)throw new Eo(So.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yv=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return gv(),new e(up.fromBase64String(t))},e.fromUint8Array=function(t){return mv(),new e(up.fromUint8Array(t))},e.prototype.toBase64=function(){return gv(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return mv(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),bv=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){ap(e=zd(e,np));var n=rp(e),r=e._freezeSettings(),i=new cd;return op(n,i,new sd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){ap(e=zd(e,np));var t=rp(e),n=e._freezeSettings(),r=new cd;return op(t,r,new ud(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Eo(So.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new mc;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,it.__awaiter)(t,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return bc.yt()?(t=e+"main",[4,bc.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Pl(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),_v=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Id||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||No("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=zd(e,Hd))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&No("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=sh.MOCK_USER;else{a=(0,ot.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Eo(So.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new sh(u)}e._credentials=new Rd(new Pd(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,it.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,_d(e)];case 1:return t=r.sent(),[4,xd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Oo(e);return t.Or.delete(0),Oh(t)}(n))]}}))}))}))}(rp(zd(this._delegate,np)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,it.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,_d(e)];case 1:return t=r.sent(),[4,xd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return(t=Oo(e)).Or.add(0),[4,Mh(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(rp(zd(this._delegate,np)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Fd("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new mc;return e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(t,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return t=jf,[4,Sd(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(rp(zd(this._delegate,np)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new hd(t);return e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(n,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Oo(e).Gr.add(t),t.next()},[4,Ed(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(n,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Oo(e).Gr.delete(t)},[4,Ed(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(rp(e=zd(e,np)),ep(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Eo(So.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Mv(this,$d(this._delegate,e))}catch(e){throw Cv(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new kv(this,Qd(this._delegate,e))}catch(e){throw Cv(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Av(this,function(e,t){if(e=zd(e,Hd),Ld("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Eo(So.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Kd(e,null,function(e){return new Za(Ho.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Cv(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new mc;return e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(n,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return bd(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new pd(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(rp(e),(function(n){return t(new vv(e,n))}))}(this._delegate,(function(n){return e(new xv(t,n))}))},e.prototype.batch=function(){var e=this;return rp(this._delegate),new Sv(new sv(this._delegate,(function(t){return dv(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Eo(So.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Eo(So.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),wv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,it.__extends)(t,e),t.prototype.convertBytes=function(e){return new yv(new up(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return kv.eu(t,this.firestore,null)},t}(iv);var xv=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wv(e)}return e.prototype.get=function(e){var t=this,n=Dv(e);return this._delegate.get(n).then((function(e){return new Nv(t._firestore,new Bp(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Dv(e);return n?(jd("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Dv(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,it.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Dv(e);return this._delegate.delete(t),this},e}(),Sv=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Dv(e);return n?(jd("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Dv(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,it.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Dv(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ev=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new zp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pv(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new wv(t),n),i.set(n,o)),o},e}();Ev.su=new WeakMap;var kv=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wv(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Eo(So.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Wd(n._delegate,r,new aa(t)))},e.eu=function(t,n,r){return new e(n,new Wd(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Mv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Mv(this.firestore,$d(this._delegate,e))}catch(e){throw Cv(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,ot.getModularInstance)(e))instanceof Wd&&Yd(this._delegate,e)},e.prototype.set=function(e,t){t=jd("DocumentReference.set",t);try{return t?lv(this._delegate,e,t):lv(this._delegate,e)}catch(e){throw Cv(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?hv(this._delegate,e):hv.apply(void 0,(0,it.__spreadArray)([this._delegate,e,t],n))}catch(e){throw Cv(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return dv(zd((e=this._delegate).firestore,np),[new Us(e._key,Es.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Tv(t),i=Iv(t,(function(t){return new Nv(e.firestore,new Bp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fv(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zd(e,Wd);var t=zd(e.firestore,np),n=rp(t),r=new cv(t);return function(e,t){var n=this,r=new mc;return e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(n,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Oo(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Eo(So.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=af(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,wd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Bp(t,r,e._key,n,new Vp(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zd(e,Wd);var t=zd(e.firestore,np);return kd(rp(t),e._key,{source:"server"}).then((function(n){return pv(t,e,n)}))}(this._delegate):function(e){e=zd(e,Wd);var t=zd(e.firestore,np);return kd(rp(t),e._key).then((function(n){return pv(t,e,n)}))}(this._delegate)).then((function(e){return new Nv(t.firestore,new Bp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ev.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Cv(e,t,n){return e.message=e.message.replace(t,n),e}function Tv(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!ep(r))return r}return{}}function Iv(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ep(e[0])?e[0]:ep(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Nv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new kv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Hp(this._delegate,e._delegate)},e}(),Pv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,it.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Nv),Av=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wv(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Gp(this._delegate,function(e,t,n){var r=t,i=Up("where",e);return new $p(i,r,n)}(t,n,r)))}catch(t){throw Cv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Gp(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Up("orderBy",e);return new Qp(r,n)}(t,n)))}catch(t){throw Cv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Gp(this._delegate,function(e){return qd("limit",e),new Yp("limit",e,"F")}(t)))}catch(t){throw Cv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Gp(this._delegate,function(e){return qd("limitToLast",e),new Yp("limitToLast",e,"L")}(t)))}catch(t){throw Cv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gp(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xp("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Cv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gp(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xp("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Cv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gp(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Jp("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Cv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gp(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Jp("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Cv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Xd(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zd(e,Kd);var t=zd(e.firestore,np),n=rp(t),r=new cv(t);return function(e,t){var n=this,r=new mc;return e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(n,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Hl(e,t,!0)];case 1:return s=u.sent(),r=new Ef(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=af(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,wd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new qp(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zd(e,Kd);var t=zd(e.firestore,np),n=rp(t),r=new cv(t);return Cd(n,e._query,{source:"server"}).then((function(n){return new qp(t,r,e,n)}))}(this._delegate):function(e){e=zd(e,Kd);var t=zd(e.firestore,np),n=rp(t),r=new cv(t);return Wp(e._query),Cd(n,e._query).then((function(n){return new qp(t,r,e,n)}))}(this._delegate)).then((function(e){return new Ov(t.firestore,new qp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Tv(t),i=Iv(t,(function(t){return new Ov(e.firestore,new qp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fv(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ev.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Rv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Pv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Ov=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Av(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Pv(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Rv(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Pv(n._firestore,r))}))},e.prototype.isEqual=function(e){return Hp(this._delegate,e._delegate)},e}(),Mv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,it.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new kv(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new kv(this.firestore,void 0===e?Qd(this._delegate):Qd(this._delegate,e))}catch(e){throw Cv(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=zd(e.firestore,np),r=Qd(e),i=ov(e.converter,t);return dv(n,[yp(gp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Es.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new kv(t.firestore,e)}))},t.prototype.isEqual=function(e){return Yd(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ev.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Av);function Dv(e){return zd(e,Wd)}var Lv=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(sp.bind.apply(sp,(0,it.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(Ko.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,ot.getModularInstance)(e))instanceof sp&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),jv=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new wp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new bp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xp("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Sp("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Ep("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Fv(e){return function(e,t){var n=rp(e=zd(e,np)),r=new tp;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new fd(e,t)}(function(e,t){if(e instanceof Uint8Array)return ld(e,t);if(e instanceof ArrayBuffer)return ld(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,kh(t));e.asyncQueue.enqueueAndForget((function(){return(0,it.__awaiter)(i,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return t=od,[4,Sd(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function Uv(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,it.__awaiter)(n,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=Oo(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,wd(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(rp(t=zd(t,np)),n).then((function(e){return e?new Kd(t,null,e.query):null}))).then((function(e){return e?new Av(r,e):null}))}var Vv,Bv,zv=n(826),qv={Firestore:_v,GeoPoint:lp,Timestamp:Uo,Blob:yv,Transaction:xv,WriteBatch:Sv,DocumentReference:kv,DocumentSnapshot:Nv,Query:Av,QueryDocumentSnapshot:Pv,QuerySnapshot:Ov,CollectionReference:Mv,FieldPath:Lv,FieldValue:jv,setLogLevel:function(e){var t;t=e,ko.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new zv.Component("firestore",(function(e){return function(e,t){return new _v(e,new np(e,t),new bv)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},qv)))})(Vv=rt.default),Vv.registerVersion("@firebase/firestore","2.4.1"),(Bv=_v).prototype.loadBundle=Fv,Bv.prototype.namedQuery=Uv;var Zv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hv=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,it.__extends)(t,e),t}(Error);var Wv=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e;return(0,it.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function Kv(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Gv=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return Kv(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?Kv(e,(function(e){return t.decode(e)})):e},e}();var $v=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Gv,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Wv(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(Vv){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e;return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,it.__generator)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Hv("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Qv(c,this.postJSON(r,i,o)),l,Qv(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new Hv("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Zv[s])return new Hv("internal","internal");r=Zv[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(Vv){}return"ok"===r?null:new Hv(r,i,o)}(h.status,h.json,this.serializer),f)throw f;if(!h.json)throw new Hv("internal","Response is not valid JSON object.");if("undefined"===typeof(d=h.json.data)&&(d=h.json.result),"undefined"===typeof d)throw new Hv("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function Qv(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:$v};e.INTERNAL.registerComponent(new zv.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new $v(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(rt.default,fetch.bind(self)),rt.default.registerVersion("@firebase/functions","0.6.16");var Yv,Xv=n(6494),Jv="0.4.32",em=1e4,tm="w:0.4.32",nm="FIS_v2",rm=36e5,im=((Yv={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Yv["not-registered"]="Firebase Installation is not registered.",Yv["installation-not-found"]="Firebase Installation not found.",Yv["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Yv["app-offline"]="Could not process request. Application offline.",Yv["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Yv),om=new ot.ErrorFactory("installations","Installations",im);function am(e){return e instanceof ot.FirebaseError&&e.code.includes("request-failed")}function sm(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function um(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function cm(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,om.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function lm(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hm(e,t){var n=t.refreshToken,r=lm(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function fm(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function dm(e,t){var n=t.fid;return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return t=sm(e),r=lm(e),i={fid:n,authVersion:nm,appId:e.appId,sdkVersion:tm},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,fm((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:um(s.authToken)}];case 3:return[4,cm("Create Installation",a)];case 4:throw u.sent()}}))}))}function pm(e){return new Promise((function(t){setTimeout(t,e)}))}var vm=/^[cdef][\w-]{21}$/;function mm(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,it.__spreadArray)([],(0,it.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return vm.test(t)?t:""}catch(yp){return""}}function gm(e){return e.appName+"!"+e.appId}var ym=new Map;function bm(e,t){var n=gm(e);_m(n,t),function(e,t){var n=xm();n&&n.postMessage({key:e,fid:t});Sm()}(n,t)}function _m(e,t){var n,r,i=ym.get(e);if(i)try{for(var o=(0,it.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var wm=null;function xm(){return!wm&&"BroadcastChannel"in self&&((wm=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){_m(e.data.key,e.data.fid)}),wm}function Sm(){0===ym.size&&wm&&(wm.close(),wm=null)}var Em,km="firebase-installations-store",Cm=null;function Tm(){return Cm||(Cm=(0,Xv.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(km)}))),Cm}function Im(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:return n=gm(e),[4,Tm()];case 1:return r=s.sent(),i=r.transaction(km,"readwrite"),[4,(o=i.objectStore(km)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||bm(e,t.fid),[2,t]}}))}))}function Nm(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return t=gm(e),[4,Tm()];case 1:return n=i.sent(),[4,(r=n.transaction(km,"readwrite")).objectStore(km).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Pm(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return n=gm(e),[4,Tm()];case 1:return r=u.sent(),i=r.transaction(km,"readwrite"),[4,(o=i.objectStore(km)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||bm(e,s.fid),[2,s]}}))}))}function Am(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,Pm(e,(function(n){var r=function(e){return Mm(e||{fid:mm(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(om.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,dm(e,t)];case 1:return n=i.sent(),[2,Im(e,n)];case 2:return am(r=i.sent())&&409===r.customData.serverCode?[4,Nm(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Im(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Rm(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function Rm(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return[4,Om(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,pm(100)];case 3:return o.sent(),[4,Om(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Am(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Om(e){return Pm(e,(function(e){if(!e)throw om.create("installation-not-found");return Mm(e)}))}function Mm(e){return 1===(t=e).registrationStatus&&t.registrationTime+em<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Dm(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,it.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return sm(e)+"/"+n+"/authTokens:generate"}(n,t),i=hm(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:tm}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,fm((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,um(c)];case 3:return[4,cm("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Lm(e,t){return void 0===t&&(t=!1),(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return[4,Pm(e.appConfig,(function(r){if(!Fm(r))throw om.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+rm}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,jm(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,pm(100)];case 3:return i.sent(),[4,jm(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Lm(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw om.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,it.__assign)((0,it.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Dm(e,t)];case 1:return n=o.sent(),i=(0,it.__assign)((0,it.__assign)({},t),{authToken:n}),[4,Im(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!am(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Nm(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,it.__assign)((0,it.__assign)({},t),{authToken:{requestStatus:0}}),[4,Im(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function jm(e){return Pm(e,(function(e){if(!Fm(e))throw om.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+em<Date.now()?(0,it.__assign)((0,it.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function Fm(e){return void 0!==e&&2===e.registrationStatus}function Um(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return[4,Am(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Vm(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return sm(e)+"/"+n}(e,t),r=hm(e,t),i={method:"DELETE",headers:r},[4,fm((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,cm("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Bm(e,t){var n=e.appConfig;return function(e,t){xm();var n=gm(e),r=ym.get(n);r||(r=new Set,ym.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=gm(e),r=ym.get(n);r&&(r.delete(t),0===r.size&&ym.delete(n),Sm())}(n,t)}}function zm(e){return om.create("missing-app-config-values",{valueName:e})}(Em=rt.default).INTERNAL.registerComponent(new zv.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw zm("App Configuration");if(!e.name)throw zm("App Name");try{for(var r=(0,it.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw zm(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,Am(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Lm(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return[4,Um(e.appConfig)];case 1:return n.sent(),[4,Lm(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,Pm(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw om.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw om.create("app-offline");case 3:return[4,Vm(t,n)];case 4:return r.sent(),[4,Nm(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return Bm(r,e)}};return i}),"PUBLIC")),Em.registerVersion("@firebase/installations",Jv);var qm,Zm,Hm=n(8365),Wm=((qm={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',qm["only-available-in-window"]="This method is available in a Window context.",qm["only-available-in-sw"]="This method is available in a service worker context.",qm["permission-default"]="The notification permission was not granted and dismissed instead.",qm["permission-blocked"]="The notification permission was not granted and blocked instead.",qm["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",qm["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",qm["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",qm["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",qm["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",qm["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",qm["token-update-no-token"]="FCM returned no token when updating the user to push.",qm["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",qm["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",qm["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",qm["invalid-vapid-key"]="The public VAPID key must be a string.",qm["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",qm),Km=new ot.ErrorFactory("messaging","Messaging",Wm),Gm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$m="google.c.a.c_id";function Qm(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,it.__spreadArray)([],(0,it.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ym(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Zm||(Zm={}));var Xm="fcm_token_details_db",Jm="fcm_token_object_Store";function eg(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(Xm))return[2,null];o.label=2;case 2:return r=null,[4,(0,Hm.openDb)(Xm,5,(function(t){return(0,it.__awaiter)(i,void 0,void 0,(function(){var n,i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(Jm)?[4,(n=t.transaction.objectStore(Jm)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:Qm(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Qm(o.auth),p256dh:Qm(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Qm(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,Hm.deleteDb)(Xm)];case 4:return o.sent(),[4,(0,Hm.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,Hm.deleteDb)("undefined")];case 6:return o.sent(),[2,tg(r)?r:null]}}))}))}function tg(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var ng="firebase-messaging-store",rg=null;function ig(){return rg||(rg=(0,Hm.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(ng)}))),rg}function og(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return t=ug(e),[4,ig()];case 1:return[4,i.sent().transaction(ng).objectStore(ng).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,eg(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,ag(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function ag(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return n=ug(e),[4,ig()];case 1:return r=o.sent(),[4,(i=r.transaction(ng,"readwrite")).objectStore(ng).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function sg(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return t=ug(e),[4,ig()];case 1:return n=i.sent(),[4,(r=n.transaction(ng,"readwrite")).objectStore(ng).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function ug(e){return e.appConfig.appId}function cg(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return[4,dg(e)];case 1:n=u.sent(),r=pg(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(fg(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Km.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Km.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw Km.create("token-subscribe-no-token");return[2,o.token]}}))}))}function lg(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return[4,dg(e)];case 1:n=u.sent(),r=pg(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(fg(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Km.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Km.create("token-update-failed",{errorInfo:s});if(!o.token)throw Km.create("token-update-no-token");return[2,o.token]}}))}))}function hg(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:return[4,dg(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(fg(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,Km.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),Km.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function fg(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function dg(e){var t=e.appConfig,n=e.installations;return(0,it.__awaiter)(this,void 0,void 0,(function(){var e;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function pg(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Gm&&(o.web.applicationPubKey=i),o}function vg(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Km.create("permission-blocked");return[4,bg(t,n)];case 1:return r=s.sent(),[4,og(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Qm(r.getKey("auth")),p256dh:Qm(r.getKey("p256dh"))},i?[3,3]:[2,yg(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,hg(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,yg(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,gg({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function mg(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,og(e)];case 1:return(n=i.sent())?[4,hg(e,n.token)]:[3,4];case 2:return i.sent(),[4,sg(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function gg(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,lg(t,e)];case 1:return r=a.sent(),i=(0,it.__assign)((0,it.__assign)({},e),{token:r,createTime:Date.now()}),[4,ag(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,mg(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function yg(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,cg(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,ag(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function bg(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ym(t)})]}}))}))}function _g(e){return"object"===typeof e&&!!e&&$m in e}function wg(e){return new Promise((function(t){setTimeout(t,e)}))}var xg=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw Km.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,it.__awaiter)(this,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,og(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:Gm,r.label=2;case 2:return[2,vg(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return mg(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Km.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Km.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Km.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Km.create("only-available-in-window")},e.prototype.onMessage=function(){throw Km.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Km.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,Cg()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,kg(n,t)]:(r=!1,t.notification?[4,Tg(Sg(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,wg(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,it.__awaiter)(this,void 0,void 0,(function(){var r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,mg(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,og(this.firebaseDependencies)];case 3:return r=i.sent(),[4,mg(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,vg(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:Gm)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return _g(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Eg(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,wg(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=Zm.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function Sg(e){var t,n=(0,it.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function Eg(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return[4,Cg()];case 1:t=u.sent();try{for(n=(0,it.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function kg(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Zm.PUSH_RECEIVED;try{for(var i=(0,it.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Cg(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Tg(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Ig=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Zm.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),_g(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Km.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,vg(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Gm),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Km.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Km.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,mg(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e;return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?Km.create("permission-blocked"):Km.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Km.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Km.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Km.create("invalid-sw-registration");if(this.swRegistration)throw Km.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Km.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Km.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case Zm.NOTIFICATION_CLICKED:return"notification_open";case Zm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Ng(e){return Km.create("missing-app-config-values",{valueName:e})}var Pg={isSupported:Ag};function Ag(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}rt.default.INTERNAL.registerComponent(new zv.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Ng("App Configuration Object");if(!e.name)throw Ng("App Name");var r=e.options;try{for(var i=(0,it.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Ng(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Ag())throw Km.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new xg(r):new Ig(r)}),"PUBLIC").setServiceProps(Pg));var Rg="firebasestorage.googleapis.com",Og=function(e){function t(n,r){var i=e.call(this,Mg(n),"Firebase Storage: "+r+" ("+Mg(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,it.__extends)(t,e),t.prototype._codeEquals=function(e){return Mg(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(ot.FirebaseError);function Mg(e){return"storage/"+e}function Dg(){return new Og("unknown","An unknown error occurred, please check the error payload for server response.")}function Lg(){return new Og("canceled","User canceled the upload/download.")}function jg(){return new Og("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Fg(e){return new Og("invalid-argument",e)}function Ug(){return new Og("app-deleted","The Firebase app was deleted.")}function Vg(e){return new Og("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bg(e,t){return new Og("invalid-format","String does not match format '"+e+"': "+t)}function zg(e){throw new Og("internal-error","Internal error: "+e)}var qg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Zg=function(e,t){this.data=e,this.contentType=t||null};function Hg(e,t){switch(e){case qg.RAW:return new Zg(Wg(t));case qg.BASE64:case qg.BASE64URL:return new Zg(Kg(e,t));case qg.DATA_URL:return new Zg(function(e){var t=new Gg(e);return t.base64?Kg(qg.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Vv){throw Bg(qg.DATA_URL,"Malformed data URL.")}return Wg(t)}(t.rest)}(t),new Gg(t).contentType)}throw Dg()}function Wg(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Kg(e,t){switch(e){case qg.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Bg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case qg.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Bg(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Vv){throw Bg(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Gg=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Bg(qg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)};var $g,Qg={STATE_CHANGED:"state_changed"},Yg={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xg(e){switch(e){case"running":case"pausing":case"canceling":return Yg.RUNNING;case"paused":return Yg.PAUSED;case"success":return Yg.SUCCESS;case"canceled":return Yg.CANCELED;default:return Yg.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}($g||($g={}));var Jg=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=$g.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=$g.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=$g.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw zg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw zg("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw zg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Vv){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw zg("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var ey=function(){function e(){}return e.prototype.createConnection=function(){return new Jg},e}(),ty=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Vv){return new e(t,"")}if(""===r.path)return r;throw new Og("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Rg?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new Og("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),ny=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function ry(e){return"string"===typeof e||e instanceof String}function iy(e){return oy()&&e instanceof Blob}function oy(){return"undefined"!==typeof Blob}function ay(e,t,n,r){if(r<t)throw Fg("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Fg("Invalid value for '"+e+"'. Expected "+n+" or less.")}function sy(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function uy(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var cy=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(Vv){o(Vv)}else null!==a?((r=Dg()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Ug():Lg()):o(r=new Og("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new ly(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,(0,it.__spreadArray)([null,e],t));else{var i;s()||o?c.call.apply(c,(0,it.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new ly(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===$g.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new ly(a,r))}else{var s=r.getErrorCode()===$g.ABORT;t(!1,new ly(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),ly=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function hy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function fy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hy();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(oy())return new Blob(e);throw new Og("unsupported-environment","This browser doesn't seem to support creating Blobs")}var dy=function(){function e(e,t){var n=0,r="";iy(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(iy(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(oy()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(fy.apply(null,r))}var i=t.map((function(e){return ry(e)?Hg(qg.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function py(e){var t;try{t=JSON.parse(e)}catch(Vv){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function vy(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function my(e,t){return t}var gy=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||my},yy=null;function by(){if(yy)return yy;var e=[];e.push(new gy("bucket")),e.push(new gy("generation")),e.push(new gy("metageneration")),e.push(new gy("name","fullPath",!0));var t=new gy("name");t.xform=function(e,t){return function(e){return!ry(e)||e.length<2?e:vy(e)}(t)},e.push(t);var n=new gy("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new gy("timeCreated")),e.push(new gy("updated")),e.push(new gy("md5Hash",null,!0)),e.push(new gy("cacheControl",null,!0)),e.push(new gy("contentDisposition",null,!0)),e.push(new gy("contentEncoding",null,!0)),e.push(new gy("contentLanguage",null,!0)),e.push(new gy("contentType",null,!0)),e.push(new gy("metadata","customMetadata",!0)),yy=e}function _y(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ty(n,r);return t._makeStorageReference(i)}})}(r,e),r}function wy(e,t,n){var r=py(t);return null===r?null:_y(e,r,n)}function xy(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Sy(e,t,n){var r=py(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new ty(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new ty(t,l.name)),r.items.push(s)}return r}(e,t,r)}var Ey=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ky(e){if(!e)throw Dg()}function Cy(e,t){return function(n,r){var i=wy(e,r,t);return ky(null!==i),i}}function Ty(e,t){return function(n,r){var i=wy(e,r,t);return ky(null!==i),function(e,t,n){var r=py(t);if(null===r)return null;if(!ry(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return sy("/b/"+o(r)+"/o/"+o(i),n)+uy({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Iy(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Og("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Og("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Og("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Og("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Ny(e){var t=Iy(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Og("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Py(e,t,n){var r=sy(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Ey(r,"GET",Cy(e,n),i);return o.errorHandler=Ny(t),o}function Ay(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=sy(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Ey(a,"GET",function(e,t){return function(n,r){var i=Sy(e,t,r);return ky(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Iy(t),u}function Ry(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Oy=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function My(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Vv){ky(!1)}return ky(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Dy=262144;function Ly(e,t,n,r,i,o,a,s){var u=new Oy(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Og("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,f);if(null===p)throw jg();var v=t.maxUploadRetryTime,m=new Ey(n,"POST",(function(e,n){var i,a=My(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Cy(t,o)(e,n):null,new Oy(s,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Iy(e),m}var jy=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function Fy(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Uy=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=by(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Ry(t,r,i),s={name:a.fullPath},u=sy(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=xy(a,n),h=e.maxUploadRetryTime,f=new Ey(u,"POST",(function(e){var t;My(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Vv){ky(!1)}return ky(ry(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Iy(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Ey(n,"POST",(function(e){var t=My(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Vv){ky(!1)}n||ky(!1);var i=Number(n);return ky(!isNaN(i)),new Oy(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Iy(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Dy*this._chunkMultiplier,n=new Oy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=Ly(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Vv){return e._error=Vv,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Dy*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Py(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Ry(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xy(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=dy.getBlob(c,r,l);if(null===h)throw jg();var f={name:u.fullPath},d=sy(o,e.host),p=e.maxUploadRetryTime,v=new Ey(d,"POST",Cy(e,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=Iy(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Lg(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Xg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new jy(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Xg(this._state)){case Yg.SUCCESS:Fy(this._resolve.bind(null,this.snapshot))();break;case Yg.CANCELED:case Yg.ERROR:Fy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Xg(this._state)){case Yg.RUNNING:case Yg.PAUSED:e.next&&Fy(e.next.bind(e,this.snapshot))();break;case Yg.SUCCESS:e.complete&&Fy(e.complete.bind(e))();break;default:e.error&&Fy(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Vy=function(){function e(e,t){this._service=e,this._location=t instanceof ty?t:ty.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new ty(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return vy(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new ty(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Vg(e)},e}();function By(e){var t={prefixes:[],items:[]};return zy(e,t).then((function(){return t}))}function zy(e,t,n){return(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:return[4,qy(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,zy(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function qy(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&ay("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Ay(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Zy(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=sy(t.fullServerUrl(),e.host),o=xy(n,r),a=e.maxOperationRetryTime,s=new Ey(i,"PATCH",Cy(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Ny(t),s}(e.storage,e._location,t,by()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Hy(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=sy(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Ey(r,"GET",Ty(e,n),i);return o.errorHandler=Ny(t),o}(e.storage,e._location,by()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Og("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Wy(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=sy(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Ey(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Ny(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Ky(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ty(e._location.bucket,n);return new Vy(e.storage,r)}function Gy(e){return/^[A-Za-z]+:\/\//.test(e)}function $y(e,t){if(e instanceof Xy){var n=e;if(null==n._bucket)throw new Og("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Vy(n,n._bucket);return null!=t?$y(r,t):r}return void 0!==t?Ky(e,t):e}function Qy(e,t){if(t&&Gy(t)){if(e instanceof Xy)return new Vy(e,t);throw Fg("To use ref(service, url), the first argument must be a Storage instance.")}return $y(e,t)}function Yy(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:ty.makeFromBucketSpec(n,e)}var Xy=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Rg,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ty.makeFromBucketSpec(i,this._host):Yy(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=ty.makeFromBucketSpec(this._url,e):this._bucket=Yy(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){ay("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){ay("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e;return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Vy(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new ny(Ug());var i=function(e,t,n,r,i,o){var a=uy(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new cy(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Jy(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Uy(e,new dy(t),n)}(e=(0,ot.getModularInstance)(e),t,n)}function eb(e){return function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Py(e.storage,e._location,by()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,ot.getModularInstance)(e))}function tb(e,t){return Qy(e=(0,ot.getModularInstance)(e),t)}function nb(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,ot.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var rb=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),ib=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new rb(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new rb(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new rb(e,i,i._ref))}:{next:t.next?function(e){return t.next(new rb(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),ob=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new ab(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new ab(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),ab=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Ky(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new ib(Jy(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=qg.RAW),this._throwIfRoot("putString");var r=Hg(t,e),i=(0,it.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ib(new Uy(this._delegate,new dy(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return By(e=(0,ot.getModularInstance)(e))}(this._delegate).then((function(t){return new ob(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return qy(e=(0,ot.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new ob(e,t.storage)}))},e.prototype.getMetadata=function(){return eb(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Zy(e=(0,ot.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Hy(e=(0,ot.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Wy(e=(0,ot.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Vg(e)},e}(),sb=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Gy(e))throw Fg("ref() expected a child path but got a URL, use refFromURL instead.");return new ab(tb(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Gy(e))throw Fg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ty.makeFromUrl(e,this._delegate.host)}catch(Vv){throw Fg("refFromUrl() expected a valid full URL but got an invalid one.")}return new ab(tb(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),nb(this._delegate,e,t,n)},e}();function ub(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new sb(r,new Xy(r,i,o,new ey,n,rt.default.SDK_VERSION))}!function(e){var t={TaskState:Yg,TaskEvent:Qg,StringFormat:qg,Storage:Xy,Reference:ab};e.INTERNAL.registerComponent(new zv.Component("storage",ub,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(rt.default);var cb,lb,hb,fb="0.4.18",db=fb,pb="FB-PERF-TRACE-MEASURE",vb="_wt_",mb="_fcp",gb="_fid",yb="@firebase/performance/config",bb="@firebase/performance/configexpire",_b="Performance",wb=((cb={})["trace started"]="Trace {$traceName} was started before.",cb["trace stopped"]="Trace {$traceName} is not running.",cb["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",cb["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",cb["no window"]="Window is not available.",cb["no app id"]="App id is not available.",cb["no project id"]="Project id is not available.",cb["no api key"]="Api key is not available.",cb["invalid cc log"]="Attempted to queue invalid cc event",cb["FB not default"]="Performance can only start when Firebase app instance is the default one.",cb["RC response not ok"]="RC response is not ok",cb["invalid attribute name"]="Attribute name {$attributeName} is invalid.",cb["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",cb["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",cb["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",cb),xb=new ot.ErrorFactory("performance",_b,wb),Sb=new at.Logger(_b);Sb.logLevel=at.LogLevel.INFO;var Eb,kb=function(){function e(e){if(this.window=e,!e)throw xb.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,ot.isIndexedDBAvailable)()||(Sb.info("IndexedDB is not supported by current browswer"),!1):(Sb.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===lb&&(lb=new e(hb)),lb},e}();function Cb(e,t){var n=e.length-t.length;if(n<0||n>1)throw xb.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Tb,Ib,Nb=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Cb("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Cb("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw xb.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw xb.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw xb.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===Eb&&(Eb=new e),Eb},e}();function Pb(){return Tb}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Ib||(Ib={}));var Ab=["firebase_","google_","ga_"],Rb=new RegExp("^[a-zA-Z]\\w*$");function Ob(){var e=kb.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function Mb(){switch(kb.getInstance().document.visibilityState){case"visible":return Ib.VISIBLE;case"hidden":return Ib.HIDDEN;default:return Ib.UNKNOWN}}function Db(){var e=kb.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Lb="0.0.1",jb=!0,Fb="FIREBASE_INSTALLATIONS_AUTH";function Ub(e){var t=function(){var e=kb.getInstance().localStorage;if(!e)return;var t=e.getItem(bb);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(yb);if(!r)return;try{return JSON.parse(r)}catch(yp){return}}();return t?(Bb(t),Promise.resolve()):function(e){return function(){var e=Nb.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Nb.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Nb.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:Fb+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Nb.getInstance().getAppId(),app_version:db,sdk_version:Lb})});return fetch(r).then((function(e){if(e.ok)return e.json();throw xb.create("RC response not ok")}))})).catch((function(){Sb.info(Vb)}))}(e).then(Bb).then((function(e){return function(e){var t=kb.getInstance().localStorage;if(!e||!t)return;t.setItem(yb,JSON.stringify(e)),t.setItem(bb,String(Date.now()+60*Nb.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var Vb="Could not fetch config, will use default configs";function Bb(e){if(!e)return e;var t=Nb.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=jb,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=zb(t.tracesSamplingRate),t.logNetworkAfterSampling=zb(t.networkRequestsSamplingRate),e}function zb(e){return Math.random()<=e}var qb,Zb=1;function Hb(){return Zb=2,qb=qb||function(){var e=kb.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=Nb.getInstance().installationsService.getId();return e.then((function(e){Tb=e})),e}()})).then((function(e){return Ub(e)})).then((function(){return Wb()}),(function(){return Wb()}))}function Wb(){Zb=3}var Kb,Gb=1e4,$b=3,Qb=[],Yb=!1;function Xb(e){setTimeout((function(){if(0!==$b)return Qb.length?void function(){var e=Qb.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=Nb.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Sb.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=Gb;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Qb=(0,it.__spreadArray)((0,it.__spreadArray)([],t),Qb),Sb.info("Retry transport request later.")),$b=3,Xb(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Nb.getInstance().logSource,log_event:t},e).catch((function(){Qb=(0,it.__spreadArray)((0,it.__spreadArray)([],e),Qb),$b--,Sb.info("Tries left: "+$b+"."),Xb(Gb)}))}():Xb(Gb)}),e)}function Jb(e){if(!e.eventTime||!e.message)throw xb.create("invalid cc log");Qb=(0,it.__spreadArray)((0,it.__spreadArray)([],Qb),[e])}function e_(e,t){Kb||(Kb=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Jb({message:e.apply(void 0,t),eventTime:Date.now()})}}(r_)),Kb(e,t)}function t_(e){var t=Nb.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&kb.getInstance().requiredApisAvailable()&&(e.isAuto&&Mb()!==Ib.VISIBLE||(3===Zb?n_(e):Hb().then((function(){return n_(e)}),(function(){return n_(e)}))))}function n_(e){if(Pb()){var t=Nb.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return e_(e,1)}),0)}}function r_(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:i_(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:i_(),trace_metric:t};return JSON.stringify(r)}(e)}function i_(){return{google_app_id:Nb.getInstance().getAppId(),app_instance_id:Pb(),web_app_info:{sdk_version:db,page_url:kb.getInstance().getUrl(),service_worker_status:Ob(),visibility_state:Mb(),effective_connection_type:Db()},application_process_state:0}}var o_=["_fp",mb,gb];var a_=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=kb.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw xb.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw xb.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),t_(this)},e.prototype.record=function(e,t,n){if(e<=0)throw xb.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw xb.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,it.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}t_(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(vb)&&o_.indexOf(n)>-1)&&n.startsWith("_"))throw xb.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&Sb.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!Ab.some((function(e){return n.startsWith(e)}))&&!!n.match(Rb),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw xb.create("invalid attribute name",{attributeName:e});if(!i)throw xb.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,it.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=kb.getInstance().getUrl();if(i){var o=new e(vb+i,!0),a=Math.floor(1e3*kb.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(mb,Math.floor(1e3*u.startTime)),r&&o.putMetric(gb,Math.floor(1e3*r))}t_(o)}},e.createUserTimingTrace=function(t){t_(new e(t,!1,t))},e}();function s_(e){var t=e;if(t&&void 0!==t.responseStart){var n=kb.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Nb.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return e_(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function u_(){Pb()&&(setTimeout((function(){return function(){var e=kb.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){a_.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),a_.createOobTrace(t,n,e))}))}else a_.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=kb.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){s_(r[n])}e.setupObserver("resource",s_)}()}),0),setTimeout((function(){return function(){for(var e=kb.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){c_(r[n])}e.setupObserver("measure",c_)}()}),0))}function c_(e){var t=e.name;t.substring(0,pb.length)!==pb&&a_.createUserTimingTrace(t)}var l_=function(){function e(e){this.app=e,kb.getInstance().requiredApisAvailable()&&(0,ot.validateIndexedDBOpenable)().then((function(e){e&&(Yb||(Xb(5500),Yb=!0),Hb().then(u_,u_))})).catch((function(e){Sb.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new a_(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Nb.getInstance().instrumentationEnabled},set:function(e){Nb.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Nb.getInstance().dataCollectionEnabled},set:function(e){Nb.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw xb.create("FB not default");if("undefined"===typeof window)throw xb.create("no window");return function(e){hb=e}(window),Nb.getInstance().firebaseAppInstance=e,Nb.getInstance().installationsService=t,new l_(e)};e.INTERNAL.registerComponent(new zv.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",fb)}(rt.default);var h_,f_,d_="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(h_||(h_={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(f_||(f_={}));var p_,v_=new at.Logger("@firebase/analytics");function m_(e,t,n,r,i,o){return(0,it.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,it.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find((function(e){return e.measurementId===i})),u?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),v_.error(c),[3,8];case 8:return e(h_.CONFIG,i,o),[2]}}))}))}function g_(e,t,n,r,i){return(0,it.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,it.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(h_.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),v_.error(f),[3,5];case 5:return[2]}}))}))}function y_(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,it.__awaiter)(this,void 0,void 0,(function(){var s;return(0,it.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==h_.EVENT?[3,2]:[4,g_(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==h_.CONFIG?[3,4]:[4,m_(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(h_.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),v_.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var b_=((p_={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",p_["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",p_["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",p_["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",p_["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",p_["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",p_["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",p_["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',p_["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',p_),__=new ot.ErrorFactory("analytics","Analytics",b_),w_=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function x_(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function S_(e){var t;return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,it.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:x_(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw __.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function E_(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=w_),(0,it.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return(0,it.__generator)(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,k_(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return v_.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,S_(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof ot.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return v_.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,ot.calculateBackoffMillis)(o,r.intervalMillis,30):(0,ot.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),v_.debug("Calling attemptFetch again in "+l+" millis"),[2,E_(e,h,n,r)];case 7:return[2]}}))}))}function k_(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(__.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var C_=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function T_(e,t,n,r,i,o){return(0,it.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return(0,it.__generator)(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=w_),(0,it.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,it.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw __.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw __.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new C_,setTimeout((function(){return(0,it.__awaiter)(c,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,E_({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&v_.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return v_.error(e)})),t.push(a),s=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e;return(0,it.__generator)(this,(function(t){switch(t.label){case 0:return(0,ot.isIndexedDBAvailable)()?[3,1]:(v_.warn(__.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,ot.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),v_.warn(__.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(d_))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=d_+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(h_.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}var I_,N_,P_={},A_=[],R_={},O_="dataLayer",M_="gtag",D_=!1;function L_(e){if(D_)throw __.create("already-initialized");e.dataLayerName&&(O_=e.dataLayerName),e.gtagName&&(M_=e.gtagName)}function j_(e,t){!function(){var e=[];if((0,ot.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,ot.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=__.create("invalid-analytics-context",{errorInfo:t});v_.warn(n.message)}}();var n=e.options.appId;if(!n)throw __.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw __.create("no-api-key");v_.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=P_[n])throw __.create("already-exists",{id:n});if(!D_){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(O_);var r=y_(P_,A_,R_,O_,M_),i=r.wrappedGtag,o=r.gtagCore;N_=i,I_=o,D_=!0}P_[n]=T_(e,A_,R_,t,I_,O_);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,it.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,it.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(h_.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,it.__assign)((0,it.__assign)({},r),{send_to:o}),e(h_.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(N_,P_[n],e,t,r).catch((function(e){return v_.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,it.__awaiter)(this,void 0,void 0,(function(){var i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(h_.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(h_.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(N_,P_[n],e,t).catch((function(e){return v_.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,it.__awaiter)(this,void 0,void 0,(function(){var i;return(0,it.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(h_.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(h_.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(N_,P_[n],e,t).catch((function(e){return v_.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,it.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,it.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(h_.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(h_.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(N_,P_[n],e,t).catch((function(e){return v_.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(P_[n],e).catch((function(e){return v_.error(e)}))},INTERNAL:{delete:function(){return delete P_[n],Promise.resolve()}}};return a}var F_="analytics";function U_(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:if((0,ot.isBrowserExtension)())return[2,!1];if(!(0,ot.areCookiesEnabled)())return[2,!1];if(!(0,ot.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,ot.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new zv.Component(F_,(function(e){return j_(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:L_,EventName:f_,isSupported:U_})),e.INTERNAL.registerComponent(new zv.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(F_).getImmediate().logEvent}}catch(Vv){throw __.create("interop-component-reg-failed",{reason:Vv})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(rt.default);var V_,B_=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),z_=((V_={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",V_["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",V_["registration-api-key"]="Undefined API key. Check Firebase app initialization.",V_["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",V_["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",V_["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",V_["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",V_["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",V_["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",V_["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',V_["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',V_["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",V_["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",V_),q_=new ot.ErrorFactory("remoteconfig","Remote Config",z_);var Z_=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,m,g,y,b;return(0,it.__generator)(this,(function(_){switch(_.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=_.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),_.label=2;case 2:return _.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return _.sent(),[4,c];case 4:return h=_.sent(),[3,6];case 5:throw f=_.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),q_.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,_.label=7;case 7:return _.trys.push([7,9,,10]),[4,h.json()];case 8:return y=_.sent(),[3,10];case 9:throw b=_.sent(),q_.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=y.entries,g=y.state,_.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==p&&200!==p)throw q_.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:m}]}var w}))}))},e}(),H_=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),W_=["1","true","t","yes","y","on"],K_=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&W_.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),G_=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=at.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=at.LogLevel.SILENT;break;default:this._logger.logLevel=at.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:e=new H_,setTimeout((function(){return(0,it.__awaiter)(r,void 0,void 0,(function(){return(0,it.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof ot.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){return(0,it.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,it.__assign)((0,it.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new K_("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new K_("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new K_("static"))},e}();function $_(e,t){var n=e.target.error||void 0;return q_.create(t,{originalErrorMessage:n&&n.message})}var Q_="app_namespace_store";var Y_=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t($_(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(Q_,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Q_],"readonly").objectStore(Q_),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i($_(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(Vv){i(q_.create("storage-get",{originalErrorMessage:Vv&&Vv.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,it.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,it.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Q_],"readwrite").objectStore(Q_),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o($_(e,"storage-set"))},u.onsuccess=function(){i()}}catch(Vv){o(q_.create("storage-set",{originalErrorMessage:Vv&&Vv.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,it.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Q_],"readwrite").objectStore(Q_),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i($_(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(Vv){i(q_.create("storage-delete",{originalErrorMessage:Vv&&Vv.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),X_=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,it.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function J_(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(q_.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var ew,tw=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,it.__awaiter)(this,void 0,void 0,(function(){var t;return(0,it.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,it.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,it.__generator)(this,(function(a){switch(a.label){case 0:return[4,J_(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof ot.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,ot.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),nw="@firebase/remote-config";(ew=rt.default).INTERNAL.registerComponent(new zv.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw q_.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw q_.create("registration-project-id");if(!s)throw q_.create("registration-api-key");if(!u)throw q_.create("registration-app-id");n=n||"firebase";var c=new Y_(u,r.name,n),l=new X_(c),h=new at.Logger(nw);h.logLevel=at.LogLevel.ERROR;var f=new Z_(i,ew.SDK_VERSION,n,a,s,u),d=new tw(f,c),p=new B_(d,c,l,h),v=new G_(r,p,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),ew.registerVersion(nw,"0.1.43");n(8446);var rw="8.10.1";rt.default.registerVersion("firebase",rw,"app"),rt.default.SDK_VERSION=rw;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),rt.default.registerVersion("firebase","8.10.1");var iw=rt.default.initializeApp({apiKey:"AIzaSyAkrC_p5zdW8yGzLVi85gw352mGLMoGVx0",authDomain:"carstro-copy.firebaseapp.com",projectId:"carstro-copy",storageBucket:"carstro-copy.appspot.com",messagingSenderId:"912419158823",appId:"1:912419158823:web:a72ebd976a1750cc53c702"}).firestore(),ow=[{id:"sl",name:"Cindy Castro",location:"Salt Lake, UT",lat:"40.770447000000004",lng:"-111.89254654767032",email:"cindyc@carstro.com",hours:"8:00am - 5:00pm",phone:"385-354-1824",address:"50 N Temple. 84150",position:"Chief Executive Officer",image:"/salesRepresentatives/cindy.jpeg"},{id:"rx",name:"Andres Castro",location:"Jackson, WY",lat:"43.82465852358263",lng:"-111.78084611892702",email:"andresc@carstro.com",hours:"8:00am - 5:00pm",phone:"307-777-6397",address:"80 Scott Ln. 83002",position:"Chief Financial Officer",image:"/salesRepresentatives/andres.jpeg"},{id:"dv",name:"Kevin Castro",location:"Austin, TX",lat:"39.7392364",lng:"-104.984862",email:"kevinc@carstro.com",hours:"8:00am - 5:00pm",phone:"210-543-8397",address:"1100 Congress Ave. 78701",position:"Chief Commercial Officer",image:"/salesRepresentatives/kevin.jpeg"},{id:"la",name:"Ignacio Villar ",location:"Los Angeles, CA",lat:"34.0536909",lng:"-118.242766",email:"ignaciov@carstro.com",hours:"8:00am - 5:00pm",phone:"310-398-2874",address:"5711 W Century Blvd. 90045",position:"Chief Legal Officer",image:"/salesRepresentatives/ignacio.jpeg"}];var aw=function(){var e=Ke(),t=(0,i.Z)(e,2),n=t[0],r=n.minMaxPrice,o=n.minMaxMileage,a=t[1],s=me(),u=function(e){a({type:"SET_SINGLE_BRAND",singleBrand:e}),s("/inventory?minPrice=".concat(r[0],"&maxPrice=").concat(r[1],"&minMileage=").concat(o[0],"&maxMileage=").concat(o[1]))};return(0,Ze.jsxs)("div",{className:"homeBrowseByBrand",children:[(0,Ze.jsx)("h2",{className:"homeSingleBrand",children:"Browse by Brand"}),(0,Ze.jsxs)("div",{className:"homeBrandLogos",children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-column",children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo",onClick:function(){return u("Kia")},children:[(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-logo",children:(0,Ze.jsx)("img",{className:"singleBrandLogo",src:"singleBrandImages/Kia.png",alt:""})}),(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-text",children:"Kia"})]}),(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo",onClick:function(){return u("Renault")},children:[(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-logo",children:(0,Ze.jsx)("img",{className:"singleBrandLogo",src:"singleBrandImages/Renault.png",alt:""})}),(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-text",children:"Renault"})]}),(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo singleLogo_none",id:"homeSingleBrandLogoLast2",onClick:function(){return u("Ferrari")},children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo-logo",children:[" ",(0,Ze.jsx)("img",{className:"singleBrandLogo",src:"singleBrandImages/Ferrari.png",alt:""})]}),(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-text",children:"Ferrari"})]})]}),(0,Ze.jsxs)("div",{className:"homeBrandLogos-column",children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo singleLogo_none",onClick:function(){return u("BMW")},children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo-logo",children:[" ",(0,Ze.jsx)("img",{className:"singleBrandLogo",src:"singleBrandImages/BMW.png",alt:""})]}),(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-text",children:"BMW"})]}),(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo",onClick:function(){return u("Lamborghini")},children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo-logo",children:[" ",(0,Ze.jsx)("img",{className:"singleBrandLogo",src:"singleBrandImages/Lamborghini.png",alt:""})]}),(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-text",children:"Lamborghini"})]}),(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo",onClick:function(){return u("Jaguar")},id:"homeSingleBrandLogoLast2",children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo-logo",children:[" ",(0,Ze.jsx)("img",{className:"singleBrandLogo",src:"singleBrandImages/Jaguar.png",alt:""})]}),(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-text",children:"Jaguar"})]})]}),(0,Ze.jsxs)("div",{className:"homeBrandLogos-column",children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo",onClick:function(){return u("Audi")},children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo-logo",children:[" ",(0,Ze.jsx)("img",{className:"singleBrandLogo",src:"singleBrandImages/Audi.png",alt:""})]}),(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-text",children:"Audi"})]}),(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo",onClick:function(){return u("Ford")},id:"homeSingleBrandLogoLast2",children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo-logo",children:[" ",(0,Ze.jsx)("img",{className:"singleBrandLogo",src:"singleBrandImages/Ford.png",alt:""})]}),(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-text",children:"Ford"})]}),(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo",onClick:function(){return u("Honda")},id:"homeSingleBrandLogoLast2",children:[(0,Ze.jsxs)("div",{className:"homeBrandLogos-singleLogo-logo",children:[" ",(0,Ze.jsx)("img",{className:"singleBrandLogo",src:"singleBrandImages/Honda.png",alt:""})]}),(0,Ze.jsx)("div",{className:"homeBrandLogos-singleLogo-text",children:"Honda"})]})]})]})]})};var sw=function(){var t=me(),n=Ke(),r=(0,i.Z)(n,2),o=r[0],s=o.minMaxPrice,u=o.minMaxMileage,c=r[1],l=(0,e.useState)([]),h=(0,i.Z)(l,2),f=h[0],d=h[1],p=(0,e.useState)(""),v=(0,i.Z)(p,2),m=v[0],g=v[1];return(0,e.useEffect)((function(){iw.collection("cars").get().then((function(e){var t=e.docs.map((function(e){return et(et({},e.data()),{},{carId:e.id})})),n=e.docs.map((function(e){return e.data().brand}));d((0,a.Z)(new Set(n)));var r=t.map((function(e){return Number(e.price)})),i=Math.min.apply(Math,(0,a.Z)(r)),o=Math.max.apply(Math,(0,a.Z)(r)),s=t.map((function(e){return Number(e.odometer)})),u=Math.min.apply(Math,(0,a.Z)(s)),l=Math.max.apply(Math,(0,a.Z)(s));c({type:"SET_CARS_RESULTS",carsResults:t}),c({type:"SET_MIN_MAX_PRICE_FILTER",minMaxPrice:[i,o]}),c({type:"SET_MIN_MAX_MILEAGE_FILTER",minMaxMileage:[u,l]})})).catch((function(e){console.log("Error fetching the DB",e)}))}),[]),(0,e.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),(0,Ze.jsxs)("div",{className:"homepage-container",children:[(0,Ze.jsxs)("div",{className:"bannerContainer",children:[(0,Ze.jsxs)("div",{className:"main-image",children:[(0,Ze.jsx)("div",{className:"home_heroOverlay"}),(0,Ze.jsx)("img",{className:"home-mainImage home-mainImage-l",src:"homepageImages/main-l.jpg",alt:"Audi car in road on Fall season"}),(0,Ze.jsx)("img",{className:"home-mainImage home-mainImage-m",src:"homepageImages/main-m.jpg",alt:"Audi car in road on Fall season"}),(0,Ze.jsx)("img",{className:"home-mainImage home-mainImage-s",src:"homepageImages/main-s.jpg",alt:"Audi car in road on Fall season"})]}),(0,Ze.jsxs)("div",{className:"home-mainText",children:[(0,Ze.jsx)("div",{className:"home-main-Title",children:(0,Ze.jsx)("h1",{children:"Same quality, lower price"})}),(0,Ze.jsx)("div",{className:"home-main-Subtitle",children:(0,Ze.jsx)("p1",{children:"Our vision is to help more people to own their dream car, and we are making it possible..."})}),(0,Ze.jsx)("button",{type:"button",className:"exploreInput",id:"homeFindYoursButton",onClick:function(){t("/inventory?minPrice=".concat(s[0],"&maxPrice=").concat(s[1],"&minMileage=").concat(u[0],"&maxMileage=").concat(u[1]))},children:"Find Yours"})]})]}),(0,Ze.jsx)("div",{className:"exploreVehicles",children:(0,Ze.jsxs)("div",{className:"exploreVehicles-box",children:[(0,Ze.jsx)("div",{className:"exploreVehicles-text",children:"Explore Vehicles"}),(0,Ze.jsx)("div",{className:"exploreVehicles-input",children:(0,Ze.jsxs)("form",{action:"/action_page.php",className:"homeForm",children:[(0,Ze.jsxs)("div",{className:"home__select",children:[(0,Ze.jsx)("label",{for:"exploreBrand",hidden:!0}),(0,Ze.jsxs)("select",{name:"brand",className:"exploreInput",id:"exploreBrand",onChange:function(e){return function(e){g(e.target.value)}(e)},children:[(0,Ze.jsx)("option",{value:"selectBrand",children:"Select Brand"}),f.map((function(e){return(0,Ze.jsx)("option",{value:e,children:e},e)}))]}),(0,Ze.jsx)(nt.Z,{})]}),(0,Ze.jsx)("input",{type:"submit",value:"View Inventory",disabled:"selectBrand"===m||""===m,className:"".concat("selectBrand"===m||""===m?"btn-disabled":"btn-able"," exploreInput"),id:"exploreSubmit",onClick:function(){c({type:"SET_SINGLE_BRAND",singleBrand:m}),t("/inventory?minPrice=".concat(s[0],"&maxPrice=").concat(s[1],"&minMileage=").concat(u[0],"&maxMileage=").concat(u[1]))}})]})})]})}),(0,Ze.jsxs)("div",{to:"/marketing",className:"home-marketing-section",children:[(0,Ze.jsxs)("div",{className:"marketing-image",children:[(0,Ze.jsx)("img",{className:"home-marketingImage home-marketingImage-l",src:"homepageImages/markLarge.png",alt:"Car in sand for marketing purposes"}),(0,Ze.jsx)("img",{className:"home-marketingImage home-marketingImage-s",src:"homepageImages/markSmall.png",alt:"Car in sand for marketing purposes"})]}),(0,Ze.jsxs)("div",{className:"marketing-text",children:[(0,Ze.jsxs)("div",{className:"marketing-title-and-text",children:[(0,Ze.jsx)("h2",{children:"2023 Toyota 4Runner"}),(0,Ze.jsx)("p2r",{children:"Sleek and steady wins the race"})]}),(0,Ze.jsx)(Fe,{to:"/marketing",className:"marketing-text-button",children:(0,Ze.jsx)("button",{className:"home-marketing-button",children:(0,Ze.jsx)("h3",{children:"Learn More"})})})]})]}),(0,Ze.jsx)(aw,{}),(0,Ze.jsx)("h2",{className:"homeSingleBrand",children:"Sales Representatives"}),(0,Ze.jsx)("div",{className:"home_salesRepresentative",children:ow.map((function(e){return(0,Ze.jsxs)("div",{className:"home_salesRepresentative-card",children:[(0,Ze.jsx)("img",{src:e.image,alt:"".concat(e.name," sales representative")}),(0,Ze.jsxs)("div",{className:"home_salesRepresentative-info",children:[(0,Ze.jsx)("p",{children:e.name}),(0,Ze.jsxs)("div",{className:"home_salesRepresentative-location",children:[(0,Ze.jsx)(tt.Z,{}),(0,Ze.jsx)("span",{children:e.location})]})]})]},e.id)}))})]})},uw=n(824),cw=n(8805),lw=n(3366),hw=n(7462),fw=n(8182),dw=n(4419),pw=n(9359),vw=n(551),mw=n(2071),gw=n(9683),yw=n(8221);function bw(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}var ww=e.createContext(null);function xw(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function Sw(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Ew(t,n,r){var i=xw(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,e.isValidElement)(s)){var u=a in n,c=a in i,l=n[a],h=(0,e.isValidElement)(l)&&!l.props.in;!c||u&&!h?c||!u||h?c&&u&&(0,e.isValidElement)(l)&&(o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:Sw(s,"exit",t),enter:Sw(s,"enter",t)})):o[a]=(0,e.cloneElement)(s,{in:!1}):o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:Sw(s,"exit",t),enter:Sw(s,"enter",t)})}})),o}var kw=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Cw=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(g(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}_w(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=t,i=a,xw(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:Sw(t,"appear",r),enter:Sw(t,"enter",r),exit:Sw(t,"exit",r)})}))):Ew(t,o,a),firstRender:!1}},r.handleExited=function(e,t){var n=xw(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,hw.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,lw.Z)(t,["component","childFactory"]),o=this.state.contextValue,a=kw(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(ww.Provider,{value:o},a):e.createElement(ww.Provider,{value:o},e.createElement(n,i,a))},n}(e.Component);Cw.propTypes={},Cw.defaultProps={component:"div",childFactory:function(e){return e}};var Tw=Cw,Iw=(n(3361),n(2110),n(9140));n(2561);function Nw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Iw.O)(t)}var Pw=function(){var e=Nw.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Aw=function(t){var n=t.className,r=t.classes,o=t.pulsate,a=void 0!==o&&o,s=t.rippleX,u=t.rippleY,c=t.rippleSize,l=t.in,h=t.onExited,f=t.timeout,d=e.useState(!1),p=(0,i.Z)(d,2),v=p[0],m=p[1],g=(0,fw.Z)(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:c,height:c,top:-c/2+u,left:-c/2+s},b=(0,fw.Z)(r.child,v&&r.childLeaving,a&&r.childPulsate);return l||v||m(!0),e.useEffect((function(){if(!l&&null!=h){var e=setTimeout(h,f);return function(){clearTimeout(e)}}}),[h,l,f]),(0,Ze.jsx)("span",{className:g,style:y,children:(0,Ze.jsx)("span",{className:b})})},Rw=n(5878);var Ow,Mw,Dw,Lw,jw,Fw,Uw,Vw,Bw=(0,Rw.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zw=["center","classes","className"],qw=Pw(jw||(jw=Ow||(Ow=bw(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Zw=Pw(Fw||(Fw=Mw||(Mw=bw(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Hw=Pw(Uw||(Uw=Dw||(Dw=bw(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Ww=(0,pw.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Kw=(0,pw.ZP)(Aw,{name:"MuiTouchRipple",slot:"Ripple"})(Vw||(Vw=Lw||(Lw=bw(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Bw.rippleVisible,qw,550,(function(e){return e.theme.transitions.easing.easeInOut}),Bw.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Bw.child,Bw.childLeaving,Zw,550,(function(e){return e.theme.transitions.easing.easeInOut}),Bw.childPulsate,Hw,(function(e){return e.theme.transitions.easing.easeInOut})),Gw=e.forwardRef((function(t,n){var r=(0,vw.Z)({props:t,name:"MuiTouchRipple"}),o=r.center,s=void 0!==o&&o,u=r.classes,c=void 0===u?{}:u,l=r.className,h=(0,lw.Z)(r,zw),f=e.useState([]),d=(0,i.Z)(f,2),p=d[0],v=d[1],m=e.useRef(0),g=e.useRef(null);e.useEffect((function(){g.current&&(g.current(),g.current=null)}),[p]);var y=e.useRef(!1),b=e.useRef(null),_=e.useRef(null),w=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var x=e.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;v((function(e){return[].concat((0,a.Z)(e),[(0,Ze.jsx)(Kw,{classes:{ripple:(0,fw.Z)(c.ripple,Bw.ripple),rippleVisible:(0,fw.Z)(c.rippleVisible,Bw.rippleVisible),ripplePulsate:(0,fw.Z)(c.ripplePulsate,Bw.ripplePulsate),child:(0,fw.Z)(c.child,Bw.child),childLeaving:(0,fw.Z)(c.childLeaving,Bw.childLeaving),childPulsate:(0,fw.Z)(c.childPulsate,Bw.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,g.current=o}),[c]),S=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,a=void 0===o?s||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===(null==e?void 0:e.type)&&y.current)y.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(y.current=!0);var l,h,f,d=c?null:w.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(a||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),h=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,g=v.clientY;l=Math.round(m-p.left),h=Math.round(g-p.top)}if(a)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var S=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,E=2*Math.max(Math.abs((d?d.clientHeight:0)-h),h)+2;f=Math.sqrt(Math.pow(S,2)+Math.pow(E,2))}null!=e&&e.touches?null===_.current&&(_.current=function(){x({pulsate:i,rippleX:l,rippleY:h,rippleSize:f,cb:n})},b.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):x({pulsate:i,rippleX:l,rippleY:h,rippleSize:f,cb:n})}}),[s,x]),E=e.useCallback((function(){S({},{pulsate:!0})}),[S]),k=e.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===(null==e?void 0:e.type)&&_.current)return _.current(),_.current=null,void(b.current=setTimeout((function(){k(e,t)})));_.current=null,v((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:E,start:S,stop:k}}),[E,S,k]),(0,Ze.jsx)(Ww,(0,hw.Z)({className:(0,fw.Z)(Bw.root,c.root,l),ref:w},h,{children:(0,Ze.jsx)(Tw,{component:null,exit:!0,children:p})}))})),$w=Gw,Qw=n(1217);function Yw(e){return(0,Qw.Z)("MuiButtonBase",e)}var Xw,Jw=(0,Rw.Z)("MuiButtonBase",["root","disabled","focusVisible"]),ex=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],tx=(0,pw.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Xw={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,Xe.Z)(Xw,"&.".concat(Jw.disabled),{pointerEvents:"none",cursor:"default"}),(0,Xe.Z)(Xw,"@media print",{colorAdjust:"exact"}),Xw)),nx=e.forwardRef((function(t,n){var r=(0,vw.Z)({props:t,name:"MuiButtonBase"}),o=r.action,a=r.centerRipple,s=void 0!==a&&a,u=r.children,c=r.className,l=r.component,h=void 0===l?"button":l,f=r.disabled,d=void 0!==f&&f,p=r.disableRipple,v=void 0!==p&&p,m=r.disableTouchRipple,g=void 0!==m&&m,y=r.focusRipple,b=void 0!==y&&y,_=r.LinkComponent,w=void 0===_?"a":_,x=r.onBlur,S=r.onClick,E=r.onContextMenu,k=r.onDragLeave,C=r.onFocus,T=r.onFocusVisible,I=r.onKeyDown,N=r.onKeyUp,P=r.onMouseDown,A=r.onMouseLeave,R=r.onMouseUp,O=r.onTouchEnd,M=r.onTouchMove,D=r.onTouchStart,L=r.tabIndex,j=void 0===L?0:L,F=r.TouchRippleProps,U=r.touchRippleRef,V=r.type,B=(0,lw.Z)(r,ex),z=e.useRef(null),q=e.useRef(null),Z=(0,mw.Z)(q,U),H=(0,yw.Z)(),W=H.isFocusVisibleRef,K=H.onFocus,G=H.onBlur,$=H.ref,Q=e.useState(!1),Y=(0,i.Z)(Q,2),X=Y[0],J=Y[1];d&&X&&J(!1),e.useImperativeHandle(o,(function(){return{focusVisible:function(){J(!0),z.current.focus()}}}),[]);var ee=e.useState(!1),te=(0,i.Z)(ee,2),ne=te[0],re=te[1];e.useEffect((function(){re(!0)}),[]);var ie=ne&&!v&&!d;function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return(0,gw.Z)((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}e.useEffect((function(){X&&b&&!v&&ne&&q.current.pulsate()}),[v,b,X,ne]);var ae=oe("start",P),se=oe("stop",E),ue=oe("stop",k),ce=oe("stop",R),le=oe("stop",(function(e){X&&e.preventDefault(),A&&A(e)})),he=oe("start",D),fe=oe("stop",O),de=oe("stop",M),pe=oe("stop",(function(e){G(e),!1===W.current&&J(!1),x&&x(e)}),!1),ve=(0,gw.Z)((function(e){z.current||(z.current=e.currentTarget),K(e),!0===W.current&&(J(!0),T&&T(e)),C&&C(e)})),me=function(){var e=z.current;return h&&"button"!==h&&!("A"===e.tagName&&e.href)},ge=e.useRef(!1),ye=(0,gw.Z)((function(e){b&&!ge.current&&X&&q.current&&" "===e.key&&(ge.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&me()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&me()&&"Enter"===e.key&&!d&&(e.preventDefault(),S&&S(e))})),be=(0,gw.Z)((function(e){b&&" "===e.key&&q.current&&X&&!e.defaultPrevented&&(ge.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),N&&N(e),S&&e.target===e.currentTarget&&me()&&" "===e.key&&!e.defaultPrevented&&S(e)})),_e=h;"button"===_e&&(B.href||B.to)&&(_e=w);var we={};"button"===_e?(we.type=void 0===V?"button":V,we.disabled=d):(B.href||B.to||(we.role="button"),d&&(we["aria-disabled"]=d));var xe=(0,mw.Z)(n,$,z);var Se=(0,hw.Z)({},r,{centerRipple:s,component:h,disabled:d,disableRipple:v,disableTouchRipple:g,focusRipple:b,tabIndex:j,focusVisible:X}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,o={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,dw.Z)(o,Yw,i);return n&&r&&(a.root+=" ".concat(r)),a}(Se);return(0,Ze.jsxs)(tx,(0,hw.Z)({as:_e,className:(0,fw.Z)(Ee.root,c),ownerState:Se,onBlur:pe,onClick:S,onContextMenu:se,onFocus:ve,onKeyDown:ye,onKeyUp:be,onMouseDown:ae,onMouseLeave:le,onMouseUp:ce,onDragLeave:ue,onTouchEnd:fe,onTouchMove:de,onTouchStart:he,ref:xe,tabIndex:d?-1:j,type:V},we,B,{children:[u,ie?(0,Ze.jsx)($w,(0,hw.Z)({ref:Z,center:s},F)):null]}))})),rx=nx,ix=n(4036);function ox(e){return(0,Qw.Z)("MuiFab",e)}var ax=(0,Rw.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),sx=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],ux=(0,pw.ZP)(rx,{name:"MuiFab",slot:"Root",shouldForwardProp:function(e){return(0,pw.FO)(e)||"classes"===e},overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat((0,ix.Z)(n.size))],"inherit"===n.color&&t.colorInherit,t[(0,ix.Z)(n.size)],t[n.color]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return(0,hw.Z)({},r.typography.button,(0,Xe.Z)({minHeight:36,transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(r.vars||r).zIndex.fab,boxShadow:(r.vars||r).shadows[6],"&:active":{boxShadow:(r.vars||r).shadows[12]},color:r.vars?r.vars.palette.text.primary:null==(t=(n=r.palette).getContrastText)?void 0:t.call(n,r.palette.grey[300]),backgroundColor:(r.vars||r).palette.grey[300],"&:hover":{backgroundColor:(r.vars||r).palette.grey.A100,"@media (hover: none)":{backgroundColor:(r.vars||r).palette.grey[300]},textDecoration:"none"}},"&.".concat(ax.focusVisible),{boxShadow:(r.vars||r).shadows[6]}),"small"===i.size&&{width:40,height:40},"medium"===i.size&&{width:48,height:48},"extended"===i.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===i.variant&&"small"===i.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===i.variant&&"medium"===i.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===i.color&&{color:"inherit"})}),(function(e){var t=e.theme,n=e.ownerState;return(0,hw.Z)({},"inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}})}),(function(e){var t=e.theme;return(0,Xe.Z)({},"&.".concat(ax.disabled),{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})})),cx=e.forwardRef((function(e,t){var n=(0,vw.Z)({props:e,name:"MuiFab"}),r=n.children,i=n.className,o=n.color,a=void 0===o?"default":o,s=n.component,u=void 0===s?"button":s,c=n.disabled,l=void 0!==c&&c,h=n.disableFocusRipple,f=void 0!==h&&h,d=n.focusVisibleClassName,p=n.size,v=void 0===p?"large":p,m=n.variant,g=void 0===m?"circular":m,y=(0,lw.Z)(n,sx),b=(0,hw.Z)({},n,{color:a,component:u,disabled:l,disableFocusRipple:f,size:v,variant:g}),_=function(e){var t=e.color,n=e.variant,r=e.classes,i=e.size,o={root:["root",n,"size".concat((0,ix.Z)(i)),"inherit"===t?"colorInherit":t]},a=(0,dw.Z)(o,ox,r);return(0,hw.Z)({},r,a)}(b);return(0,Ze.jsx)(ux,(0,hw.Z)({className:(0,fw.Z)(_.root,i),component:u,disabled:l,focusRipple:!f,focusVisibleClassName:(0,fw.Z)(_.focusVisible,d),ownerState:b,ref:t},y,{classes:_,children:r}))})),lx=cx,hx=n(5678),fx=n(4164);function dx(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}dx("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),dx("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var px=dx("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),vx=dx("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),mx={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},gx={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},yx=mx,bx="elevator",_x=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},wx=function(e){return(wx=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var xx=function(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}((function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()})),Sx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},kx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cx=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Tx=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function Ix(t){var n,r;return r=n=function(n){function r(){return Ex(this,r),Tx(this,n.apply(this,arguments))}return Cx(r,n),r.prototype.checkChildren=function(e){},r.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,yx),enterAnimation:this.convertAnimationProp(e.enterAnimation,mx),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,gx),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=kx({position:"relative"},r.style),t.delegated=r,t},r.prototype.convertTimingProp=function(e){var t=this.props[e],n="number"===typeof t?t:parseInt(t,10);return isNaN(n)?r.defaultProps[e]:n},r.prototype.convertAnimationProp=function(e,t){switch("undefined"===typeof e?"undefined":Sx(e)){case"boolean":return t[e?bx:"none"];case"string":return-1===Object.keys(t).indexOf(e)?t.elevator:t[e];default:return e}},r.prototype.render=function(){return e.createElement(t,this.convertProps(this.props))},r}(e.Component),n.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:bx,leaveAnimation:bx,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},r}function Nx(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(xx(e),n[e])}))}var Px=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,i=e.parentBoundingBox||n,o=(0,e.getPosition)(t),a=o.top-i.top,s=o.left-i.left;return[r.left-s,r.top-a]},Ax=function(e,t){var n=t.delay,r=t.duration,i=t.staggerDurationBy,o=t.staggerDelayBy,a=t.easing;n+=e*o,r+=e*i;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+a+" "+n+"ms"})).join(", ")},Rx=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"===typeof document)return"";var t=document.createElement("fakeelement"),n=_x((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),Ox=!Rx;function Mx(e){return e.key||""}function Dx(t){return e.Children.toArray(t)}var Lx=function(t){function n(){var e,r;Ex(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=Tx(this,t.call.apply(t,[this].concat(o))),r.state={children:Dx(r.props?r.props.children:[]).map((function(e){return kx({},e,{element:e,appearing:!0})}))},r.childrenData={},r.parentData={domNode:null,boundingBox:null},r.heightPlaceholderData={domNode:null},r.remainingAnimations=0,r.childrenToAnimate=[],r.findDOMContainer=function(){var e=fx.findDOMNode(r),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",px()),r.parentData.domNode=t)},r.runAnimation=function(){var e=r.state.children.filter(r.doesChildNeedToBeAnimated),t=e.map((function(e){return r.computeInitialStyles(e)}));e.forEach((function(e,n){r.remainingAnimations+=1,r.childrenToAnimate.push(Mx(e)),r.animateChild(e,n,t[n])})),"function"===typeof r.props.onStartAll&&r.callChildrenHook(r.props.onStartAll)},r.doesChildNeedToBeAnimated=function(e){if(!Mx(e))return!1;var t=r.getChildData(Mx(e)),n=t.domNode,i=t.boundingBox,o=r.parentData.boundingBox;if(!n)return!1;var a=r.props,s=a.appearAnimation,u=a.enterAnimation,c=a.leaveAnimation,l=a.getPosition,h=e.appearing&&s,f=e.entering&&u,d=e.leaving&&c;if(h||f||d)return!0;var p=Px({childDomNode:n,childBoundingBox:i,parentBoundingBox:o,getPosition:l}),v=p[0],m=p[1];return 0!==v||0!==m},Tx(r,e)}return Cx(n,t),n.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},n.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer();var t=Dx(this.props.children).map((function(e){return e.key})),n=Dx(e.children).map((function(e){return e.key})),r=!function(e,t){if(e===t)return!0;var n=!wx(e)||!wx(t),r=e.length!==t.length;return!n&&!r&&function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}((function(e,n){return e===t[n]}),e)}(t,n)&&!this.isAnimationDisabled(this.props);r&&(this.prepForAnimation(),this.runAnimation())},n.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return kx({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(i,o){if(!_x((function(e){return e.key===Mx(i)}),e)&&t.props.leaveAnimation){var a=kx({},i,{leaving:!0}),s=o+r;n.splice(s,0,a),r+=1}})),n},n.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,i=t.getPosition;if(n){var o=this.state.children.filter((function(e){return e.leaving}));o.forEach((function(t){var n=e.getChildData(Mx(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&vx(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var i=window.getComputedStyle(n),o=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=i.getPropertyValue(t);return kx({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});Nx({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-o["margin-top"]+"px",left:r.left-o["margin-left"]+"px",right:r.right-o["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,i=n.domNode,o=n.boundingBox;if(i&&o){Nx({domNode:t,styles:{height:"0"}});var a=o.height-r(i).height;Nx({domNode:t,styles:{height:a>0?a+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:i})}this.state.children.forEach((function(t){var n=e.getChildData(Mx(t)).domNode;n&&(t.entering||t.leaving||Nx({domNode:n,styles:{transition:""}}))}))},n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=Dx(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return kx({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},n.prototype.animateChild=function(e,t,n){var r=this,i=this.getChildData(Mx(e)).domNode;i&&(Nx({domNode:i,styles:n}),this.props.onStart&&this.props.onStart(e,i),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:Ax(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=kx({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=kx({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=kx({},n,r.props.leaveAnimation.to)),Nx({domNode:i,styles:n})}))})),this.bindTransitionEndHandler(e))},n.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(Mx(e)).domNode;if(n){n.addEventListener(Rx,(function r(i){i.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(Rx,r),e.leaving&&t.removeChildData(Mx(e)))}))}},n.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return kx({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"===typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},n.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var i=t.findChildByKey(e);i&&(n.push(i),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},n.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var i=Mx(r);if(i)if(e.hasChildData(i)){var o=e.getChildData(i);o.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,i=r(n),o=r(t),a=o.top,s=o.left,u=o.right,c=o.bottom,l=o.width,h=o.height;return{top:a-i.top,left:s-i.left,right:i.right-u,bottom:i.bottom-c,width:l,height:h}}({childDomNode:o.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var i=Mx(t),o=n[r];i&&e.setChildData(i,{boundingBox:o})}))}},n.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?kx({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(Mx(e)),n=t.domNode,r=t.boundingBox,i=this.parentData.boundingBox;if(!n)return{};var o=Px({childDomNode:n,childBoundingBox:r,parentBoundingBox:i,getPosition:this.props.getPosition});return{transform:"translate("+o[0]+"px, "+o[1]+"px)"}},n.prototype.isAnimationDisabled=function(e){return Ox||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},n.prototype.findChildByKey=function(e){return _x((function(t){return Mx(t)===e}),this.state.children)},n.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},n.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},n.prototype.setChildData=function(e,t){this.childrenData[e]=kx({},this.getChildData(e),t)},n.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return kx({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},n.prototype.createHeightPlaceholder=function(){var t=this,n=this.props.typeName,r="ul"===n||"ol"===n?"li":"div";return(0,e.createElement)(r,{key:"height-placeholder",ref:function(e){t.heightPlaceholderData.domNode=e},style:{visibility:"hidden",height:0}})},n.prototype.childrenWithRefs=function(){var t=this;return this.state.children.map((function(n){return(0,e.cloneElement)(n.element,{ref:function(e){if(e){var r=function(e){if("undefined"===typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,fx.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(e);t.setChildData(Mx(n),{domNode:r})}}})}))},n.prototype.render=function(){var t=this,n=this.props,r=n.typeName,i=n.delegated,o=n.leaveAnimation,a=n.maintainContainerHeight,s=this.childrenWithRefs();if(o&&a&&s.push(this.createHeightPlaceholder()),!r)return s;var u=kx({},i,{children:s,ref:function(e){t.parentData.domNode=e}});return(0,e.createElement)(r,u)},n}(e.Component),jx=Ix(Lx);var Fx=function(e){var t=e.text,n=e.bgColor,r=e.className,i=e.onClick;return(0,Ze.jsx)("button",{onClick:i,className:"btn btn__".concat(n," ").concat(r),children:t})},Ux=n(162),Vx=n(8301),Bx=n(7602),zx=!1,qx="unmounted",Zx="exited",Hx="entering",Wx="entered",Kx="exiting",Gx=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=Zx,r.appearStatus=Hx):i=Wx:i=e.unmountOnExit||e.mountOnEnter?qx:Zx,r.state={status:i},r.nextCallback=null,r}_w(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===qx?{status:Zx}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Hx&&n!==Wx&&(t=Hx):n!==Hx&&n!==Wx||(t=Kx)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Hx){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:fx.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zx&&this.setState({status:qx})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[fx.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||zx?this.safeSetState({status:Wx},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Hx},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:Wx},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:fx.findDOMNode(this);t&&!zx?(this.props.onExit(r),this.safeSetState({status:Kx},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Zx},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Zx},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:fx.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===qx)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,lw.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(ww.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function $x(){}Gx.contextType=ww,Gx.propTypes={},Gx.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$x,onEntering:$x,onEntered:$x,onExit:$x,onExiting:$x,onExited:$x},Gx.UNMOUNTED=qx,Gx.EXITED=Zx,Gx.ENTERING=Hx,Gx.ENTERED=Wx,Gx.EXITING=Kx;var Qx=Gx,Yx=n(418),Xx=n(4591);function Jx(){return(0,Yx.Z)(Xx.Z)}var eS=function(e){return e.scrollTop};function tS(e,t){var n,r,i=e.timeout,o=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var nS=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function rS(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var iS={entering:{opacity:1,transform:rS(1)},entered:{opacity:1,transform:"none"}},oS="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),aS=e.forwardRef((function(t,n){var r=t.addEndListener,i=t.appear,o=void 0===i||i,a=t.children,s=t.easing,u=t.in,c=t.onEnter,l=t.onEntered,h=t.onEntering,f=t.onExit,d=t.onExited,p=t.onExiting,v=t.style,m=t.timeout,g=void 0===m?"auto":m,y=t.TransitionComponent,b=void 0===y?Qx:y,_=(0,lw.Z)(t,nS),w=e.useRef(),x=e.useRef(),S=Jx(),E=e.useRef(null),k=(0,mw.Z)(E,a.ref,n),C=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},T=C(h),I=C((function(e,t){eS(e);var n,r=tS({style:v,timeout:g,easing:s},{mode:"enter"}),i=r.duration,o=r.delay,a=r.easing;"auto"===g?(n=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:o}),S.transitions.create("transform",{duration:oS?n:.666*n,delay:o,easing:a})].join(","),c&&c(e,t)})),N=C(l),P=C(p),A=C((function(e){var t,n=tS({style:v,timeout:g,easing:s},{mode:"exit"}),r=n.duration,i=n.delay,o=n.easing;"auto"===g?(t=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:oS?t:.666*t,delay:oS?i:i||.333*t,easing:o})].join(","),e.style.opacity=0,e.style.transform=rS(.75),f&&f(e)})),R=C(d);return e.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,Ze.jsx)(b,(0,hw.Z)({appear:o,in:u,nodeRef:E,onEnter:I,onEntered:N,onEntering:T,onExit:A,onExited:R,onExiting:P,addEndListener:function(e){"auto"===g&&(w.current=setTimeout(e,x.current||0)),r&&r(E.current,e)},timeout:"auto"===g?null:g},_,{children:function(t,n){return e.cloneElement(a,(0,hw.Z)({style:(0,hw.Z)({opacity:0,transform:rS(.75),visibility:"exited"!==t||u?void 0:"hidden"},iS[t],v,a.props.style),ref:k},n))}}))}));aS.muiSupportAuto=!0;var sS=aS,uS=n(7563),cS=n(9723),lS=n(8956),hS=n(8949),fS=n(5721),dS=n(2971);var pS=e.forwardRef((function(t,n){var r=t.children,o=t.container,a=t.disablePortal,s=void 0!==a&&a,u=e.useState(null),c=(0,i.Z)(u,2),l=c[0],h=c[1],f=(0,uS.Z)(e.isValidElement(r)?r.ref:null,n);return(0,fS.Z)((function(){s||h(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,s]),(0,fS.Z)((function(){if(l&&!s)return(0,dS.Z)(n,l),function(){(0,dS.Z)(n,null)}}),[n,l,s]),s?e.isValidElement(r)?e.cloneElement(r,{ref:f}):r:(0,Ze.jsx)(e.Fragment,{children:l?fx.createPortal(r,l):l})}));var vS=pS,mS=n(7979);function gS(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function yS(e){return parseInt((0,mS.Z)(e).getComputedStyle(e).paddingRight,10)||0}function bS(e,t,n,r,i){var o=[t,n].concat((0,a.Z)(r));[].forEach.call(e.children,(function(e){var t=-1===o.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&gS(e,i)}))}function _S(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function wS(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,cS.Z)(e);return t.body===e?(0,mS.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=function(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}((0,cS.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(yS(r)+i,"px");var o=(0,cS.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(yS(e)+i,"px")}))}var a;if(r.parentNode instanceof DocumentFragment)a=(0,cS.Z)(r).body;else{var s=r.parentElement,u=(0,mS.Z)(r);a="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===u.getComputedStyle(s).overflowY?s:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var xS=function(){function e(){s(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return l(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&gS(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);bS(t,e.mount,e.modalRef,r,!0);var i=_S(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=_S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=wS(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=_S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&gS(e.modalRef,t),bS(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var o=i.modals[i.modals.length-1];o.modalRef&&gS(o.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),SS=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function ES(e){var t=[],n=[];return Array.from(e.querySelectorAll(SS)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function kS(){return!0}var CS=function(t){var n=t.children,r=t.disableAutoFocus,i=void 0!==r&&r,o=t.disableEnforceFocus,a=void 0!==o&&o,s=t.disableRestoreFocus,u=void 0!==s&&s,c=t.getTabbable,l=void 0===c?ES:c,h=t.isEnabled,f=void 0===h?kS:h,d=t.open,p=e.useRef(),v=e.useRef(null),m=e.useRef(null),g=e.useRef(null),y=e.useRef(null),b=e.useRef(!1),_=e.useRef(null),w=(0,uS.Z)(n.ref,_),x=e.useRef(null);e.useEffect((function(){d&&_.current&&(b.current=!i)}),[i,d]),e.useEffect((function(){if(d&&_.current){var e=(0,cS.Z)(_.current);return _.current.contains(e.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex",-1),b.current&&_.current.focus()),function(){u||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}}}),[d]),e.useEffect((function(){if(d&&_.current){var e=(0,cS.Z)(_.current),t=function(t){var n=_.current;if(null!==n)if(e.hasFocus()&&!a&&f()&&!p.current){if(!n.contains(e.activeElement)){if(t&&y.current!==t.target||e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(_.current)),r.length>0){var i,o,s=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(o=x.current)?void 0:o.key)),u=r[0],c=r[r.length-1];s?c.focus():u.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!a&&f()&&"Tab"===t.key&&e.activeElement===_.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,a,u,f,d,l]);var S=function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0};return(0,Ze.jsxs)(e.Fragment,{children:[(0,Ze.jsx)("div",{tabIndex:d?0:-1,onFocus:S,ref:v,"data-testid":"sentinelStart"}),e.cloneElement(n,{ref:w,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0,y.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,Ze.jsx)("div",{tabIndex:d?0:-1,onFocus:S,ref:m,"data-testid":"sentinelEnd"})]})};function TS(e){return(0,Qw.Z)("MuiModal",e)}(0,Rw.Z)("MuiModal",["root","hidden"]);var IS=function(e){return"string"===typeof e};function NS(e,t,n){return void 0===e||IS(e)?t:(0,hw.Z)({},t,{ownerState:(0,hw.Z)({},t.ownerState,n)})}function PS(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function AS(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,o=e.className;if(!t){var a=(0,fw.Z)(null==i?void 0:i.className,null==r?void 0:r.className,o,null==n?void 0:n.className),s=(0,hw.Z)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),u=(0,hw.Z)({},n,i,r);return a.length>0&&(u.className=a),Object.keys(s).length>0&&(u.style=s),{props:u,internalRef:void 0}}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}((0,hw.Z)({},i,r)),l=PS(r),h=PS(i),f=t(c),d=(0,fw.Z)(null==f?void 0:f.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),p=(0,hw.Z)({},null==f?void 0:f.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),v=(0,hw.Z)({},f,n,h,l);return d.length>0&&(v.className=d),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:f.ref}}function RS(e,t){return"function"===typeof e?e(t):e}var OS=["elementType","externalSlotProps","ownerState"];function MS(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,o=(0,lw.Z)(e,OS),a=RS(r,i),s=AS((0,hw.Z)({},o,{externalSlotProps:a})),u=s.props,c=s.internalRef,l=(0,uS.Z)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return NS(n,(0,hw.Z)({},u,{ref:l}),i)}var DS=["children","classes","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"];var LS=new xS,jS=e.forwardRef((function(t,n){var r,o,a=t.children,s=t.classes,u=t.closeAfterTransition,c=void 0!==u&&u,l=t.component,h=t.container,f=t.disableAutoFocus,d=void 0!==f&&f,p=t.disableEnforceFocus,v=void 0!==p&&p,m=t.disableEscapeKeyDown,g=void 0!==m&&m,y=t.disablePortal,b=void 0!==y&&y,_=t.disableRestoreFocus,w=void 0!==_&&_,x=t.disableScrollLock,S=void 0!==x&&x,E=t.hideBackdrop,k=void 0!==E&&E,C=t.keepMounted,T=void 0!==C&&C,I=t.manager,N=void 0===I?LS:I,P=t.onBackdropClick,A=t.onClose,R=t.onKeyDown,O=t.open,M=t.onTransitionEnter,D=t.onTransitionExited,L=t.slotProps,j=void 0===L?{}:L,F=t.slots,U=void 0===F?{}:F,V=(0,lw.Z)(t,DS),B=e.useState(!O),z=(0,i.Z)(B,2),q=z[0],Z=z[1],H=e.useRef({}),W=e.useRef(null),K=e.useRef(null),G=(0,uS.Z)(K,n),$=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(t),Q=null==(r=t["aria-hidden"])||r,Y=function(){return H.current.modalRef=K.current,H.current.mountNode=W.current,H.current},X=function(){N.mount(Y(),{disableScrollLock:S}),K.current.scrollTop=0},J=(0,lS.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(h)||(0,cS.Z)(W.current).body;N.add(Y(),e),K.current&&X()})),ee=e.useCallback((function(){return N.isTopModal(Y())}),[N]),te=(0,lS.Z)((function(e){W.current=e,e&&(O&&ee()?X():gS(K.current,Q))})),ne=e.useCallback((function(){N.remove(Y(),Q)}),[N,Q]);e.useEffect((function(){return function(){ne()}}),[ne]),e.useEffect((function(){O?J():$&&c||ne()}),[O,ne,$,c,J]);var re=(0,hw.Z)({},t,{classes:s,closeAfterTransition:c,disableAutoFocus:d,disableEnforceFocus:v,disableEscapeKeyDown:g,disablePortal:b,disableRestoreFocus:w,disableScrollLock:S,exited:q,hideBackdrop:k,keepMounted:T}),ie=function(e){var t=e.open,n=e.exited,r=e.classes,i={root:["root",!t&&n&&"hidden"]};return(0,dw.Z)(i,TS,r)}(re),oe={};void 0===a.props.tabIndex&&(oe.tabIndex="-1"),$&&(oe.onEnter=(0,hS.Z)((function(){Z(!1),M&&M()}),a.props.onEnter),oe.onExited=(0,hS.Z)((function(){Z(!0),D&&D(),c&&ne()}),a.props.onExited));var ae=null!=(o=null!=l?l:U.root)?o:"div",se=MS({elementType:ae,externalSlotProps:j.root,externalForwardedProps:V,additionalProps:{ref:G,role:"presentation",onKeyDown:function(e){R&&R(e),"Escape"===e.key&&ee()&&(g||(e.stopPropagation(),A&&A(e,"escapeKeyDown")))}},className:ie.root,ownerState:re}),ue=U.backdrop,ce=MS({elementType:ue,externalSlotProps:j.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(P&&P(e),A&&A(e,"backdropClick"))},open:O},className:ie.backdrop,ownerState:re});return T||O||$&&!q?(0,Ze.jsx)(vS,{ref:te,container:h,disablePortal:b,children:(0,Ze.jsxs)(ae,(0,hw.Z)({},se,{children:[!k&&ue?(0,Ze.jsx)(ue,(0,hw.Z)({},ce)):null,(0,Ze.jsx)(CS,{disableEnforceFocus:v,disableAutoFocus:d,disableRestoreFocus:w,isEnabled:ee,open:O,children:e.cloneElement(a,oe)})]}))}):null})),FS=jS,US=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],VS={entering:{opacity:1},entered:{opacity:1}},BS=e.forwardRef((function(t,n){var r=Jx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=t.addEndListener,a=t.appear,s=void 0===a||a,u=t.children,c=t.easing,l=t.in,h=t.onEnter,f=t.onEntered,d=t.onEntering,p=t.onExit,v=t.onExited,m=t.onExiting,g=t.style,y=t.timeout,b=void 0===y?i:y,_=t.TransitionComponent,w=void 0===_?Qx:_,x=(0,lw.Z)(t,US),S=e.useRef(null),E=(0,mw.Z)(S,u.ref,n),k=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},C=k(d),T=k((function(e,t){eS(e);var n=tS({style:g,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),I=k(f),N=k(m),P=k((function(e){var t=tS({style:g,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),p&&p(e)})),A=k(v);return(0,Ze.jsx)(w,(0,hw.Z)({appear:s,in:l,nodeRef:S,onEnter:T,onEntered:I,onEntering:C,onExit:P,onExited:A,onExiting:N,addEndListener:function(e){o&&o(S.current,e)},timeout:b},x,{children:function(t,n){return e.cloneElement(u,(0,hw.Z)({style:(0,hw.Z)({opacity:0,visibility:"exited"!==t||l?void 0:"hidden"},VS[t],g,u.props.style),ref:E},n))}}))})),zS=BS;function qS(e){return(0,Qw.Z)("MuiBackdrop",e)}(0,Rw.Z)("MuiBackdrop",["root","invisible"]);var ZS=["children","component","components","componentsProps","className","invisible","open","slotProps","slots","transitionDuration","TransitionComponent"],HS=(0,pw.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,hw.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),WS=e.forwardRef((function(e,t){var n,r,i,o=(0,vw.Z)({props:e,name:"MuiBackdrop"}),a=o.children,s=o.component,u=void 0===s?"div":s,c=o.components,l=void 0===c?{}:c,h=o.componentsProps,f=void 0===h?{}:h,d=o.className,p=o.invisible,v=void 0!==p&&p,m=o.open,g=o.slotProps,y=void 0===g?{}:g,b=o.slots,_=void 0===b?{}:b,w=o.transitionDuration,x=o.TransitionComponent,S=void 0===x?zS:x,E=(0,lw.Z)(o,ZS),k=(0,hw.Z)({},o,{component:u,invisible:v}),C=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,dw.Z)(n,qS,t)}(k),T=null!=(n=y.root)?n:f.root;return(0,Ze.jsx)(S,(0,hw.Z)({in:m,timeout:w},E,{children:(0,Ze.jsx)(HS,(0,hw.Z)({"aria-hidden":!0},T,{as:null!=(r=null!=(i=_.root)?i:l.Root)?r:u,className:(0,fw.Z)(C.root,d,null==T?void 0:T.className),ownerState:(0,hw.Z)({},k,null==T?void 0:T.ownerState),classes:C,ref:t,children:a}))}))})),KS=WS,GS=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],$S=(0,pw.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,hw.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),QS=(0,pw.ZP)(KS,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),YS=e.forwardRef((function(t,n){var r,o,a,s,u,c,l=(0,vw.Z)({name:"MuiModal",props:t}),h=l.BackdropComponent,f=void 0===h?QS:h,d=l.BackdropProps,p=l.closeAfterTransition,v=void 0!==p&&p,m=l.children,g=l.component,y=l.components,b=void 0===y?{}:y,_=l.componentsProps,w=void 0===_?{}:_,x=l.disableAutoFocus,S=void 0!==x&&x,E=l.disableEnforceFocus,k=void 0!==E&&E,C=l.disableEscapeKeyDown,T=void 0!==C&&C,I=l.disablePortal,N=void 0!==I&&I,P=l.disableRestoreFocus,A=void 0!==P&&P,R=l.disableScrollLock,O=void 0!==R&&R,M=l.hideBackdrop,D=void 0!==M&&M,L=l.keepMounted,j=void 0!==L&&L,F=l.slotProps,U=l.slots,V=l.theme,B=(0,lw.Z)(l,GS),z=e.useState(!0),q=(0,i.Z)(z,2),Z=q[0],H=q[1],W={closeAfterTransition:v,disableAutoFocus:S,disableEnforceFocus:k,disableEscapeKeyDown:T,disablePortal:N,disableRestoreFocus:A,disableScrollLock:O,hideBackdrop:D,keepMounted:j},K=(0,hw.Z)({},l,W,{exited:Z}),G=function(e){return e.classes}(K),$=null!=(r=null!=(o=null==U?void 0:U.root)?o:b.Root)?r:$S,Q=null!=(a=null!=(s=null==U?void 0:U.backdrop)?s:b.Backdrop)?a:f,Y=null!=(u=null==F?void 0:F.root)?u:w.root,X=null!=(c=null==F?void 0:F.backdrop)?c:w.backdrop;return(0,Ze.jsx)(FS,(0,hw.Z)({slots:{root:$,backdrop:Q},slotProps:{root:function(){return(0,hw.Z)({},RS(Y,K),!IS($)&&{as:g,theme:V})},backdrop:function(){return(0,hw.Z)({},d,RS(X,K))}},onTransitionEnter:function(){return H(!1)},onTransitionExited:function(){return H(!0)},ref:n},B,{classes:G},W,{children:m}))})),XS=YS,JS=n(2065),eE=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function tE(e){return(0,Qw.Z)("MuiPaper",e)}(0,Rw.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var nE=["className","component","elevation","square","variant"],rE=(0,pw.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,hw.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&(0,hw.Z)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,JS.Fq)("#fff",eE(r.elevation)),", ").concat((0,JS.Fq)("#fff",eE(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),iE=e.forwardRef((function(e,t){var n=(0,vw.Z)({props:e,name:"MuiPaper"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=n.elevation,s=void 0===a?1:a,u=n.square,c=void 0!==u&&u,l=n.variant,h=void 0===l?"elevation":l,f=(0,lw.Z)(n,nE),d=(0,hw.Z)({},n,{component:o,elevation:s,square:c,variant:h}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,dw.Z)(o,tE,i)}(d);return(0,Ze.jsx)(rE,(0,hw.Z)({as:o,ownerState:d,className:(0,fw.Z)(p.root,r),ref:t},f))})),oE=iE;function aE(e){return(0,Qw.Z)("MuiPopover",e)}(0,Rw.Z)("MuiPopover",["root","paper"]);var sE=["onEntering"],uE=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function cE(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function lE(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function hE(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function fE(e){return"function"===typeof e?e():e}var dE=(0,pw.ZP)(XS,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),pE=(0,pw.ZP)(oE,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),vE=e.forwardRef((function(t,n){var r=(0,vw.Z)({props:t,name:"MuiPopover"}),o=r.action,a=r.anchorEl,s=r.anchorOrigin,u=void 0===s?{vertical:"top",horizontal:"left"}:s,c=r.anchorPosition,l=r.anchorReference,h=void 0===l?"anchorEl":l,f=r.children,d=r.className,p=r.container,v=r.elevation,m=void 0===v?8:v,g=r.marginThreshold,y=void 0===g?16:g,b=r.open,_=r.PaperProps,w=void 0===_?{}:_,x=r.transformOrigin,S=void 0===x?{vertical:"top",horizontal:"left"}:x,E=r.TransitionComponent,k=void 0===E?sS:E,C=r.transitionDuration,T=void 0===C?"auto":C,I=r.TransitionProps,N=(I=void 0===I?{}:I).onEntering,P=(0,lw.Z)(r.TransitionProps,sE),A=(0,lw.Z)(r,uE),R=e.useRef(),O=(0,mw.Z)(R,w.ref),M=(0,hw.Z)({},r,{anchorOrigin:u,anchorReference:h,elevation:m,marginThreshold:y,PaperProps:w,transformOrigin:S,TransitionComponent:k,transitionDuration:T,TransitionProps:P}),D=function(e){var t=e.classes;return(0,dw.Z)({root:["root"],paper:["paper"]},aE,t)}(M),L=e.useCallback((function(){if("anchorPosition"===h)return c;var e=fE(a),t=(e&&1===e.nodeType?e:(0,Vx.Z)(R.current).body).getBoundingClientRect();return{top:t.top+cE(t,u.vertical),left:t.left+lE(t,u.horizontal)}}),[a,u.horizontal,u.vertical,c,h]),j=e.useCallback((function(e){return{vertical:cE(e,S.vertical),horizontal:lE(e,S.horizontal)}}),[S.horizontal,S.vertical]),F=e.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=j(t);if("none"===h)return{top:null,left:null,transformOrigin:hE(n)};var r=L(),i=r.top-n.vertical,o=r.left-n.horizontal,s=i+t.height,u=o+t.width,c=(0,Bx.Z)(fE(a)),l=c.innerHeight-y,f=c.innerWidth-y;if(i<y){var d=i-y;i-=d,n.vertical+=d}else if(s>l){var p=s-l;i-=p,n.vertical+=p}if(o<y){var v=o-y;o-=v,n.horizontal+=v}else if(u>f){var m=u-f;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:hE(n)}}),[a,h,L,j,y]),U=e.useState(b),V=(0,i.Z)(U,2),B=V[0],z=V[1],q=e.useCallback((function(){var e=R.current;if(e){var t=F(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,z(!0)}}),[F]);e.useEffect((function(){b&&q()})),e.useImperativeHandle(o,(function(){return b?{updatePosition:function(){q()}}:null}),[b,q]),e.useEffect((function(){if(b){var e=(0,Ux.Z)((function(){q()})),t=(0,Bx.Z)(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,b,q]);var Z=T;"auto"!==T||k.muiSupportAuto||(Z=void 0);var H=p||(a?(0,Vx.Z)(fE(a)).body:void 0);return(0,Ze.jsx)(dE,(0,hw.Z)({BackdropProps:{invisible:!0},className:(0,fw.Z)(D.root,d),container:H,open:b,ref:n,ownerState:M},A,{children:(0,Ze.jsx)(k,(0,hw.Z)({appear:!0,in:b,onEntering:function(e,t){N&&N(e,t),q()},onExited:function(){z(!1)},timeout:Z},P,{children:(0,Ze.jsx)(pE,(0,hw.Z)({elevation:m},w,{ref:O,className:(0,fw.Z)(D.paper,w.className)},B?void 0:{style:(0,hw.Z)({},w.style,{opacity:0})},{ownerState:M,children:f}))}))}))})),mE=vE,gE=n(2482),yE=n.n(gE),bE=n(1131),_E=n(2885),wE=n(5860),xE=(0,e.forwardRef)((function(t,n){var r=t.year,o=t.brand,a=t.model,s=t.price,u=t.odometer,c=t.tireSize,l=t.vin,h=t.acceleration,f=t.topSpeed,d=t.mpg,p=t.activeGrid,v=t.carId,m=t.windowSize,g=t.singleResult,y=(0,e.useState)(!1),b=(0,i.Z)(y,2),_=b[0],w=b[1],x=e.useState(null),S=(0,i.Z)(x,2),E=S[0],k=S[1],C=(0,e.useState)(!1),T=(0,i.Z)(C,2),I=T[0],N=T[1],P=o.split(" ").length,A=.0058,R=(s-5e3)*(A*Math.pow(1.0058,48))/(Math.pow(1.0058,48)-1),O=function(){k(null),N(!1)};return(0,Ze.jsxs)("div",{ref:n,style:{height:g?"fit-content":"auto"},onClick:function(){return w(!_)},className:"carInventory ".concat(!p&&"carInventory_listView"," ").concat(!p&&!_&&m>=990&&"carInventory_listView-desktop"),children:[!p&&!_&&m>=990&&(0,Ze.jsx)("div",{className:"carInventory_img-side",children:(0,Ze.jsx)("img",{src:"https://raw.githubusercontent.com/kevincastrochavez/carstro-cars-uploader/main/public/carPictures/".concat(l,".png"),alt:"".concat(r," ").concat(o," ").concat(a," car")})}),(0,Ze.jsxs)("section",{className:"carInventory_top",children:[(0,Ze.jsxs)("h4",{children:[r," ",o," ",P<2&&a]}),(0,Ze.jsx)("span",{className:"carInventory_top-right",children:(0,Ze.jsx)(yE(),{value:s,displayType:"text",thousandSeparator:!0,prefix:"$"})}),(0,Ze.jsxs)("p",{children:[(0,Ze.jsx)(yE(),{value:u,displayType:"text",thousandSeparator:!0})," ","mile odometer"]}),(0,Ze.jsxs)("p",{className:"carInventory_top-right",children:[(0,Ze.jsx)(yE(),{value:R.toFixed(0),displayType:"text",thousandSeparator:!0,prefix:"$"}),"/mo",(0,Ze.jsx)(wE.Z,{onMouseEnter:function(e){k(e.currentTarget),N(!0)},onMouseLeave:O}),(0,Ze.jsx)(mE,{className:"carInventory_popover",id:"mouse-over-popover",sx:{pointerEvents:"none"},open:I,anchorEl:E,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:O,disableRestoreFocus:!0,children:"Calculated based on $5,000 down payment, excellent credit score, and 48 months"})]}),(0,Ze.jsxs)("p",{children:[c,'" wheels']}),!p&&m>=990&&(0,Ze.jsxs)("p",{className:"carInventory_top-range",children:[d.split("/")[1]," mpg range"]}),!p&&m>=990&&(0,Ze.jsxs)("p",{className:"carInventory_top-speed",children:[f," mph"]})]}),!_&&!p&&m>=990?null:(0,Ze.jsx)("div",{className:"carInventory_img",children:(0,Ze.jsx)("img",{src:"https://raw.githubusercontent.com/kevincastrochavez/carstro-cars-uploader/main/public/carPictures/".concat(l,".png"),alt:"".concat(r," ").concat(o," ").concat(a," car")})}),(p||_)&&(0,Ze.jsxs)("div",{className:"carInventory_bottomContainer",children:[(0,Ze.jsxs)("div",{className:"carInventory_features",children:[(0,Ze.jsxs)("div",{className:"carInventory_features-feature",children:[(0,Ze.jsxs)("p",{children:[(0,Ze.jsx)("b",{children:h}),"s"]}),(0,Ze.jsx)("span",{children:"0-60mph"})]}),(0,Ze.jsx)("div",{className:"carInventory_features-divider"}),(0,Ze.jsxs)("div",{className:"carInventory_features-feature",children:[(0,Ze.jsxs)("p",{children:[(0,Ze.jsx)("b",{children:f}),"mph"]}),(0,Ze.jsx)("span",{children:"Top Speed"})]}),(0,Ze.jsx)("div",{className:"carInventory_features-divider"}),(0,Ze.jsxs)("div",{className:"carInventory_features-feature",children:[(0,Ze.jsxs)("p",{children:[(0,Ze.jsx)("b",{children:d.split("/")[1]}),"mpg"]}),(0,Ze.jsx)("span",{children:"Range"})]})]}),(0,Ze.jsx)(Fe,{to:v,className:"carInventory_link",children:(0,Ze.jsx)(Fx,{text:"View Details",bgColor:"green"})})]}),!_&&!p&&(0,Ze.jsxs)("div",{className:"carInventory_expand",children:[(0,Ze.jsx)(bE.Z,{}),(0,Ze.jsx)("p",{children:"Show Details"})]}),_&&!p&&(0,Ze.jsxs)("div",{className:"carInventory_close",children:[(0,Ze.jsx)(_E.Z,{}),(0,Ze.jsx)("p",{children:"Close Details"})]})]})})),SE=xE,EE=n(9823);function kE(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function CE(e){return e instanceof kE(e).Element||e instanceof Element}function TE(e){return e instanceof kE(e).HTMLElement||e instanceof HTMLElement}function IE(e){return"undefined"!==typeof ShadowRoot&&(e instanceof kE(e).ShadowRoot||e instanceof ShadowRoot)}var NE=Math.max,PE=Math.min,AE=Math.round;function RE(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function OE(){return!/^((?!chrome|android).)*safari/i.test(RE())}function ME(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&TE(e)&&(i=e.offsetWidth>0&&AE(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&AE(r.height)/e.offsetHeight||1);var a=(CE(e)?kE(e):window).visualViewport,s=!OE()&&n,u=(r.left+(s&&a?a.offsetLeft:0))/i,c=(r.top+(s&&a?a.offsetTop:0))/o,l=r.width/i,h=r.height/o;return{width:l,height:h,top:c,right:u+l,bottom:c+h,left:u,x:u,y:c}}function DE(e){var t=kE(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function LE(e){return e?(e.nodeName||"").toLowerCase():null}function jE(e){return((CE(e)?e.ownerDocument:e.document)||window.document).documentElement}function FE(e){return ME(jE(e)).left+DE(e).scrollLeft}function UE(e){return kE(e).getComputedStyle(e)}function VE(e){var t=UE(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function BE(e,t,n){void 0===n&&(n=!1);var r=TE(t),i=TE(t)&&function(e){var t=e.getBoundingClientRect(),n=AE(t.width)/e.offsetWidth||1,r=AE(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=jE(t),a=ME(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==LE(t)||VE(o))&&(s=function(e){return e!==kE(e)&&TE(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:DE(e);var t}(t)),TE(t)?((u=ME(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=FE(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function zE(e){var t=ME(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function qE(e){return"html"===LE(e)?e:e.assignedSlot||e.parentNode||(IE(e)?e.host:null)||jE(e)}function ZE(e){return["html","body","#document"].indexOf(LE(e))>=0?e.ownerDocument.body:TE(e)&&VE(e)?e:ZE(qE(e))}function HE(e,t){var n;void 0===t&&(t=[]);var r=ZE(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=kE(r),a=i?[o].concat(o.visualViewport||[],VE(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(HE(qE(a)))}function WE(e){return["table","td","th"].indexOf(LE(e))>=0}function KE(e){return TE(e)&&"fixed"!==UE(e).position?e.offsetParent:null}function GE(e){for(var t=kE(e),n=KE(e);n&&WE(n)&&"static"===UE(n).position;)n=KE(n);return n&&("html"===LE(n)||"body"===LE(n)&&"static"===UE(n).position)?t:n||function(e){var t=/firefox/i.test(RE());if(/Trident/i.test(RE())&&TE(e)&&"fixed"===UE(e).position)return null;var n=qE(e);for(IE(n)&&(n=n.host);TE(n)&&["html","body"].indexOf(LE(n))<0;){var r=UE(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var $E="top",QE="bottom",YE="right",XE="left",JE="auto",ek=[$E,QE,YE,XE],tk="start",nk="end",rk="viewport",ik="popper",ok=ek.reduce((function(e,t){return e.concat([t+"-"+tk,t+"-"+nk])}),[]),ak=[].concat(ek,[JE]).reduce((function(e,t){return e.concat([t,t+"-"+tk,t+"-"+nk])}),[]),sk=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function uk(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ck(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var lk={placement:"bottom",modifiers:[],strategy:"absolute"};function hk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function fk(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?lk:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},lk,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:CE(e)?HE(e):e.contextElement?HE(e.contextElement):[],popper:HE(t)};var l=function(e){var t=uk(e);return sk.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:u,options:r}),c=function(){};a.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(hk(t,n)){i.rects={reference:BE(t,GE(n),"fixed"===i.options.strategy),popper:zE(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,l=void 0===c?{}:c,h=o.name;"function"===typeof a&&(i=a({state:i,options:l,name:h,instance:u})||i)}else i.reset=!1,r=-1}}},update:ck((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!hk(e,t))return u;function c(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var dk={passive:!0};var pk={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=kE(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,dk)})),s&&u.addEventListener("resize",n.update,dk),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,dk)})),s&&u.removeEventListener("resize",n.update,dk)}},data:{}};function vk(e){return e.split("-")[0]}function mk(e){return e.split("-")[1]}function gk(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function yk(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?vk(i):null,a=i?mk(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case $E:t={x:s,y:n.y-r.height};break;case QE:t={x:s,y:n.y+n.height};break;case YE:t={x:n.x+n.width,y:u};break;case XE:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=o?gk(o):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case tk:t[c]=t[c]-(n[l]/2-r[l]/2);break;case nk:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var bk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _k(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,h=e.isFixed,f=a.x,d=void 0===f?0:f,p=a.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=XE,_=$E,w=window;if(c){var x=GE(n),S="clientHeight",E="clientWidth";if(x===kE(n)&&"static"!==UE(x=jE(n)).position&&"absolute"===s&&(S="scrollHeight",E="scrollWidth"),i===$E||(i===XE||i===YE)&&o===nk)_=QE,v-=(h&&x===w&&w.visualViewport?w.visualViewport.height:x[S])-r.height,v*=u?1:-1;if(i===XE||(i===$E||i===QE)&&o===nk)b=YE,d-=(h&&x===w&&w.visualViewport?w.visualViewport.width:x[E])-r.width,d*=u?1:-1}var k,C=Object.assign({position:s},c&&bk),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:AE(t*r)/r||0,y:AE(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=T.x,v=T.y,u?Object.assign({},C,((k={})[_]=y?"0":"",k[b]=g?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",k)):Object.assign({},C,((t={})[_]=y?v+"px":"",t[b]=g?d+"px":"",t.transform="",t))}var wk={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];TE(i)&&LE(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});TE(r)&&LE(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var xk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=ak.reduce((function(e,n){return e[n]=function(e,t,n){var r=vk(e),i=[XE,$E].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[XE,YE].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},Sk={left:"right",right:"left",bottom:"top",top:"bottom"};function Ek(e){return e.replace(/left|right|bottom|top/g,(function(e){return Sk[e]}))}var kk={start:"end",end:"start"};function Ck(e){return e.replace(/start|end/g,(function(e){return kk[e]}))}function Tk(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&IE(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ik(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Nk(e,t,n){return t===rk?Ik(function(e,t){var n=kE(e),r=jE(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var c=OE();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+FE(e),y:u}}(e,n)):CE(t)?function(e,t){var n=ME(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ik(function(e){var t,n=jE(e),r=DE(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=NE(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=NE(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+FE(e),u=-r.scrollTop;return"rtl"===UE(i||n).direction&&(s+=NE(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(jE(e)))}function Pk(e,t,n,r){var i="clippingParents"===t?function(e){var t=HE(qE(e)),n=["absolute","fixed"].indexOf(UE(e).position)>=0&&TE(e)?GE(e):e;return CE(n)?t.filter((function(e){return CE(e)&&Tk(e,n)&&"body"!==LE(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=Nk(e,n,r);return t.top=NE(i.top,t.top),t.right=PE(i.right,t.right),t.bottom=PE(i.bottom,t.bottom),t.left=NE(i.left,t.left),t}),Nk(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Ak(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Rk(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Ok(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,u=void 0===s?"clippingParents":s,c=n.rootBoundary,l=void 0===c?rk:c,h=n.elementContext,f=void 0===h?ik:h,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,g=Ak("number"!==typeof m?m:Rk(m,ek)),y=f===ik?"reference":ik,b=e.rects.popper,_=e.elements[p?y:f],w=Pk(CE(_)?_:_.contextElement||jE(e.elements.popper),u,l,a),x=ME(e.elements.reference),S=yk({reference:x,element:b,strategy:"absolute",placement:i}),E=Ik(Object.assign({},b,S)),k=f===ik?E:x,C={top:w.top-k.top+g.top,bottom:k.bottom-w.bottom+g.bottom,left:w.left-k.left+g.left,right:k.right-w.right+g.right},T=e.modifiersData.offset;if(f===ik&&T){var I=T[i];Object.keys(C).forEach((function(e){var t=[YE,QE].indexOf(e)>=0?1:-1,n=[$E,QE].indexOf(e)>=0?"y":"x";C[e]+=I[n]*t}))}return C}var Mk={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=vk(m),y=u||(g===m||!p?[Ek(m)]:function(e){if(vk(e)===JE)return[];var t=Ek(e);return[Ck(e),t,Ck(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(vk(n)===JE?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?ak:u,l=mk(r),h=l?s?ok:ok.filter((function(e){return mk(e)===l})):ek,f=h.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=h);var d=f.reduce((function(t,n){return t[n]=Ok(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[vk(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:h,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),_=t.rects.reference,w=t.rects.popper,x=new Map,S=!0,E=b[0],k=0;k<b.length;k++){var C=b[k],T=vk(C),I=mk(C)===tk,N=[$E,QE].indexOf(T)>=0,P=N?"width":"height",A=Ok(t,{placement:C,boundary:l,rootBoundary:h,altBoundary:f,padding:c}),R=N?I?YE:XE:I?QE:$E;_[P]>w[P]&&(R=Ek(R));var O=Ek(R),M=[];if(o&&M.push(A[T]<=0),s&&M.push(A[R]<=0,A[O]<=0),M.every((function(e){return e}))){E=C,S=!1;break}x.set(C,M)}if(S)for(var D=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},L=p?3:1;L>0;L--){if("break"===D(L))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Dk(e,t,n){return NE(e,PE(t,n))}var Lk={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,h=n.padding,f=n.tether,d=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,m=Ok(t,{boundary:u,rootBoundary:c,padding:h,altBoundary:l}),g=vk(t.placement),y=mk(t.placement),b=!y,_=gk(g),w="x"===_?"y":"x",x=t.modifiersData.popperOffsets,S=t.rects.reference,E=t.rects.popper,k="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,C="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(x){if(o){var N,P="y"===_?$E:XE,A="y"===_?QE:YE,R="y"===_?"height":"width",O=x[_],M=O+m[P],D=O-m[A],L=d?-E[R]/2:0,j=y===tk?S[R]:E[R],F=y===tk?-E[R]:-S[R],U=t.elements.arrow,V=d&&U?zE(U):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[P],q=B[A],Z=Dk(0,S[R],V[R]),H=b?S[R]/2-L-Z-z-C.mainAxis:j-Z-z-C.mainAxis,W=b?-S[R]/2+L+Z+q+C.mainAxis:F+Z+q+C.mainAxis,K=t.elements.arrow&&GE(t.elements.arrow),G=K?"y"===_?K.clientTop||0:K.clientLeft||0:0,$=null!=(N=null==T?void 0:T[_])?N:0,Q=O+W-$,Y=Dk(d?PE(M,O+H-$-G):M,O,d?NE(D,Q):D);x[_]=Y,I[_]=Y-O}if(s){var X,J="x"===_?$E:XE,ee="x"===_?QE:YE,te=x[w],ne="y"===w?"height":"width",re=te+m[J],ie=te-m[ee],oe=-1!==[$E,XE].indexOf(g),ae=null!=(X=null==T?void 0:T[w])?X:0,se=oe?re:te-S[ne]-E[ne]-ae+C.altAxis,ue=oe?te+S[ne]+E[ne]-ae-C.altAxis:ie,ce=d&&oe?function(e,t,n){var r=Dk(e,t,n);return r>n?n:r}(se,te,ue):Dk(d?se:re,te,d?ue:ie);x[w]=ce,I[w]=ce-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};var jk={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=vk(n.placement),u=gk(s),c=[XE,YE].indexOf(s)>=0?"height":"width";if(o&&a){var l=function(e,t){return Ak("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Rk(e,ek))}(i.padding,n),h=zE(o),f="y"===u?$E:XE,d="y"===u?QE:YE,p=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],v=a[u]-n.rects.reference[u],m=GE(o),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=l[f],_=g-h[c]-l[d],w=g/2-h[c]/2+y,x=Dk(b,w,_),S=u;n.modifiersData[r]=((t={})[S]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Tk(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fk(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Uk(e){return[$E,YE,QE,XE].some((function(t){return e[t]>=0}))}var Vk=fk({defaultModifiers:[pk,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=yk({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,c={placement:vk(t.placement),variation:mk(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,_k(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,_k(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},wk,xk,Mk,Lk,jk,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Ok(t,{elementContext:"reference"}),s=Ok(t,{altBoundary:!0}),u=Fk(a,r),c=Fk(s,i,o),l=Uk(u),h=Uk(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":h})}}]});function Bk(e){return(0,Qw.Z)("MuiPopperUnstyled",e)}(0,Rw.Z)("MuiPopperUnstyled",["root"]);var zk=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],qk=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Zk(e){return"function"===typeof e?e():e}var Hk={},Wk=e.forwardRef((function(t,n){var r,o=t.anchorEl,a=t.children,s=t.component,u=t.direction,c=t.disablePortal,l=t.modifiers,h=t.open,f=t.ownerState,d=t.placement,p=t.popperOptions,v=t.popperRef,m=t.slotProps,g=void 0===m?{}:m,y=t.slots,b=void 0===y?{}:y,_=t.TransitionProps,w=(0,lw.Z)(t,zk),x=e.useRef(null),S=(0,uS.Z)(x,n),E=e.useRef(null),k=(0,uS.Z)(E,v),C=e.useRef(k);(0,fS.Z)((function(){C.current=k}),[k]),e.useImperativeHandle(v,(function(){return E.current}),[]);var T=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(d,u),I=e.useState(T),N=(0,i.Z)(I,2),P=N[0],A=N[1],R=e.useState(o),O=(0,i.Z)(R,2),M=O[0],D=O[1];e.useEffect((function(){E.current&&E.current.forceUpdate()})),e.useEffect((function(){o&&D(o)}),[o]),(0,fS.Z)((function(){if(M&&h){Zk(M);var e=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;A(t.placement)}}];null!=l&&(e=e.concat(l)),p&&null!=p.modifiers&&(e=e.concat(p.modifiers));var t=Vk(Zk(M),x.current,(0,hw.Z)({placement:T},p,{modifiers:e}));return C.current(t),function(){t.destroy(),C.current(null)}}}),[M,c,l,h,p,T]);var L={placement:P};null!==_&&(L.TransitionProps=_);var j=(0,dw.Z)({root:["root"]},Bk,{}),F=null!=(r=null!=s?s:b.root)?r:"div",U=MS({elementType:F,externalSlotProps:g.root,externalForwardedProps:w,additionalProps:{role:"tooltip",ref:S},ownerState:(0,hw.Z)({},t,f),className:j.root});return(0,Ze.jsx)(F,(0,hw.Z)({},U,{children:"function"===typeof a?a(L):a}))})),Kk=e.forwardRef((function(t,n){var r=t.anchorEl,o=t.children,a=t.container,s=t.direction,u=void 0===s?"ltr":s,c=t.disablePortal,l=void 0!==c&&c,h=t.keepMounted,f=void 0!==h&&h,d=t.modifiers,p=t.open,v=t.placement,m=void 0===v?"bottom":v,g=t.popperOptions,y=void 0===g?Hk:g,b=t.popperRef,_=t.style,w=t.transition,x=void 0!==w&&w,S=(0,lw.Z)(t,qk),E=e.useState(!0),k=(0,i.Z)(E,2),C=k[0],T=k[1];if(!f&&!p&&(!x||C))return null;var I=a||(r?(0,cS.Z)(Zk(r)).body:void 0);return(0,Ze.jsx)(vS,{disablePortal:l,container:I,children:(0,Ze.jsx)(Wk,(0,hw.Z)({anchorEl:r,direction:u,disablePortal:l,modifiers:d,ref:n,open:x?!C:p,placement:m,popperOptions:y,popperRef:b},S,{style:(0,hw.Z)({position:"fixed",top:0,left:0,display:p||!f||x&&!C?null:"none"},_),TransitionProps:x?{in:p,onEnter:function(){T(!1)},onExited:function(){T(!0)}}:null,children:o}))})})),Gk=Kk,$k=n(7301),Qk=["components","componentsProps","slots","slotProps"],Yk=(0,pw.ZP)(Gk,{name:"MuiPopper",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Xk=e.forwardRef((function(e,t){var n,r=(0,$k.Z)(),i=(0,vw.Z)({props:e,name:"MuiPopper"}),o=i.components,a=i.componentsProps,s=i.slots,u=i.slotProps,c=(0,lw.Z)(i,Qk),l=null!=(n=null==s?void 0:s.root)?n:null==o?void 0:o.Root;return(0,Ze.jsx)(Yk,(0,hw.Z)({direction:null==r?void 0:r.direction,slots:{root:l},slotProps:null!=u?u:a},c,{ref:t}))})),Jk=Xk,eC=n(5836),tC=n(8278);function nC(e){return(0,Qw.Z)("MuiTooltip",e)}var rC=(0,Rw.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),iC=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];var oC=(0,pw.ZP)(Jk,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((function(e){var t,n=e.theme,r=e.ownerState,i=e.open;return(0,hw.Z)({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!i&&{pointerEvents:"none"},r.arrow&&(t={},(0,Xe.Z)(t,'&[data-popper-placement*="bottom"] .'.concat(rC.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),(0,Xe.Z)(t,'&[data-popper-placement*="top"] .'.concat(rC.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),(0,Xe.Z)(t,'&[data-popper-placement*="right"] .'.concat(rC.arrow),(0,hw.Z)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),(0,Xe.Z)(t,'&[data-popper-placement*="left"] .'.concat(rC.arrow),(0,hw.Z)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))})),aC=(0,pw.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,ix.Z)(n.placement.split("-")[0]))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return(0,hw.Z)({backgroundColor:r.vars?r.vars.palette.Tooltip.bg:(0,JS.Fq)(r.palette.grey[700],.92),borderRadius:(r.vars||r).shape.borderRadius,color:(r.vars||r).palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium},i.arrow&&{position:"relative",margin:0},i.touch&&{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:r.typography.fontWeightRegular},(t={},(0,Xe.Z)(t,".".concat(rC.popper,'[data-popper-placement*="left"] &'),(0,hw.Z)({transformOrigin:"right center"},i.isRtl?(0,hw.Z)({marginLeft:"14px"},i.touch&&{marginLeft:"24px"}):(0,hw.Z)({marginRight:"14px"},i.touch&&{marginRight:"24px"}))),(0,Xe.Z)(t,".".concat(rC.popper,'[data-popper-placement*="right"] &'),(0,hw.Z)({transformOrigin:"left center"},i.isRtl?(0,hw.Z)({marginRight:"14px"},i.touch&&{marginRight:"24px"}):(0,hw.Z)({marginLeft:"14px"},i.touch&&{marginLeft:"24px"}))),(0,Xe.Z)(t,".".concat(rC.popper,'[data-popper-placement*="top"] &'),(0,hw.Z)({transformOrigin:"center bottom",marginBottom:"14px"},i.touch&&{marginBottom:"24px"})),(0,Xe.Z)(t,".".concat(rC.popper,'[data-popper-placement*="bottom"] &'),(0,hw.Z)({transformOrigin:"center top",marginTop:"14px"},i.touch&&{marginTop:"24px"})),t))})),sC=(0,pw.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,JS.Fq)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),uC=!1,cC=null;function lC(e,t){return function(n){t&&t(n),e(n)}}var hC=e.forwardRef((function(t,n){var r,o,a,s,u,c,l,h,f,d,p,v,m,g,y,b,_,w,x,S=(0,vw.Z)({props:t,name:"MuiTooltip"}),E=S.arrow,k=void 0!==E&&E,C=S.children,T=S.components,I=void 0===T?{}:T,N=S.componentsProps,P=void 0===N?{}:N,A=S.describeChild,R=void 0!==A&&A,O=S.disableFocusListener,M=void 0!==O&&O,D=S.disableHoverListener,L=void 0!==D&&D,j=S.disableInteractive,F=void 0!==j&&j,U=S.disableTouchListener,V=void 0!==U&&U,B=S.enterDelay,z=void 0===B?100:B,q=S.enterNextDelay,Z=void 0===q?0:q,H=S.enterTouchDelay,W=void 0===H?700:H,K=S.followCursor,G=void 0!==K&&K,$=S.id,Q=S.leaveDelay,Y=void 0===Q?0:Q,X=S.leaveTouchDelay,J=void 0===X?1500:X,ee=S.onClose,te=S.onOpen,ne=S.open,re=S.placement,ie=void 0===re?"bottom":re,oe=S.PopperComponent,ae=S.PopperProps,se=void 0===ae?{}:ae,ue=S.slotProps,ce=void 0===ue?{}:ue,le=S.slots,he=void 0===le?{}:le,fe=S.title,de=S.TransitionComponent,pe=void 0===de?sS:de,ve=S.TransitionProps,me=(0,lw.Z)(S,iC),ge=Jx(),ye="rtl"===ge.direction,be=e.useState(),_e=(0,i.Z)(be,2),we=_e[0],xe=_e[1],Se=e.useState(null),Ee=(0,i.Z)(Se,2),ke=Ee[0],Ce=Ee[1],Te=e.useRef(!1),Ie=F||G,Ne=e.useRef(),Pe=e.useRef(),Ae=e.useRef(),Re=e.useRef(),Oe=(0,tC.Z)({controlled:ne,default:!1,name:"Tooltip",state:"open"}),Me=(0,i.Z)(Oe,2),De=Me[0],Le=Me[1],je=De,Fe=(0,eC.Z)($),Ue=e.useRef(),Ve=e.useCallback((function(){void 0!==Ue.current&&(document.body.style.WebkitUserSelect=Ue.current,Ue.current=void 0),clearTimeout(Re.current)}),[]);e.useEffect((function(){return function(){clearTimeout(Ne.current),clearTimeout(Pe.current),clearTimeout(Ae.current),Ve()}}),[Ve]);var Be=function(e){clearTimeout(cC),uC=!0,Le(!0),te&&!je&&te(e)},ze=(0,gw.Z)((function(e){clearTimeout(cC),cC=setTimeout((function(){uC=!1}),800+Y),Le(!1),ee&&je&&ee(e),clearTimeout(Ne.current),Ne.current=setTimeout((function(){Te.current=!1}),ge.transitions.duration.shortest)})),qe=function(e){Te.current&&"touchstart"!==e.type||(we&&we.removeAttribute("title"),clearTimeout(Pe.current),clearTimeout(Ae.current),z||uC&&Z?Pe.current=setTimeout((function(){Be(e)}),uC?Z:z):Be(e))},He=function(e){clearTimeout(Pe.current),clearTimeout(Ae.current),Ae.current=setTimeout((function(){ze(e)}),Y)},We=(0,yw.Z)(),Ke=We.isFocusVisibleRef,Ge=We.onBlur,$e=We.onFocus,Qe=We.ref,Ye=e.useState(!1),Xe=(0,i.Z)(Ye,2)[1],Je=function(e){Ge(e),!1===Ke.current&&(Xe(!1),He(e))},et=function(e){we||xe(e.currentTarget),$e(e),!0===Ke.current&&(Xe(!0),qe(e))},tt=function(e){Te.current=!0;var t=C.props;t.onTouchStart&&t.onTouchStart(e)},nt=qe,rt=He;e.useEffect((function(){if(je)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ze(e)}}),[ze,je]);var it=(0,mw.Z)(C.ref,Qe,xe,n);fe||0===fe||(je=!1);var ot=e.useRef({x:0,y:0}),at=e.useRef(),st={},ut="string"===typeof fe;R?(st.title=je||!ut||L?null:fe,st["aria-describedby"]=je?Fe:null):(st["aria-label"]=ut?fe:null,st["aria-labelledby"]=je&&!ut?Fe:null);var ct=(0,hw.Z)({},st,me,C.props,{className:(0,fw.Z)(me.className,C.props.className),onTouchStart:tt,ref:it},G?{onMouseMove:function(e){var t=C.props;t.onMouseMove&&t.onMouseMove(e),ot.current={x:e.clientX,y:e.clientY},at.current&&at.current.update()}}:{});var lt={};V||(ct.onTouchStart=function(e){tt(e),clearTimeout(Ae.current),clearTimeout(Ne.current),Ve(),Ue.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Re.current=setTimeout((function(){document.body.style.WebkitUserSelect=Ue.current,qe(e)}),W)},ct.onTouchEnd=function(e){C.props.onTouchEnd&&C.props.onTouchEnd(e),Ve(),clearTimeout(Ae.current),Ae.current=setTimeout((function(){ze(e)}),J)}),L||(ct.onMouseOver=lC(nt,ct.onMouseOver),ct.onMouseLeave=lC(rt,ct.onMouseLeave),Ie||(lt.onMouseOver=nt,lt.onMouseLeave=rt)),M||(ct.onFocus=lC(et,ct.onFocus),ct.onBlur=lC(Je,ct.onBlur),Ie||(lt.onFocus=et,lt.onBlur=Je));var ht=e.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(ke),options:{element:ke,padding:4}}];return null!=(e=se.popperOptions)&&e.modifiers&&(t=t.concat(se.popperOptions.modifiers)),(0,hw.Z)({},se.popperOptions,{modifiers:t})}),[ke,se]),ft=(0,hw.Z)({},S,{isRtl:ye,arrow:k,disableInteractive:Ie,placement:ie,PopperComponentProp:oe,touch:Te.current}),dt=function(e){var t=e.classes,n=e.disableInteractive,r=e.arrow,i=e.touch,o=e.placement,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat((0,ix.Z)(o.split("-")[0]))],arrow:["arrow"]};return(0,dw.Z)(a,nC,t)}(ft),pt=null!=(r=null!=(o=he.popper)?o:I.Popper)?r:oC,vt=null!=(a=null!=(s=null!=(u=he.transition)?u:I.Transition)?s:pe)?a:sS,mt=null!=(c=null!=(l=he.tooltip)?l:I.Tooltip)?c:aC,gt=null!=(h=null!=(f=he.arrow)?f:I.Arrow)?h:sC,yt=NS(pt,(0,hw.Z)({},se,null!=(d=ce.popper)?d:P.popper,{className:(0,fw.Z)(dt.popper,null==se?void 0:se.className,null==(p=null!=(v=ce.popper)?v:P.popper)?void 0:p.className)}),ft),bt=NS(vt,(0,hw.Z)({},ve,null!=(m=ce.transition)?m:P.transition),ft),_t=NS(mt,(0,hw.Z)({},null!=(g=ce.tooltip)?g:P.tooltip,{className:(0,fw.Z)(dt.tooltip,null==(y=null!=(b=ce.tooltip)?b:P.tooltip)?void 0:y.className)}),ft),wt=NS(gt,(0,hw.Z)({},null!=(_=ce.arrow)?_:P.arrow,{className:(0,fw.Z)(dt.arrow,null==(w=null!=(x=ce.arrow)?x:P.arrow)?void 0:w.className)}),ft);return(0,Ze.jsxs)(e.Fragment,{children:[e.cloneElement(C,ct),(0,Ze.jsx)(pt,(0,hw.Z)({as:null!=oe?oe:Jk,placement:ie,anchorEl:G?{getBoundingClientRect:function(){return{top:ot.current.y,left:ot.current.x,right:ot.current.x,bottom:ot.current.y,width:0,height:0}}}:we,popperRef:at,open:!!we&&je,id:Fe,transition:!0},lt,yt,{popperOptions:ht,children:function(e){var t=e.TransitionProps;return(0,Ze.jsx)(vt,(0,hw.Z)({timeout:ge.transitions.duration.shorter},t,bt,{"data-foo":"bar",children:(0,Ze.jsxs)(mt,(0,hw.Z)({},_t,{children:[fe,k?(0,Ze.jsx)(gt,(0,hw.Z)({},wt,{ref:Ce})):null]}))}))}}))]})})),fC=hC;var dC=function(t){var n=t.option,r=t.colorsProp,o=t.text,a=Ke(),s=(0,i.Z)(a,1)[0].colors,u=(0,e.useState)(!1),c=(0,i.Z)(u,2),l=c[0],h=c[1];return(0,Ze.jsx)(fC,{title:n,placement:"top",arrow:!0,children:(0,Ze.jsx)("label",{className:"".concat(s.includes(n)&&"filterLabel_selected"," filterLabel"),onClick:function(){return r&&h(!l)},htmlFor:"".concat(n,"-car"),children:r?(0,Ze.jsx)("img",{className:"filterLabel_colorImg",src:"https://raw.githubusercontent.com/kevincastrochavez/carstro-cars-uploader/main/public/carColors/".concat(n.toLowerCase(),".png"),alt:"Color ".concat(n," for filtering by such")}):o})})};var pC=function(t){var n=t.id,r=t.name,o=t.value,a=t.clearAll,s=t.hidden,u=Ke(),c=(0,i.Z)(u,2),l=c[0].singleBrand,h=c[1],f=(0,e.useState)(!1),d=(0,i.Z)(f,2),p=d[0],v=d[1];return(0,e.useEffect)((function(){l&&l.includes(o)&&(v(!0),setTimeout((function(){h({type:"REMOVE_SINGLE_BRAND"})}),500)),p&&"brands"===r?h({type:"SET_BRAND_FILTER",brandsFilters:n}):p||"brands"!==r||h({type:"REMOVE_BRAND_FILTER",brandsFilters:n}),p&&"years"===r?h({type:"SET_MODEL_YEAR_FILTER",modelYearsFilters:n}):p||"years"!==r||h({type:"REMOVE_MODEL_YEAR_FILTER",modelYearsFilters:n}),p&&"wheels"===r?h({type:"SET_TIRE_SIZE_FILTER",tireSize:n}):p||"wheels"!==r||h({type:"REMOVE_TIRE_SIZE_FILTER",tireSize:n}),p&&"colors"===r?h({type:"SET_COLOR_FILTER",colors:n}):p||"colors"!==r||h({type:"REMOVE_COLOR_FILTER",colors:n})}),[p]),(0,e.useEffect)((function(){a&&v(!1)}),[a]),(0,Ze.jsx)("input",{type:"checkbox",id:"".concat(n,"-car"),name:r,value:o,checked:p,onClick:function(){v(!p)},hidden:s&&!0})};function vC(e){return(0,Qw.Z)("MuiSlider",e)}var mC=(0,Rw.Z)("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]);function gC(t){var n=t.children,r=t.className,i=t.value,o=function(e){var t=e.open;return{offset:(0,fw.Z)(t&&mC.valueLabelOpen),circle:mC.valueLabelCircle,label:mC.valueLabelLabel}}(t);return e.cloneElement(n,{className:(0,fw.Z)(n.props.className)},(0,Ze.jsxs)(e.Fragment,{children:[n.props.children,(0,Ze.jsx)("span",{className:(0,fw.Z)(o.offset,r),"aria-hidden":!0,children:(0,Ze.jsx)("span",{className:o.circle,children:(0,Ze.jsx)("span",{className:o.label,children:i})})})]}))}var yC=n(8959),bC=n(5372),_C={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function wC(e,t){return e-t}function xC(e,t,n){return null==e?t:Math.min(Math.max(t,e),n)}function SC(e,t){var n;return(null!=(n=e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null))?n:{}).index}function EC(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=e,r=0;r<n.changedTouches.length;r+=1){var i=n.changedTouches[r];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function kC(e,t,n){return 100*(e-t)/(n-t)}function CC(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function TC(e){var t=e.values,n=e.newValue,r=e.index,i=t.slice();return i[r]=n,i.sort(wC)}function IC(e){var t,n,r,i=e.sliderRef,o=e.activeIndex,a=e.setActive,s=(0,cS.Z)(i.current);null!=(t=i.current)&&t.contains(s.activeElement)&&Number(null==s||null==(n=s.activeElement)?void 0:n.getAttribute("data-index"))===o||(null==(r=i.current)||r.querySelector('[type="range"][data-index="'.concat(o,'"]')).focus());a&&a(o)}var NC,PC={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},AC=function(e){return e};function RC(){return void 0===NC&&(NC="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),NC}function OC(t){var n=t["aria-labelledby"],r=t.defaultValue,o=t.disabled,s=void 0!==o&&o,u=t.disableSwap,c=void 0!==u&&u,l=t.isRtl,h=void 0!==l&&l,f=t.marks,d=void 0!==f&&f,p=t.max,v=void 0===p?100:p,m=t.min,g=void 0===m?0:m,y=t.name,b=t.onChange,_=t.onChangeCommitted,w=t.orientation,x=void 0===w?"horizontal":w,S=t.ref,E=t.scale,k=void 0===E?AC:E,C=t.step,T=void 0===C?1:C,I=t.tabIndex,N=t.value,P=e.useRef(),A=e.useState(-1),R=(0,i.Z)(A,2),O=R[0],M=R[1],D=e.useState(-1),L=(0,i.Z)(D,2),j=L[0],F=L[1],U=e.useState(!1),V=(0,i.Z)(U,2),B=V[0],z=V[1],q=e.useRef(0),Z=(0,yC.Z)({controlled:N,default:null!=r?r:g,name:"Slider"}),H=(0,i.Z)(Z,2),W=H[0],K=H[1],G=b&&function(e,t,n){var r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:y}}),b(i,t,n)},$=Array.isArray(W),Q=$?W.slice().sort(wC):[W];Q=Q.map((function(e){return xC(e,g,v)}));var Y=!0===d&&null!==T?(0,a.Z)(Array(Math.floor((v-g)/T)+1)).map((function(e,t){return{value:g+T*t}})):d||[],X=Y.map((function(e){return e.value})),J=(0,bC.Z)(),ee=J.isFocusVisibleRef,te=J.onBlur,ne=J.onFocus,re=J.ref,ie=e.useState(-1),oe=(0,i.Z)(ie,2),ae=oe[0],se=oe[1],ue=e.useRef(),ce=(0,uS.Z)(re,ue),le=(0,uS.Z)(S,ce),he=function(e){return function(t){var n,r=Number(t.currentTarget.getAttribute("data-index"));ne(t),!0===ee.current&&se(r),F(r),null==e||null==(n=e.onFocus)||n.call(e,t)}},fe=function(e){return function(t){var n;te(t),!1===ee.current&&se(-1),F(-1),null==e||null==(n=e.onBlur)||n.call(e,t)}};(0,fS.Z)((function(){var e;s&&ue.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[s]),s&&-1!==O&&M(-1),s&&-1!==ae&&se(-1);var de=function(e){return function(t){var n;null==(n=e.onChange)||n.call(e,t);var r=Number(t.currentTarget.getAttribute("data-index")),i=Q[r],o=X.indexOf(i),a=t.target.valueAsNumber;if(Y&&null==T&&(a=a<i?X[o-1]:X[o+1]),a=xC(a,g,v),Y&&null==T){var s=X.indexOf(Q[r]);a=a<Q[r]?X[s-1]:X[s+1]}if($){c&&(a=xC(a,Q[r-1]||-1/0,Q[r+1]||1/0));var u=a;a=TC({values:Q,newValue:a,index:r});var l=r;c||(l=a.indexOf(u)),IC({sliderRef:ue,activeIndex:l})}K(a),se(r),G&&G(t,a,r),_&&_(t,a)}},pe=e.useRef(),ve=x;h&&"horizontal"===x&&(ve+="-reverse");var me=function(e){var t,n,r=e.finger,i=e.move,o=void 0!==i&&i,a=ue.current.getBoundingClientRect(),s=a.width,u=a.height,l=a.bottom,h=a.left;if(t=0===ve.indexOf("vertical")?(l-r.y)/u:(r.x-h)/s,-1!==ve.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,g,v),T)n=CC(n,T,g);else{var f=SC(X,n);n=X[f]}n=xC(n,g,v);var d=0;if($){d=o?pe.current:SC(Q,n),c&&(n=xC(n,Q[d-1]||-1/0,Q[d+1]||1/0));var p=n;n=TC({values:Q,newValue:n,index:d}),c&&o||(d=n.indexOf(p),pe.current=d)}return{newValue:n,activeIndex:d}},ge=(0,lS.Z)((function(e){var t=EC(e,P);if(t)if(q.current+=1,"mousemove"!==e.type||0!==e.buttons){var n=me({finger:t,move:!0}),r=n.newValue,i=n.activeIndex;IC({sliderRef:ue,activeIndex:i,setActive:M}),K(r),!B&&q.current>2&&z(!0),G&&r!==W&&G(e,r,i)}else ye(e)})),ye=(0,lS.Z)((function(e){var t=EC(e,P);if(z(!1),t){var n=me({finger:t,move:!0}).newValue;M(-1),"touchend"===e.type&&F(-1),_&&_(e,n),P.current=void 0,_e()}})),be=(0,lS.Z)((function(e){if(!s){RC()||e.preventDefault();var t=e.changedTouches[0];null!=t&&(P.current=t.identifier);var n=EC(e,P);if(!1!==n){var r=me({finger:n}),i=r.newValue,o=r.activeIndex;IC({sliderRef:ue,activeIndex:o,setActive:M}),K(i),G&&G(e,i,o)}q.current=0;var a=(0,cS.Z)(ue.current);a.addEventListener("touchmove",ge),a.addEventListener("touchend",ye)}})),_e=e.useCallback((function(){var e=(0,cS.Z)(ue.current);e.removeEventListener("mousemove",ge),e.removeEventListener("mouseup",ye),e.removeEventListener("touchmove",ge),e.removeEventListener("touchend",ye)}),[ye,ge]);e.useEffect((function(){var e=ue.current;return e.addEventListener("touchstart",be,{passive:RC()}),function(){e.removeEventListener("touchstart",be,{passive:RC()}),_e()}}),[_e,be]),e.useEffect((function(){s&&_e()}),[s,_e]);var we=function(e){return function(t){var n;if(null==(n=e.onMouseDown)||n.call(e,t),!s&&!t.defaultPrevented&&0===t.button){t.preventDefault();var r=EC(t,P);if(!1!==r){var i=me({finger:r}),o=i.newValue,a=i.activeIndex;IC({sliderRef:ue,activeIndex:a,setActive:M}),K(o),G&&G(t,o,a)}q.current=0;var u=(0,cS.Z)(ue.current);u.addEventListener("mousemove",ge),u.addEventListener("mouseup",ye)}}},xe=kC($?Q[0]:g,g,v),Se=kC(Q[Q.length-1],g,v)-xe,Ee=function(e){return function(t){var n;null==(n=e.onMouseOver)||n.call(e,t);var r=Number(t.currentTarget.getAttribute("data-index"));F(r)}},ke=function(e){return function(t){var n;null==(n=e.onMouseLeave)||n.call(e,t),F(-1)}};return{active:O,axis:ve,axisProps:PC,dragging:B,focusedThumbIndex:ae,getHiddenInputProps:function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={onChange:de(r||{}),onFocus:he(r||{}),onBlur:fe(r||{})},o=(0,hw.Z)({},r,i);return(0,hw.Z)({tabIndex:I,"aria-labelledby":n,"aria-orientation":x,"aria-valuemax":k(v),"aria-valuemin":k(g),name:y,type:"range",min:t.min,max:t.max,step:null!=(e=t.step)?e:void 0,disabled:s},o,{style:(0,hw.Z)({},_C,{direction:h?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={onMouseDown:we(e||{})},n=(0,hw.Z)({},e,t);return(0,hw.Z)({ref:le},n)},getThumbProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={onMouseOver:Ee(e||{}),onMouseLeave:ke(e||{})};return(0,hw.Z)({},e,t)},marks:Y,open:j,range:$,trackLeap:Se,trackOffset:xe,values:Q}}var MC=["aria-label","aria-valuetext","aria-labelledby","className","component","classes","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","slotProps","slots"],DC=function(e){return e},LC=function(e){return e.children},jC=e.forwardRef((function(t,n){var r,i,o,a,s,u,c,l=t["aria-label"],h=t["aria-valuetext"],f=t["aria-labelledby"],d=t.className,p=t.component,v=t.classes,m=t.disableSwap,g=void 0!==m&&m,y=t.disabled,b=void 0!==y&&y,_=t.getAriaLabel,w=t.getAriaValueText,x=t.marks,S=void 0!==x&&x,E=t.max,k=void 0===E?100:E,C=t.min,T=void 0===C?0:C,I=t.orientation,N=void 0===I?"horizontal":I,P=t.scale,A=void 0===P?DC:P,R=t.step,O=void 0===R?1:R,M=t.track,D=void 0===M?"normal":M,L=t.valueLabelDisplay,j=void 0===L?"off":L,F=t.valueLabelFormat,U=void 0===F?DC:F,V=t.isRtl,B=void 0!==V&&V,z=t.slotProps,q=void 0===z?{}:z,Z=t.slots,H=void 0===Z?{}:Z,W=(0,lw.Z)(t,MC),K=(0,hw.Z)({},t,{marks:S,classes:v,disabled:b,isRtl:B,max:k,min:T,orientation:N,scale:A,step:O,track:D,valueLabelDisplay:j,valueLabelFormat:U}),G=OC((0,hw.Z)({},K,{ref:n})),$=G.axisProps,Q=G.getRootProps,Y=G.getHiddenInputProps,X=G.getThumbProps,J=G.open,ee=G.active,te=G.axis,ne=G.range,re=G.focusedThumbIndex,ie=G.dragging,oe=G.marks,ae=G.values,se=G.trackOffset,ue=G.trackLeap;K.marked=oe.length>0&&oe.some((function(e){return e.label})),K.dragging=ie,K.focusedThumbIndex=re;var ce=function(e){var t=e.disabled,n=e.dragging,r=e.marked,i=e.orientation,o=e.track,a=e.classes,s={root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,dw.Z)(s,vC,a)}(K),le=null!=(r=null!=p?p:H.root)?r:"span",he=MS({elementType:le,getSlotProps:Q,externalSlotProps:q.root,externalForwardedProps:W,ownerState:K,className:[ce.root,d]}),fe=null!=(i=H.rail)?i:"span",de=MS({elementType:fe,externalSlotProps:q.rail,ownerState:K,className:ce.rail}),pe=null!=(o=H.track)?o:"span",ve=MS({elementType:pe,externalSlotProps:q.track,additionalProps:{style:(0,hw.Z)({},$[te].offset(se),$[te].leap(ue))},ownerState:K,className:ce.track}),me=null!=(a=H.thumb)?a:"span",ge=MS({elementType:me,getSlotProps:X,externalSlotProps:q.thumb,ownerState:K}),ye=null!=(s=H.valueLabel)?s:gC,be=MS({elementType:ye,externalSlotProps:q.valueLabel,ownerState:K}),_e=null!=(u=H.mark)?u:"span",we=MS({elementType:_e,externalSlotProps:q.mark,ownerState:K,className:ce.mark}),xe=null!=(c=H.markLabel)?c:"span",Se=MS({elementType:xe,externalSlotProps:q.markLabel,ownerState:K}),Ee=H.input||"input",ke=MS({elementType:Ee,getSlotProps:Y,externalSlotProps:q.input,ownerState:K});return(0,Ze.jsxs)(le,(0,hw.Z)({},he,{children:[(0,Ze.jsx)(fe,(0,hw.Z)({},de)),(0,Ze.jsx)(pe,(0,hw.Z)({},ve)),oe.filter((function(e){return e.value>=T&&e.value<=k})).map((function(t,n){var r,i=kC(t.value,T,k),o=$[te].offset(i);return r=!1===D?-1!==ae.indexOf(t.value):"normal"===D&&(ne?t.value>=ae[0]&&t.value<=ae[ae.length-1]:t.value<=ae[0])||"inverted"===D&&(ne?t.value<=ae[0]||t.value>=ae[ae.length-1]:t.value>=ae[0]),(0,Ze.jsxs)(e.Fragment,{children:[(0,Ze.jsx)(_e,(0,hw.Z)({"data-index":n},we,!IS(_e)&&{markActive:r},{style:(0,hw.Z)({},o,we.style),className:(0,fw.Z)(we.className,r&&ce.markActive)})),null!=t.label?(0,Ze.jsx)(xe,(0,hw.Z)({"aria-hidden":!0,"data-index":n},Se,!IS(xe)&&{markLabelActive:r},{style:(0,hw.Z)({},o,Se.style),className:(0,fw.Z)(ce.markLabel,Se.className,r&&ce.markLabelActive),children:t.label})):null]},n)})),ae.map((function(t,n){var r=kC(t,T,k),i=$[te].offset(r),o="off"===j?LC:ye;return(0,Ze.jsx)(e.Fragment,{children:(0,Ze.jsx)(o,(0,hw.Z)({},!IS(o)&&{valueLabelFormat:U,valueLabelDisplay:j,value:"function"===typeof U?U(A(t),n):U,index:n,open:J===n||ee===n||"on"===j,disabled:b},be,{className:(0,fw.Z)(ce.valueLabel,be.className),children:(0,Ze.jsx)(me,(0,hw.Z)({"data-index":n,"data-focusvisible":re===n},ge,{className:(0,fw.Z)(ce.thumb,ge.className,ee===n&&ce.active,re===n&&ce.focusVisible),style:(0,hw.Z)({},i,{pointerEvents:g&&ee!==n?"none":void 0},ge.style),children:(0,Ze.jsx)(Ee,(0,hw.Z)({"data-index":n,"aria-label":_?_(n):l,"aria-valuenow":A(t),"aria-labelledby":f,"aria-valuetext":w?w(A(t),n):h,value:ae[n]},ke))}))}))},n)}))]}))})),FC=jC,UC=function(e){return!e||!IS(e)},VC=["component","components","componentsProps","color","size","slotProps","slots"],BC=(0,hw.Z)({},mC,(0,Rw.Z)("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),zC=(0,pw.ZP)("span",{name:"MuiSlider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,ix.Z)(n.color))],"medium"!==n.size&&t["size".concat((0,ix.Z)(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,hw.Z)({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(n.vars||n).palette[r.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===r.orientation&&(0,hw.Z)({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===r.size&&{height:2},r.marked&&{marginBottom:20}),"vertical"===r.orientation&&(0,hw.Z)({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===r.size&&{width:2},r.marked&&{marginRight:44}),(t={"@media print":{colorAdjust:"exact"}},(0,Xe.Z)(t,"&.".concat(BC.disabled),{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]}),(0,Xe.Z)(t,"&.".concat(BC.dragging),(0,Xe.Z)({},"& .".concat(BC.thumb,", & .").concat(BC.track),{transition:"none"})),t))})),qC=(0,pw.ZP)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:function(e,t){return t.rail}})((function(e){var t=e.ownerState;return(0,hw.Z)({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===t.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===t.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===t.track&&{opacity:1})})),ZC=(0,pw.ZP)("span",{name:"MuiSlider",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?(0,JS.$n)(t.palette[n.color].main,.62):(0,JS._j)(t.palette[n.color].main,.5);return(0,hw.Z)({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},"small"===n.size&&{border:"none"},"horizontal"===n.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===n.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===n.track&&{display:"none"},"inverted"===n.track&&{backgroundColor:t.vars?t.vars.palette.Slider["".concat(n.color,"Track")]:r,borderColor:t.vars?t.vars.palette.Slider["".concat(n.color,"Track")]:r})})),HC=(0,pw.ZP)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:function(e,t){var n=e.ownerState;return[t.thumb,t["thumbColor".concat((0,ix.Z)(n.color))],"medium"!==n.size&&t["thumbSize".concat((0,ix.Z)(n.size))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,hw.Z)({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest})},"small"===r.size&&{width:12,height:12},"horizontal"===r.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===r.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},(t={"&:before":(0,hw.Z)({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"small"===r.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},(0,Xe.Z)(t,"&:hover, &.".concat(BC.focusVisible),{boxShadow:"0px 0px 0px 8px ".concat(n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / 0.16)"):(0,JS.Fq)(n.palette[r.color].main,.16)),"@media (hover: none)":{boxShadow:"none"}}),(0,Xe.Z)(t,"&.".concat(BC.active),{boxShadow:"0px 0px 0px 14px ".concat(n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / 0.16)"):(0,JS.Fq)(n.palette[r.color].main,.16))}),(0,Xe.Z)(t,"&.".concat(BC.disabled),{"&:hover":{boxShadow:"none"}}),t))})),WC=(0,pw.ZP)(gC,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:function(e,t){return t.valueLabel}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,hw.Z)((t={},(0,Xe.Z)(t,"&.".concat(BC.valueLabelOpen),{transform:"translateY(-100%) scale(1)"}),(0,Xe.Z)(t,"zIndex",1),(0,Xe.Z)(t,"whiteSpace","nowrap"),t),n.typography.body2,{fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"horizontal"===r.orientation&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},"vertical"===r.orientation&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},"small"===r.size&&{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"})})),KC=(0,pw.ZP)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:function(e){return(0,pw.Dz)(e)&&"markActive"!==e},overridesResolver:function(e,t){var n=e.markActive;return[t.mark,n&&t.markActive]}})((function(e){var t=e.theme,n=e.ownerState,r=e.markActive;return(0,hw.Z)({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===n.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===n.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8})})),GC=(0,pw.ZP)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:function(e){return(0,pw.Dz)(e)&&"markLabelActive"!==e},overridesResolver:function(e,t){return t.markLabel}})((function(e){var t=e.theme,n=e.ownerState,r=e.markLabelActive;return(0,hw.Z)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===n.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===n.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(t.vars||t).palette.text.primary})})),$C=e.forwardRef((function(e,t){var n,r,i,o,a,s,u,c,l,h,f,d,p,v,m,g,y,b,_,w,x,S,E,k=(0,vw.Z)({props:e,name:"MuiSlider"}),C="rtl"===Jx().direction,T=k.component,I=void 0===T?"span":T,N=k.components,P=void 0===N?{}:N,A=k.componentsProps,R=void 0===A?{}:A,O=k.color,M=void 0===O?"primary":O,D=k.size,L=void 0===D?"medium":D,j=k.slotProps,F=k.slots,U=(0,lw.Z)(k,VC),V=function(e){var t=e.color,n=e.size,r=e.classes,i=void 0===r?{}:r;return(0,hw.Z)({},i,{root:(0,fw.Z)(i.root,vC("color".concat((0,ix.Z)(t))),i["color".concat((0,ix.Z)(t))],n&&[vC("size".concat((0,ix.Z)(n))),i["size".concat((0,ix.Z)(n))]]),thumb:(0,fw.Z)(i.thumb,vC("thumbColor".concat((0,ix.Z)(t))),i["thumbColor".concat((0,ix.Z)(t))],n&&[vC("thumbSize".concat((0,ix.Z)(n))),i["thumbSize".concat((0,ix.Z)(n))]])})}((0,hw.Z)({},k,{color:M,size:L})),B=null!=(n=null!=(r=null==F?void 0:F.root)?r:P.Root)?n:zC,z=null!=(i=null!=(o=null==F?void 0:F.rail)?o:P.Rail)?i:qC,q=null!=(a=null!=(s=null==F?void 0:F.track)?s:P.Track)?a:ZC,Z=null!=(u=null!=(c=null==F?void 0:F.thumb)?c:P.Thumb)?u:HC,H=null!=(l=null!=(h=null==F?void 0:F.valueLabel)?h:P.ValueLabel)?l:WC,W=null!=(f=null!=(d=null==F?void 0:F.mark)?d:P.Mark)?f:KC,K=null!=(p=null!=(v=null==F?void 0:F.markLabel)?v:P.MarkLabel)?p:GC,G=null!=(m=null==F?void 0:F.input)?m:P.Input,$=null!=(g=null==j?void 0:j.root)?g:R.root,Q=null!=(y=null==j?void 0:j.rail)?y:R.rail,Y=null!=(b=null==j?void 0:j.track)?b:R.track,X=null!=(_=null==j?void 0:j.thumb)?_:R.thumb,J=null!=(w=null==j?void 0:j.valueLabel)?w:R.valueLabel,ee=null!=(x=null==j?void 0:j.mark)?x:R.mark,te=null!=(S=null==j?void 0:j.markLabel)?S:R.markLabel,ne=null!=(E=null==j?void 0:j.input)?E:R.input;return(0,Ze.jsx)(FC,(0,hw.Z)({},U,{isRtl:C,slots:{root:B,rail:z,track:q,thumb:Z,valueLabel:H,mark:W,markLabel:K,input:G},slotProps:(0,hw.Z)({},R,{root:(0,hw.Z)({},$,UC(B)&&{as:I,ownerState:(0,hw.Z)({},null==$?void 0:$.ownerState,{color:M,size:L})}),rail:Q,thumb:(0,hw.Z)({},X,UC(Z)&&{ownerState:(0,hw.Z)({},null==X?void 0:X.ownerState,{color:M,size:L})}),track:(0,hw.Z)({},Y,UC(q)&&{ownerState:(0,hw.Z)({},null==Y?void 0:Y.ownerState,{color:M,size:L})}),valueLabel:(0,hw.Z)({},J,UC(H)&&{ownerState:(0,hw.Z)({},null==J?void 0:J.ownerState,{color:M,size:L})}),mark:ee,markLabel:te,input:ne}),classes:V,ref:t}))})),QC=$C;var YC=function(t){var n=t.range,r=t.text,o=t.price,a=t.reset,s=Ke(),u=(0,i.Z)(s,1)[0],c=u.minMaxPrice,l=u.minMaxMileage,h=ze(),f=(0,i.Z)(h,2),d=f[0],p=f[1],v=(0,e.useState)(n),m=(0,i.Z)(v,2),g=m[0],y=m[1],b=n[0],_=n[1];return(0,e.useEffect)((function(){y([b,_])}),[n,a]),(0,Ze.jsxs)("div",{className:"slider",children:[(0,Ze.jsxs)("div",{className:"slider_minMax",children:[(0,Ze.jsx)("span",{children:(0,Ze.jsx)(yE(),{value:g[0],displayType:"text",thousandSeparator:!0,prefix:o?"$":null,suffix:o?null:" miles"})}),(0,Ze.jsx)("span",{children:(0,Ze.jsx)(yE(),{value:g[1],displayType:"text",thousandSeparator:!0,prefix:o?"$":null,suffix:o?null:" miles"})})]}),(0,Ze.jsx)(QC,{"aria-label":"Car ".concat(r," range"),getAriaLabel:function(){return"Car ".concat(r," range")},value:g,min:b,max:_,onChange:function(e,t){y(t)},onChangeCommitted:function(e,t){var n,r,i,a;o?p(Oe({minPrice:t[0],maxPrice:t[1],minMileage:null!==(n=d.get("minMileage"))&&void 0!==n?n:l[0],maxMileage:null!==(r=d.get("maxMileage"))&&void 0!==r?r:l[1]})):p(Oe({minPrice:null!==(i=d.get("minPrice"))&&void 0!==i?i:c[0],maxPrice:null!==(a=d.get("maxPrice"))&&void 0!==a?a:c[1],minMileage:t[0],maxMileage:t[1]}))},valueLabelDisplay:"off",disableSwap:!0,name:"".concat(r,"Range")})]})},XC=n(1184),JC=n(5682),eT=n(2466),tT=n(7416),nT=["sx"];function rT(e){var t,n=e.sx,r=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:tT.Z;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r}((0,lw.Z)(e,nT)),i=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[i].concat((0,a.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,eT.P)(e)?(0,hw.Z)({},i,e):i}:(0,hw.Z)({},i,n),(0,hw.Z)({},o,{sx:t})}var iT=["component","direction","spacing","divider","children"];function oT(t,n){var r=e.Children.toArray(t).filter(Boolean);return r.reduce((function(t,i,o){return t.push(i),o<r.length-1&&t.push(e.cloneElement(n,{key:"separator-".concat(o)})),t}),[])}var aT=(0,pw.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,r=(0,hw.Z)({display:"flex",flexDirection:"column"},(0,XC.k9)({theme:n},(0,XC.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=(0,JC.hB)(n),o=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),a=(0,XC.P$)({values:t.direction,base:o}),s=(0,XC.P$)({values:t.spacing,base:o});"object"===typeof a&&Object.keys(a).forEach((function(e,t,n){if(!a[e]){var r=t>0?a[n[t-1]]:"column";a[e]=r}}));r=(0,eT.Z)(r,(0,XC.k9)({theme:n},s,(function(e,n){return{"& > :not(style) + :not(style)":(0,Xe.Z)({margin:0},"margin".concat((r=n?a[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,JC.NA)(i,e))};var r})))}return r=(0,XC.dt)(n.breakpoints,r)})),sT=e.forwardRef((function(e,t){var n=rT((0,vw.Z)({props:e,name:"MuiStack"})),r=n.component,i=void 0===r?"div":r,o=n.direction,a=void 0===o?"column":o,s=n.spacing,u=void 0===s?0:s,c=n.divider,l=n.children,h=(0,lw.Z)(n,iT),f={direction:a,spacing:u};return(0,Ze.jsx)(aT,(0,hw.Z)({as:i,ownerState:f,ref:t},h,{children:c?oT(l,c):l}))})),uT=sT;function cT(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function lT(e){return parseFloat(e)}function hT(e){return(0,Qw.Z)("MuiSkeleton",e)}(0,Rw.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var fT,dT,pT,vT,mT,gT,yT,bT,_T=["animation","className","component","height","style","variant","width"],wT=Pw(mT||(mT=fT||(fT=bw(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),xT=Pw(gT||(gT=dT||(dT=bw(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),ST=(0,pw.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((function(e){var t=e.theme,n=e.ownerState,r=cT(t.shape.borderRadius)||"px",i=lT(t.shape.borderRadius);return(0,hw.Z)({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:(0,JS.Fq)(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em"},"text"===n.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(i).concat(r,"/").concat(Math.round(i/.6*10)/10).concat(r),"&:empty:before":{content:'"\\00a0"'}},"circular"===n.variant&&{borderRadius:"50%"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},n.hasChildren&&{"& > *":{visibility:"hidden"}},n.hasChildren&&!n.width&&{maxWidth:"fit-content"},n.hasChildren&&!n.height&&{height:"auto"})}),(function(e){return"pulse"===e.ownerState.animation&&Nw(yT||(yT=pT||(pT=bw(["\n      animation: "," 1.5s ease-in-out 0.5s infinite;\n    "]))),wT)}),(function(e){var t=e.ownerState,n=e.theme;return"wave"===t.animation&&Nw(bT||(bT=vT||(vT=bw(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 1.6s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),xT,(n.vars||n).palette.action.hover)})),ET=e.forwardRef((function(e,t){var n=(0,vw.Z)({props:e,name:"MuiSkeleton"}),r=n.animation,i=void 0===r?"pulse":r,o=n.className,a=n.component,s=void 0===a?"span":a,u=n.height,c=n.style,l=n.variant,h=void 0===l?"text":l,f=n.width,d=(0,lw.Z)(n,_T),p=(0,hw.Z)({},n,{animation:i,component:s,variant:h,hasChildren:Boolean(d.children)}),v=function(e){var t=e.classes,n=e.variant,r=e.animation,i=e.hasChildren,o=e.width,a=e.height,s={root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!a&&"heightAuto"]};return(0,dw.Z)(s,hT,t)}(p);return(0,Ze.jsx)(ST,(0,hw.Z)({as:s,ref:t,className:(0,fw.Z)(v.root,o),ownerState:p},d,{style:(0,hw.Z)({width:f,height:u},c)}))})),kT=ET;var CT=function(){return(0,Ze.jsxs)(uT,{className:"filtersSkeleton",spacing:1,children:[(0,Ze.jsx)(kT,{variant:"rounded",width:"100%",height:40}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_field",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:20}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_field",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:20}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_field",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:20}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:24,height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:24})]})]}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_field",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:60,height:20}),(0,Ze.jsxs)("div",{className:"filtersSkeleton_option filtersSkeleton_colors",children:[(0,Ze.jsx)(kT,{variant:"circular",width:40,height:40}),(0,Ze.jsx)(kT,{variant:"circular",width:40,height:40}),(0,Ze.jsx)(kT,{variant:"circular",width:40,height:40}),(0,Ze.jsx)(kT,{variant:"circular",width:40,height:40}),(0,Ze.jsx)(kT,{variant:"circular",width:40,height:40})]})]})]})};var TT=function(){var t=Ke(),n=(0,i.Z)(t,2),r=n[0],o=r.showFilters,s=r.minMaxPrice,u=r.minMaxMileage,c=n[1],l=(0,e.useState)(!1),h=(0,i.Z)(l,2),f=h[0],d=h[1],p=(0,e.useState)(!1),v=(0,i.Z)(p,2),m=v[0],g=v[1],y=(0,e.useState)(!1),b=(0,i.Z)(y,2),_=b[0],w=b[1],x=me(),S=(0,e.useState)([]),E=(0,i.Z)(S,2),k=E[0],C=E[1],T=(0,e.useState)([]),I=(0,i.Z)(T,2),N=I[0],P=I[1],A=(0,e.useState)([]),R=(0,i.Z)(A,2),O=R[0],M=R[1],D=(0,e.useState)([]),L=(0,i.Z)(D,2),j=L[0],F=L[1];return(0,e.useEffect)((function(){w(!0),iw.collection("cars").get().then((function(e){var t=e.docs.map((function(e){return e.data()})),n=[],r=[],i=[],o=[];t.forEach((function(e){n.push(e.brand),r.push(e.year),i.push(e.tireSize),o.push(e.color)})),C((0,a.Z)(new Set(n))),P((0,a.Z)(new Set(r.sort()))),M((0,a.Z)(new Set(i.sort()))),F((0,a.Z)(new Set(o))),w(!1)})).catch((function(e){console.log("Error fetching the DB",e)}))}),[]),(0,e.useEffect)((function(){g(window.innerWidth),window.innerWidth>=990&&c({type:"TOGGLE_FILTERS",showFilters:!0})}),[]),(0,Ze.jsx)("section",{className:"filters ".concat(!o&&"filters_hidden"),children:_?(0,Ze.jsx)(CT,{}):(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsxs)("div",{className:"filters_top",children:[m<990&&(0,Ze.jsx)("h2",{children:"Filters"}),m<990&&(0,Ze.jsx)(EE.Z,{className:"filters_closeBtn",onClick:function(){c({type:"TOGGLE_FILTERS",showFilters:!1})}})]}),(0,Ze.jsx)(Fx,{onClick:function(){d(!0),x("/inventory?minPrice=".concat(s[0],"&maxPrice=").concat(s[1],"&minMileage=").concat(u[0],"&maxMileage=").concat(u[1])),c({type:"CLEAR_FILTERS"}),setTimeout((function(){d(!1)}),2e3)},className:"filters_button ".concat(m>=990&&"filters_button-desktop"),text:"Clear All",bgColor:"green"}),(0,Ze.jsx)("div",{className:"filters_divider"}),(0,Ze.jsxs)("div",{className:"filters_form",children:[(0,Ze.jsxs)("section",{children:[(0,Ze.jsx)("h5",{children:"Brand"}),(0,Ze.jsx)("form",{className:"filters_checkboxes",children:k.map((function(e){return(0,Ze.jsxs)("div",{className:"filters_checkbox",children:[(0,Ze.jsx)(pC,{id:e,name:"brands",value:e,clearAll:f}),(0,Ze.jsx)(dC,{option:e,text:e})]},e)}))})]}),(0,Ze.jsxs)("section",{children:[(0,Ze.jsx)("h5",{children:"Model Year"}),(0,Ze.jsx)("form",{className:"filters_checkboxes",children:N.map((function(e){return(0,Ze.jsxs)("div",{className:"filters_checkbox",children:[(0,Ze.jsx)(pC,{id:e,name:"years",value:e,clearAll:f}),(0,Ze.jsx)(dC,{option:e,text:e})]},e)}))})]}),(0,Ze.jsxs)("section",{children:[(0,Ze.jsx)("h5",{children:"Wheels"}),(0,Ze.jsx)("form",{className:"filters_checkboxes",children:O.map((function(e){return(0,Ze.jsxs)("div",{className:"filters_checkbox",children:[(0,Ze.jsx)(pC,{id:e,name:"wheels",value:e,clearAll:f}),(0,Ze.jsx)(dC,{option:e,text:"".concat(e,'" Wheels')})]},e)}))})]}),(0,Ze.jsxs)("section",{children:[(0,Ze.jsx)("h5",{children:"Color"}),(0,Ze.jsx)("form",{className:"filters_checkboxes filters_colors",children:j.map((function(e){return(0,Ze.jsxs)("div",{className:"filters_checkbox",children:[(0,Ze.jsx)(pC,{id:e,name:"colors",value:e,clearAll:f,hidden:!0}),(0,Ze.jsx)(dC,{option:e,colorsProp:!0})]},e)}))})]}),(0,Ze.jsxs)("section",{children:[(0,Ze.jsx)("h5",{children:"Price"}),(0,Ze.jsx)("form",{className:"filters_checkboxes",children:(0,Ze.jsx)(YC,{range:s,price:!0,text:"price",reset:f})})]}),(0,Ze.jsxs)("section",{children:[(0,Ze.jsx)("h5",{children:"Mileage"}),(0,Ze.jsx)("form",{className:"filters_checkboxes",children:(0,Ze.jsx)(YC,{range:u,text:"mileage",reset:f})})]})]})]})})};var IT=function(){return(0,Ze.jsxs)("div",{className:"skeletonContainer",children:[(0,Ze.jsxs)(uT,{spacing:1,children:[(0,Ze.jsx)(kT,{variant:"rounded",width:"100%"}),(0,Ze.jsx)(kT,{variant:"text",sx:{fontSize:"18px"},width:"40%"}),(0,Ze.jsx)(kT,{className:"skeletonContainer_img",variant:"rounded",width:"70%",height:160}),(0,Ze.jsx)(kT,{variant:"rounded",width:"100%",height:42}),(0,Ze.jsx)(kT,{className:"skeletonContainer_btn",variant:"rounded",width:"100%",height:40})]}),(0,Ze.jsxs)(uT,{spacing:1,children:[(0,Ze.jsx)(kT,{variant:"rounded",width:"100%"}),(0,Ze.jsx)(kT,{variant:"text",sx:{fontSize:"18px"},width:"40%"}),(0,Ze.jsx)(kT,{className:"skeletonContainer_img",variant:"rounded",width:"70%",height:160}),(0,Ze.jsx)(kT,{variant:"rounded",width:"100%",height:42}),(0,Ze.jsx)(kT,{className:"skeletonContainer_btn",variant:"rounded",width:"100%",height:40})]}),(0,Ze.jsxs)(uT,{spacing:1,children:[(0,Ze.jsx)(kT,{variant:"rounded",width:"100%"}),(0,Ze.jsx)(kT,{variant:"text",sx:{fontSize:"18px"},width:"40%"}),(0,Ze.jsx)(kT,{className:"skeletonContainer_img",variant:"rounded",width:"70%",height:160}),(0,Ze.jsx)(kT,{variant:"rounded",width:"100%",height:42}),(0,Ze.jsx)(kT,{className:"skeletonContainer_btn",variant:"rounded",width:"100%",height:40})]}),(0,Ze.jsxs)(uT,{spacing:1,children:[(0,Ze.jsx)(kT,{variant:"rounded",width:"100%"}),(0,Ze.jsx)(kT,{variant:"text",sx:{fontSize:"18px"},width:"40%"}),(0,Ze.jsx)(kT,{className:"skeletonContainer_img",variant:"rounded",width:"70%",height:160}),(0,Ze.jsx)(kT,{variant:"rounded",width:"100%",height:42}),(0,Ze.jsx)(kT,{className:"skeletonContainer_btn",variant:"rounded",width:"100%",height:40})]})]})};var NT=function(){return(0,Ze.jsx)("div",{className:"noCarState",children:(0,Ze.jsx)("h2",{children:"Don\u2019t see the car you\u2019re looking for? Please modify the filters."})})};var PT=function(){var t=Ke(),n=(0,i.Z)(t,2),r=n[0],o=r.carsResults,s=r.showFilters,u=r.brandsFilters,c=r.modelYearsFilters,l=r.tireSize,h=r.colors,f=r.minMaxPrice,d=r.minMaxMileage,p=n[1],v=(0,e.useState)(!0),m=(0,i.Z)(v,2),g=m[0],y=m[1],b=(0,e.useState)(0),_=(0,i.Z)(b,2),w=_[0],x=_[1],S=(0,e.useState)([]),E=(0,i.Z)(S,2),k=E[0],C=E[1],T=ze(),I=(0,i.Z)(T,2),N=I[0],P=(I[1],(0,e.useState)(!1)),A=(0,i.Z)(P,2),R=A[0],O=A[1],M=(0,e.useState)(0),D=(0,i.Z)(M,2),L=D[0],j=D[1],F=(0,e.useState)("low"),U=(0,i.Z)(F,2),V=U[0],B=U[1],z=ve();(0,e.useEffect)((function(){O(!0),iw.collection("cars").get().then((function(e){var t=e.docs.map((function(e){return et(et({},e.data()),{},{carId:e.id})})),n=t.map((function(e){return Number(e.price)})),r=Math.min.apply(Math,(0,a.Z)(n)),i=Math.max.apply(Math,(0,a.Z)(n)),o=t.map((function(e){return Number(e.odometer)})),s=Math.min.apply(Math,(0,a.Z)(o)),u=Math.max.apply(Math,(0,a.Z)(o));p({type:"SET_CARS_RESULTS",carsResults:t}),p({type:"SET_MIN_MAX_PRICE_FILTER",minMaxPrice:[r,i]}),p({type:"SET_MIN_MAX_MILEAGE_FILTER",minMaxMileage:[s,u]}),O(!1)})).catch((function(e){console.log("Error fetching the DB",e)})),O(!1)}),[]),(0,e.useEffect)((function(){var e=o.sort("low"===V?function(e,t){return e.price-t.price}:function(e,t){return t.price-e.price}),t=e.filter((function(e){var t,n,r,i;return(u.length>0?u.includes(e.brand):e)&&(c.length>0?c.includes(e.year):e)&&(l.length>0?l.includes(e.tireSize):e)&&(h.length>0?h.includes(e.color):e)&&Number(e.price)>=(null!==(t=N.get("minPrice"))&&void 0!==t?t:f[0])&&(null!==(n=Number(e.price)<=N.get("maxPrice"))&&void 0!==n?n:f[1])&&Number(e.odometer)>=(null!==(r=N.get("minMileage"))&&void 0!==r?r:d[0])&&Number(e.odometer)<=(null!==(i=N.get("maxMileage"))&&void 0!==i?i:d[1])}));C(t)}),[u,c,l,h,z,V]),(0,e.useEffect)((function(){x(window.innerWidth),window.scrollTo({top:0,behavior:"smooth"})}),[]),(0,e.useEffect)((function(){return window.addEventListener("scroll",q,{passive:!0}),function(){window.removeEventListener("scroll",q)}}),[]),(0,e.useEffect)((function(){s&&window.innerWidth<990?document.body.style.overflow="hidden":document.body.style.overflow="unset"}),[s]);var q=function(){j(window.scrollY)};return(0,Ze.jsxs)("main",{className:"inventory_main",children:[s&&w<990&&(0,Ze.jsx)("div",{onClick:function(){p({type:"TOGGLE_FILTERS",showFilters:!1})},className:"inventory_overlay"}),(0,Ze.jsxs)("div",{className:"inventory_header",children:[(0,Ze.jsx)("h1",{children:"Inventory"}),(0,Ze.jsxs)("div",{className:"inventory_viewIcons",children:[(0,Ze.jsx)(uw.Z,{id:g?"activeLayout":void 0,onClick:function(){return y(!0)}}),(0,Ze.jsx)("div",{}),(0,Ze.jsx)(cw.Z,{id:g?void 0:"inactiveLayout",onClick:function(){return y(!1)}})]}),(0,Ze.jsxs)("div",{className:"inventory_header-bottom",children:[(0,Ze.jsx)(Fx,{className:"inventory_filtersBtn",onClick:function(){p({type:"TOGGLE_FILTERS",showFilters:!0})},text:"Filter",bgColor:"grey"}),(0,Ze.jsxs)("select",{className:"btn btn__grey inventory_header-select",onChange:function(e){return B(e.target.value)},children:[(0,Ze.jsx)("option",{value:"low",children:"Price: Low to High"}),(0,Ze.jsx)("option",{value:"high",children:"Price: High to Low"})]})]})]}),(0,Ze.jsx)("div",{className:"inventory_hiddenBar"}),(0,Ze.jsx)(jx,{style:{justifyContent:!g&&w>=990&&"unset",flexDirection:!g&&w>=990&&"column"},className:"inventory_carsContainer ".concat(!g&&"inventory_carsContainer-reducedGap"),children:R?(0,Ze.jsx)(IT,{}):0===k.length?(0,Ze.jsx)(NT,{}):null===k||void 0===k?void 0:k.map((function(e){return(0,Ze.jsx)(SE,et(et({carId:e.cardId},e),{},{activeGrid:g,windowSize:w,singleResult:!(k.length>2)}),e.cardId)}))}),(0,Ze.jsx)(TT,{}),(0,Ze.jsx)(lx,{className:"inventory_scrollToTop",size:"small","aria-label":"Scroll to top",style:{opacity:L>=2e3?1:0,zIndex:L>=2e3?3e3:0},onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:(0,Ze.jsx)(hx.Z,{})})]})};var AT=function(){var t=Ke(),n=(0,i.Z)(t,2),r=n[0].carsResults,o=n[1];return(0,e.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),(0,e.useEffect)((function(){0===r.length&&iw.collection("cars").get().then((function(e){var t=e.docs.map((function(e){return et(et({},e.data()),{},{carId:e.id})})),n=t.map((function(e){return Number(e.price)})),r=Math.min.apply(Math,(0,a.Z)(n)),i=Math.max.apply(Math,(0,a.Z)(n)),s=t.map((function(e){return Number(e.odometer)})),u=Math.min.apply(Math,(0,a.Z)(s)),c=Math.max.apply(Math,(0,a.Z)(s));o({type:"SET_CARS_RESULTS",carsResults:t}),o({type:"SET_MIN_MAX_PRICE_FILTER",minMaxPrice:[r,i]}),o({type:"SET_MIN_MAX_MILEAGE_FILTER",minMaxMileage:[u,c]})})).catch((function(e){console.log("Error fetching the DB",e)}))}),[]),(0,Ze.jsxs)("div",{className:"marketingContainer",children:[(0,Ze.jsxs)("div",{className:"marketing-top-img-container",children:[(0,Ze.jsx)("img",{className:"marketing-car-rock-img",src:"marketingImages/marketing-car-rock.jpg",alt:""}),(0,Ze.jsx)("img",{className:"marketing-car-rock-img-ipad",src:"marketingImages/marketing-car-rock-ipad.jpg",alt:""}),(0,Ze.jsx)("img",{className:"marketing-car-rock-img-large",src:"marketingImages/marketing-car-rock-large.jpg",alt:""})]}),(0,Ze.jsxs)("div",{className:"marketing-h1-info-wrap",children:[(0,Ze.jsx)("div",{className:"marketing-h1-container",children:(0,Ze.jsx)("h1",{className:"marketing-h1",children:"The role of electric cars in the race towards sustainability"})}),(0,Ze.jsxs)("div",{className:"marketing-wrap-text-img",children:[(0,Ze.jsxs)("div",{className:"marketing-p-container",children:[(0,Ze.jsx)("p",{className:"marketing-p",children:"The Electric Vehicle has become an unstoppable revolution despite many obstacles. Specialists agree that there is still a long way to go until all the cars sold abandon gasoline or diesel as fuel in favor of alternatives that contribute less to the climate crisis, such as electric batteries or fuel cells. of hydrogen."}),(0,Ze.jsx)("p",{className:"marketing-p",children:"Although it is true that many times electric cars have been presented as a futuristic means of transport, today they are an increasingly common reality. Electric mobility promotes the conservation of the environment, reduces the emission of greenhouse gases, noise pollution, among others. However, few manufacturers offer 100% electric alternatives."}),(0,Ze.jsxs)("p",{className:"marketing-p",children:["These cars are present in the automotive market with models such as the Volkswagen ID3, the I Oniq Hyundai, among others."," "]})]}),(0,Ze.jsxs)("div",{className:"marketing-bot-img-container",children:[(0,Ze.jsx)("img",{className:"marketing-white-car-img-mobile",src:"marketingImages/marketing-white-car-mobile.jpg",alt:""}),(0,Ze.jsx)("img",{className:"marketing-white-car-img-ipad",src:"marketingImages/marketing-white-car-ipad.jpg",alt:""}),(0,Ze.jsx)("img",{className:"marketing-white-car-img-large",src:"marketingImages/marketing-white-car-large.jpg",alt:""})]})]})]}),(0,Ze.jsx)("div",{className:"marketing-quote-container",children:(0,Ze.jsx)("p",{className:"marketing-p-quote",children:"\u201cThe automotive sector is undergoing a revolution to leave combustion engines in oblivion and contribute less to the climate crisis\u201d"})})]})},RT=n(5335),OT=n(2686),MT=n(2716),DT=n(8384);var LT,jT=function(t){var n=t.id,r=t.name,o=t.location,a=(t.lat,t.lng,t.image),s=t.email,u=t.hours,c=t.phone,l=t.address,h=(0,e.useState)(!1),f=(0,i.Z)(h,2),d=f[0],p=f[1],v=(0,e.useState)(!1),m=(0,i.Z)(v,2),g=m[0],y=m[1],b=(0,e.useState)(!1),_=(0,i.Z)(b,2),w=_[0],x=_[1],S=(0,e.useState)(0),E=(0,i.Z)(S,2),k=E[0],C=E[1];return(0,e.useEffect)((function(){return window.addEventListener("resize",(function(){C(window.innerWidth)})),function(){window.removeEventListener("resize",(function(){console.log("Event listener for the window was removed")}))}}),[]),(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsxs)("li",{className:"saleRepresentativeCard_li",onClick:function(){return p(!d)},children:[!d&&(0,Ze.jsx)("div",{className:"li_div--locationContainer",children:k<=990&&(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsxs)("span",{className:"saleRepresentativeCard_horizontalLocation",children:[(0,Ze.jsx)(tt.Z,{className:"saleRepresentativeCard_li_location"}),(0,Ze.jsx)("p",{className:"saleRepresentativeCard_li_p",children:o})]}),(0,Ze.jsx)(bE.Z,{className:"saleRepresentativeCard_li_arrow"})]})}),(d||k>=990)&&(0,Ze.jsx)("div",{id:n,children:(0,Ze.jsxs)("div",{className:"saleRCardSeparator",children:[(0,Ze.jsxs)("div",{className:"saleRepresentativeCard_div",children:[(0,Ze.jsx)("div",{className:"saleRepresentativeCard_div--picturesContainer",children:(0,Ze.jsx)("img",{className:"saleRepresentativeCard_div_img",src:a,alt:n})}),(0,Ze.jsxs)("div",{className:"saleRepresentativeCard_div--locationsContainer",children:[(0,Ze.jsx)("h4",{className:"saleRepresentativeCard_div_img_h4",children:r}),(0,Ze.jsxs)("ul",{className:"saleRepresentativeCard_ul",children:[(0,Ze.jsxs)("div",{children:[(0,Ze.jsxs)("li",{className:"saleRepresentativeCard_ul_li",children:[(0,Ze.jsx)(tt.Z,{className:"li_icon"}),o]}),(0,Ze.jsxs)("li",{className:"saleRepresentativeCard_ul_li",children:[(0,Ze.jsx)(RT.Z,{className:"li_icon"}),s]})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsxs)("li",{className:"saleRepresentativeCard_ul_li",children:[(0,Ze.jsx)(OT.Z,{className:"li_icon"}),u]}),(0,Ze.jsxs)("li",{className:"saleRepresentativeCard_ul_li",children:[(0,Ze.jsx)(MT.Z,{className:"li_icon"}),c]})]})]})]})]}),(0,Ze.jsx)("div",{className:"saleRepresentativeCard_div--button",children:(0,Ze.jsx)(Fx,{onClick:function(){return y(!g)},text:"Contact Dealer",className:"btn_green"})})]})})]}),g&&(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsx)("div",{onClick:function(){return y(!1)},className:"modalWindow_overlay"}),(0,Ze.jsxs)("form",{className:"modalWindow_form",action:"",children:[(0,Ze.jsxs)("div",{className:"modalWindow_title",children:[(0,Ze.jsx)("div",{className:"form_div-closeContainer",children:(0,Ze.jsx)(EE.Z,{onClick:function(){return y(!g)}})}),(0,Ze.jsx)("h1",{className:"modalWindow_form_h1",children:"Contact Dealer"})]}),(0,Ze.jsx)("h4",{className:"modalWindow_form_h4",children:r}),(0,Ze.jsx)("p",{className:"modalWindow_form_p--location",children:o}),(0,Ze.jsx)("p",{className:"modalWindow_form_p--address",children:l}),(0,Ze.jsx)("p",{className:"modalWindow_form_p--contatInformation",children:"Contact information"}),(0,Ze.jsx)("input",{className:"modalWindow_form_input",type:"text",placeholder:"Name"}),(0,Ze.jsx)("input",{className:"modalWindow_form_input",type:"text",placeholder:"Last Name"}),(0,Ze.jsx)("input",{className:"modalWindow_form_input",type:"text",placeholder:"Email"}),(0,Ze.jsxs)("div",{className:"modalWindow_form_div",children:[(0,Ze.jsx)("h4",{className:"form_div_h4",children:"Special Requirements"}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("input",{className:"form_div_checkBox",type:"checkbox",name:"spanish_representative"}),(0,Ze.jsx)("label",{htmlFor:"spanish_representative",children:"Spanish-speaker representative"})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("input",{className:"form_div_checkBox",type:"checkbox",name:"test_drvie"}),(0,Ze.jsx)("label",{htmlFor:"test_drvie",children:"Schedule a testdrive"})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("input",{className:"form_div_checkBox",type:"checkbox",name:"trade_in"}),(0,Ze.jsx)("label",{htmlFor:"test_drvie",children:" Trade in a Vehicle"})]}),(0,Ze.jsxs)("div",{id:"form_div_div--comment-container",children:[(0,Ze.jsx)("label",{className:"form_div_label--comment",htmlFor:"comment",children:"Add a comment"}),(0,Ze.jsx)("textarea",{name:"comment",id:"comment",rows:"10"}),(0,Ze.jsx)(Fx,{text:"Contact Dealer",className:"btn_green modalWindow_button",onClick:function(){return y(!g),x(!w),setTimeout((function(){x(w)}),3e3),window.scrollTo({top:0,behavior:"smooth"})}})]})]})]})]}),w&&(0,Ze.jsxs)("div",{className:"modal_confirmation",children:[(0,Ze.jsx)(DT.Z,{})," ",(0,Ze.jsx)("p",{children:"Message sent"})]})]})},FT=n(2007),UT=n.n(FT),VT=n(7143),BT=n.n(VT),zT=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n},qT="__googleMapsScriptId";!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(LT||(LT={}));var ZT=function(){function e(t){var n=t.apiKey,r=t.authReferrerPolicy,i=t.channel,o=t.client,a=t.id,u=void 0===a?qT:a,c=t.language,l=t.libraries,h=void 0===l?[]:l,f=t.mapIds,d=t.nonce,p=t.region,v=t.retries,m=void 0===v?3:v,g=t.url,y=void 0===g?"https://maps.googleapis.com/maps/api/js":g,b=t.version;if(s(this,e),this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=i,this.client=o,this.id=u||qT,this.language=c,this.libraries=h,this.mapIds=f,this.nonce=d,this.region=p,this.retries=m,this.url=y,this.version=b,e.instance){if(!zT(this.options,e.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(e.instance.options)));return e.instance}e.instance=this}return l(e,[{key:"options",get:function(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}},{key:"status",get:function(){return this.errors.length?LT.FAILURE:this.done?LT.SUCCESS:this.loading?LT.LOADING:LT.INITIALIZED}},{key:"failed",get:function(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}},{key:"createUrl",value:function(){var e=this.url;return e+="?callback=".concat(this.CALLBACK),this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}},{key:"deleteScript",value:function(){var e=document.getElementById(this.id);e&&e.remove()}},{key:"load",value:function(){return this.loadPromise()}},{key:"loadPromise",value:function(){var e=this;return new Promise((function(t,n){e.loadCallback((function(e){e?n(e.error):t(window.google)}))}))}},{key:"loadCallback",value:function(e){this.callbacks.push(e),this.execute()}},{key:"setScript",value:function(){if(document.getElementById(this.id))this.callback();else{var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}}},{key:"reset",value:function(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}},{key:"resetIfRetryingFailed",value:function(){this.failed&&this.reset()}},{key:"loadErrorCallback",value:function(e){var t=this;if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.log("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout((function(){t.deleteScript(),t.setScript()}),n)}else this.onerrorEvent=e,this.callback()}},{key:"setCallback",value:function(){window.__googleMapsCallback=this.callback.bind(this)}},{key:"callback",value:function(){var e=this;this.done=!0,this.loading=!1,this.callbacks.forEach((function(t){t(e.onerrorEvent)})),this.callbacks=[]}},{key:"execute",value:function(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}]),e}(),HT=n(8322),WT=n.n(HT);function KT(){return(KT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function GT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function $T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var QT={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},YT=function(t){function n(){return t.apply(this,arguments)||this}GT(n,t);var r=n.prototype;return r.shouldComponentUpdate=function(){return!1},r.render=function(){return e.createElement("div",{ref:this.props.registerChild,style:QT})},n}(e.Component),XT=function(e){function t(t){var n;return(n=e.call(this)||this).gmapInstance=t,n}GT(t,e);var n=t.prototype;return n.getChildren=function(){return this.gmapInstance.props.children},n.getMousePosition=function(){return this.gmapInstance.mouse_},n.getUpdateCounter=function(){return this.gmapInstance.updateCounter_},n.dispose=function(){this.gmapInstance=null,this.removeAllListeners()},t}(BT()),JT=function(e,t){for(var n=KT({},e),r=0;r<t.length;r++){var i=t[r];i in n&&delete n[i]}return n},eI=Object.prototype.hasOwnProperty;function tI(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function nI(e,t){if(tI(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!eI.call(t,n[i])||!tI(e[n[i]],t[n[i]]))return!1;return!0}var rI={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},iI={width:0,height:0,left:0,top:0,backgroundColor:"transparent",position:"absolute"},oI=function(t){function n(n){var r;return(r=t.call(this,n)||this)._getState=function(){return{children:r.props.dispatcher.getChildren(),updateCounter:r.props.dispatcher.getUpdateCounter()}},r._onChangeHandler=function(){if(r.dimensionsCache_){var e=(r.state.children||[]).length,t=r._getState();r.setState(t,(function(){return(t.children||[]).length!==e&&r._onMouseChangeHandler()}))}},r._onChildClick=function(){r.props.onChildClick&&r.hoverChildProps_&&r.props.onChildClick(r.hoverKey_,r.hoverChildProps_)},r._onChildMouseDown=function(){r.props.onChildMouseDown&&r.hoverChildProps_&&r.props.onChildMouseDown(r.hoverKey_,r.hoverChildProps_)},r._onChildMouseEnter=function(e,t){r.dimensionsCache_&&(r.props.onChildMouseEnter&&r.props.onChildMouseEnter(e,t),r.hoverChildProps_=t,r.hoverKey_=e,r.setState({hoverKey:e}))},r._onChildMouseLeave=function(){if(r.dimensionsCache_){var e=r.hoverKey_;null!=e&&(r.props.onChildMouseLeave&&r.props.onChildMouseLeave(e,r.hoverChildProps_),r.hoverKey_=null,r.hoverChildProps_=null,r.setState({hoverKey:null}))}},r._onMouseAllow=function(e){e||r._onChildMouseLeave(),r.allowMouse_=e},r._onMouseChangeHandler=function(){r.allowMouse_&&r._onMouseChangeHandlerRaf()},r._onMouseChangeHandlerRaf=function(){if(r.dimensionsCache_){var t=r.props.dispatcher.getMousePosition();if(t){var n=[],i=r.props.getHoverDistance();if(e.Children.forEach(r.state.children,(function(e,o){if(e&&(void 0!==e.props.latLng||void 0!==e.props.lat||void 0!==e.props.lng)){var a=null!=e.key?e.key:o,s=r.props.distanceToMouse(r.dimensionsCache_[a],t,e.props);s<i&&n.push({key:a,dist:s,props:e.props})}})),n.length){n.sort((function(e,t){return e.dist-t.dist}));var o=n[0].key,a=n[0].props;r.hoverKey_!==o&&(r._onChildMouseLeave(),r._onChildMouseEnter(o,a))}else r._onChildMouseLeave()}else r._onChildMouseLeave()}},r._getDimensions=function(e){return r.dimensionsCache_[e]},r.dimensionsCache_={},r.hoverKey_=null,r.hoverChildProps_=null,r.allowMouse_=!0,r.state=KT({},r._getState(),{hoverKey:null}),r}GT(n,t);var r=n.prototype;return r.componentDidMount=function(){this.props.dispatcher.on("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.on("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.on("kON_CLICK",this._onChildClick),this.props.dispatcher.on("kON_MDOWN",this._onChildMouseDown)},r.shouldComponentUpdate=function(e,t){return!0===this.props.experimental?!nI(this.props,e)||!nI(JT(this.state,["hoverKey"]),JT(t,["hoverKey"])):!nI(this.props,e)||!nI(this.state,t)},r.componentWillUnmount=function(){this.props.dispatcher.removeListener("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.removeListener("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.removeListener("kON_CLICK",this._onChildClick),this.props.dispatcher.removeListener("kON_MDOWN",this._onChildMouseDown),this.dimensionsCache_=null},r.render=function(){var t=this,n=this.props.style||rI;this.dimensionsCache_={};var r=e.Children.map(this.state.children,(function(n,r){if(n){if(void 0===n.props.latLng&&void 0===n.props.lat&&void 0===n.props.lng)return e.cloneElement(n,{$geoService:t.props.geoService,$onMouseAllow:t._onMouseAllow,$prerender:t.props.prerender});var i=void 0!==n.props.latLng?n.props.latLng:{lat:n.props.lat,lng:n.props.lng},o=t.props.insideMapPanes?t.props.geoService.fromLatLngToDivPixel(i):t.props.geoService.fromLatLngToCenterPixel(i),a={left:o.x,top:o.y};if(void 0!==n.props.seLatLng||void 0!==n.props.seLat&&void 0!==n.props.seLng){var s=void 0!==n.props.seLatLng?n.props.seLatLng:{lat:n.props.seLat,lng:n.props.seLng},u=t.props.insideMapPanes?t.props.geoService.fromLatLngToDivPixel(s):t.props.geoService.fromLatLngToCenterPixel(s);a.width=u.x-o.x,a.height=u.y-o.y}var c=t.props.geoService.fromLatLngToContainerPixel(i),l=null!=n.key?n.key:r;return t.dimensionsCache_[l]=KT({x:c.x,y:c.y},i),e.createElement("div",{key:l,style:KT({},iI,a),className:n.props.$markerHolderClassName},e.cloneElement(n,{$hover:l===t.state.hoverKey,$getDimensions:t._getDimensions,$dimensionKey:l,$geoService:t.props.geoService,$onMouseAllow:t._onMouseAllow,$prerender:t.props.prerender}))}}));return e.createElement("div",{style:n},r)},n}(e.Component);oI.propTypes={geoService:UT().any,style:UT().any,distanceToMouse:UT().func,dispatcher:UT().any,onChildClick:UT().func,onChildMouseDown:UT().func,onChildMouseLeave:UT().func,onChildMouseEnter:UT().func,getHoverDistance:UT().func,insideMapPanes:UT().bool,prerender:UT().bool},oI.defaultProps={insideMapPanes:!1,prerender:!1};var aI={width:"50%",height:"50%",left:"50%",top:"50%",margin:0,padding:0,position:"absolute"};function sI(t){return e.createElement("div",{style:aI},e.createElement(oI,KT({},t,{prerender:!0})))}var uI,cI,lI,hI=new Promise((function(e){lI=e})),fI=function(e,t){if(!e)return hI;if(cI)return cI;e.libraries||(e.libraries=[]);var n=[].concat(e.libraries);if(t&&(0!==n.length&&n.includes("visualization")||n.push("visualization"),console.warn("heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead")),"undefined"==typeof window)throw new Error("google map cannot be loaded outside browser env");var r=e.key,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}(e,["key"]);return uI||(uI=new ZT(KT({apiKey:r||""},i,{libraries:n}))),cI=uI.load().then((function(){return lI(window.google.maps),window.google.maps})),lI(cI),cI};function dI(e,t,n){var r=n-t;return e===n?e:((e-t)%r+r)%r+t}var pI=function(){function e(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t}return e.prototype.wrap=function(){return new e(this.lat,dI(this.lng,-180,180))},e}();pI.convert=function(e){return e instanceof pI?e:Array.isArray(e)?new pI(e[0],e[1]):"lng"in e&&"lat"in e?new pI(e.lat,e.lng):e};var vI=function(){function e(e,t,n){this.tileSize=e||512,this._minZoom=t||0,this._maxZoom=n||52,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this.zoom=0,this.center=new pI(0,0),this.angle=0}var t,n=e.prototype;return n.zoomScale=function(e){return Math.pow(2,e)},n.scaleZoom=function(e){return Math.log(e)/Math.LN2},n.project=function(e,t){return new(WT())(this.lngX(e.lng,t),this.latY(e.lat,t))},n.unproject=function(e,t){return new pI(this.yLat(e.y,t),this.xLng(e.x,t))},n.lngX=function(e,t){return(180+e)*(t||this.worldSize)/360},n.latY=function(e,t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*(t||this.worldSize)/360},n.xLng=function(e,t){return 360*e/(t||this.worldSize)-180},n.yLat=function(e,t){return 360/Math.PI*Math.atan(Math.exp((180-360*e/(t||this.worldSize))*Math.PI/180))-90},n.locationPoint=function(e){var t=this.project(e);return this.centerPoint._sub(this.point._sub(t)._rotate(this.angle))},n.pointLocation=function(e){var t=this.centerPoint._sub(e)._rotate(-this.angle);return this.unproject(this.point.sub(t))},(t=[{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom=e,this.zoom=Math.max(this.zoom,e)}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom=e,this.zoom=Math.min(this.zoom,e)}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerPoint",get:function(){return new(WT())(0,0)}},{key:"size",get:function(){return new(WT())(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){this.angle=-dI(e,-180,180)*Math.PI/180}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}},{key:"x",get:function(){return this.lngX(this.center.lng)}},{key:"y",get:function(){return this.latY(this.center.lat)}},{key:"point",get:function(){return new(WT())(this.x,this.y)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),mI=function(){function e(e){this.hasSize_=!1,this.hasView_=!1,this.transform_=new vI(e||512)}var t=e.prototype;return t.setView=function(e,t,n){this.transform_.center=pI.convert(e),this.transform_.zoom=+t,this.transform_.bearing=+n,this.hasView_=!0},t.setViewSize=function(e,t){this.transform_.width=e,this.transform_.height=t,this.hasSize_=!0},t.setMapCanvasProjection=function(e,t){this.maps_=e,this.mapCanvasProjection_=t},t.canProject=function(){return this.hasSize_&&this.hasView_},t.hasSize=function(){return this.hasSize_},t.fromLatLngToCenterPixel=function(e){return this.transform_.locationPoint(pI.convert(e))},t.fromLatLngToDivPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToDivPixel(t)}return this.fromLatLngToCenterPixel(e)},t.fromLatLngToContainerPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToContainerPixel(t)}var n=this.fromLatLngToCenterPixel(e);return n.x-=this.transform_.worldSize*Math.round(n.x/this.transform_.worldSize),n.x+=this.transform_.width/2,n.y+=this.transform_.height/2,n},t.fromContainerPixelToLatLng=function(e){if(this.mapCanvasProjection_){var t=this.mapCanvasProjection_.fromContainerPixelToLatLng(e);return{lat:t.lat(),lng:t.lng()}}var n=KT({},e);n.x-=this.transform_.width/2,n.y-=this.transform_.height/2;var r=this.transform_.pointLocation(WT().convert(n));return r.lng-=360*Math.round(r.lng/360),r},t.getWidth=function(){return this.transform_.width},t.getHeight=function(){return this.transform_.height},t.getZoom=function(){return this.transform_.zoom},t.getCenter=function(){return this.transform_.pointLocation({x:0,y:0})},t.getBounds=function(e,t){var n=e&&e[0]||0,r=e&&e[1]||0,i=e&&e[2]||0,o=e&&e[3]||0;if(this.getWidth()-r-o>0&&this.getHeight()-n-i>0){var a=this.transform_.pointLocation(WT().convert({x:o-this.getWidth()/2,y:n-this.getHeight()/2})),s=this.transform_.pointLocation(WT().convert({x:this.getWidth()/2-r,y:this.getHeight()/2-i})),u=[a.lat,a.lng,s.lat,s.lng,s.lat,a.lng,a.lat,s.lng];return t&&(u=u.map((function(e){return Math.round(e*t)/t}))),u}return[0,0,0,0]},e}();function gI(e){if(window.requestAnimationFrame)return window.requestAnimationFrame(e);var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?t(e):window.setTimeout(e,1e3/60)}var yI=Math.log2?Math.log2:function(e){return Math.log(e)/Math.LN2};function bI(e,t){return Object.keys(e).reduce((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{})}var _I=function(e){if(null!==e&&"object"==typeof e){if(0===Object.keys(e).length)return!0}else if(null==e||""===e)return!0;return!1},wI=Object.prototype.toString;function xI(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"===wI.call(e)}var SI=null;function EI(){if(SI)return SI;if("undefined"!=typeof navigator){var e=navigator.userAgent.indexOf("MSIE")>-1,t=navigator.userAgent.indexOf("Firefox")>-1,n=navigator.userAgent.toLowerCase().indexOf("op")>-1,r=navigator.userAgent.indexOf("Chrome")>-1,i=navigator.userAgent.indexOf("Safari")>-1;return r&&i&&(i=!1),r&&n&&(r=!1),SI={isExplorer:e,isFirefox:t,isOpera:n,isChrome:r,isSafari:i}}return SI={isChrome:!0,isExplorer:!1,isFirefox:!1,isOpera:!1,isSafari:!1}}var kI=function(e){return Function.prototype.toString.call(e)};function CI(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&kI(n)===kI(Object)}function TI(e,t,n,r){e.addEventListener(t,n,function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()?{capture:r,passive:!0}:r)}var II,NI=!("undefined"==typeof window||!window.document||!window.document.createElement);II=NI?window:"undefined"!=typeof self?self:void 0;var PI,AI="undefined"!=typeof document&&document.attachEvent,RI=!1;if(NI&&!AI){var OI=function(){var e=II.requestAnimationFrame||II.mozRequestAnimationFrame||II.webkitRequestAnimationFrame||function(e){return II.setTimeout(e,20)};return function(t){return e(t)}}(),MI=(PI=II.cancelAnimationFrame||II.mozCancelAnimationFrame||II.webkitCancelAnimationFrame||II.clearTimeout,function(e){return PI(e)}),DI=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},LI=function(e){var t=this;DI(this),this.__resizeRAF__&&MI(this.__resizeRAF__),this.__resizeRAF__=OI((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))},jI=!1,FI="",UI="animationstart",VI="Webkit Moz O ms".split(" "),BI="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" ");if(NI){var zI=document.createElement("fakeelement");if(void 0!==zI.style.animationName&&(jI=!0),!1===jI)for(var qI=0;qI<VI.length;qI++)if(void 0!==zI.style[VI[qI]+"AnimationName"]){FI="-"+VI[qI].toLowerCase()+"-",UI=BI[qI],jI=!0;break}}var ZI="resizeanim",HI="@"+FI+"keyframes "+ZI+" { from { opacity: 0; } to { opacity: 0; } } ",WI=FI+"animation: 1ms "+ZI+"; "}var KI=void 0!==fx.createPortal,GI=KI?fx.createPortal:fx.unstable_renderSubtreeIntoContainer,$I=function(e){return CI(e)?e:{lat:e[0],lng:e[1]}},QI=function(e,t){return t<e?e:t},YI=function(t){function n(n){var r;if((r=t.call(this,n)||this)._getMinZoom=function(){if(r.geoService_.getWidth()>0||r.geoService_.getHeight()>0){var e=Math.ceil(r.geoService_.getWidth()/256)+2,t=Math.ceil(r.geoService_.getHeight()/256)+2,n=Math.max(e,t);return Math.ceil(yI(n))}return 3},r._computeMinZoom=function(e){return _I(e)?r._getMinZoom():e},r._mapDomResizeCallback=function(){if(r.resetSizeOnIdle_=!0,r.maps_){var e=r.props.center||r.props.defaultCenter,t=r.map_.getCenter();r.maps_.event.trigger(r.map_,"resize"),r.map_.setCenter(r.props.resetBoundsOnResize?e:t)}},r._setLayers=function(e){e.forEach((function(e){r.layers_[e]=new r.maps_[e],r.layers_[e].setMap(r.map_)}))},r._renderPortal=function(){return e.createElement(oI,{experimental:r.props.experimental,onChildClick:r._onChildClick,onChildMouseDown:r._onChildMouseDown,onChildMouseEnter:r._onChildMouseEnter,onChildMouseLeave:r._onChildMouseLeave,geoService:r.geoService_,insideMapPanes:!0,distanceToMouse:r.props.distanceToMouse,getHoverDistance:r._getHoverDistance,dispatcher:r.markersDispatcher_})},r._initMap=function(){if(!r.initialized_){r.initialized_=!0;var e=$I(r.props.center||r.props.defaultCenter);r.geoService_.setView(e,r.props.zoom||r.props.defaultZoom,0),r._onBoundsChanged();var t=KT({},r.props.apiKey&&{key:r.props.apiKey},r.props.bootstrapURLKeys);r.props.googleMapLoader(t,r.props.heatmapLibrary).then((function(e){if(r.mounted_){var t,n,i=r.geoService_.getCenter(),o={zoom:r.props.zoom||r.props.defaultZoom,center:new e.LatLng(i.lat,i.lng)};r.props.heatmap.positions&&(Object.assign($T(r),{heatmap:(t=e,n=r.props.heatmap,new t.visualization.HeatmapLayer({data:n.positions.reduce((function(e,n){var r=n.weight,i=void 0===r?1:r;return e.push({location:new t.LatLng(n.lat,n.lng),weight:i}),e}),[])}))}),function(e,t){var n=t.options,r=void 0===n?{}:n;Object.keys(r).map((function(t){return e.set(t,r[t])}))}(r.heatmap,r.props.heatmap));var a=bI(e,CI),s="function"==typeof r.props.options?r.props.options(a):r.props.options,u=!_I(r.props.draggable)&&{draggable:r.props.draggable},c=r._computeMinZoom(s.minZoom);r.minZoom_=c;var l=KT({},{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3},{minZoom:c},s,o);r.defaultDraggableOption_=_I(l.draggable)?r.defaultDraggableOption_:l.draggable;var h=KT({},l,u);h.minZoom=QI(h.minZoom,c);var f=new e.Map(fx.findDOMNode(r.googleMapDom_),h);r.map_=f,r.maps_=e,r._setLayers(r.props.layerTypes);var d=e.version.match(/^3\.(\d+)\./),p=d&&Number(d[1]),v=$T(r),m=Object.assign(new e.OverlayView,{onAdd:function(){var t="undefined"!=typeof screen?screen.width+"px":"2000px",n="undefined"!=typeof screen?screen.height+"px":"2000px",r=document.createElement("div");if(r.style.backgroundColor="transparent",r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width=t,r.style.height=n,v.props.overlayViewDivStyle){var i=v.props.overlayViewDivStyle;"object"==typeof i&&Object.keys(i).forEach((function(e){r.style[e]=i[e]}))}this.getPanes().overlayMouseTarget.appendChild(r),v.geoService_.setMapCanvasProjection(e,m.getProjection()),KI?v.setState({overlay:r}):GI(v,v._renderPortal(),r,(function(){return v.setState({overlay:r})}))},onRemove:function(){var e=v.state.overlay;e&&!KI&&fx.unmountComponentAtNode(e),v.setState({overlay:null})},draw:function(){if(v.updateCounter_++,v._onBoundsChanged(f,e,!v.props.debounced),v.googleApiLoadedCalled_||(v._onGoogleApiLoaded({map:f,maps:e,ref:v.googleMapDom_}),v.googleApiLoadedCalled_=!0),v.mouse_){var t=v.geoService_.fromContainerPixelToLatLng(v.mouse_);v.mouse_.lat=t.lat,v.mouse_.lng=t.lng}v._onChildMouseMove(),v.markersDispatcher_&&(v.markersDispatcher_.emit("kON_CHANGE"),v.fireMouseEventOnIdle_&&v.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"))}});r.overlay_=m,m.setMap(f),r.props.heatmap.positions&&r.heatmap.setMap(f),r.props.onTilesLoaded&&e.event.addListener(f,"tilesloaded",(function(){v._onTilesLoaded()})),e.event.addListener(f,"zoom_changed",(function(){v.geoService_.getZoom()!==f.getZoom()&&(v.zoomAnimationInProgress_||(v.zoomAnimationInProgress_=!0,v._onZoomAnimationStart(f.zoom)),p<32)&&((new Date).getTime()-r.zoomControlClickTime_<300?gI((function(){return gI((function(){v.updateCounter_++,v._onBoundsChanged(f,e)}))})):(v.updateCounter_++,v._onBoundsChanged(f,e)))})),e.event.addListener(f,"idle",(function(){if(r.resetSizeOnIdle_){r._setViewSize();var t=r._computeMinZoom(s.minZoom);t!==r.minZoom_&&(r.minZoom_=t,f.setOptions({minZoom:t})),r.resetSizeOnIdle_=!1}v.zoomAnimationInProgress_&&(v.zoomAnimationInProgress_=!1,v._onZoomAnimationEnd(f.zoom)),v.updateCounter_++,v._onBoundsChanged(f,e),v.dragTime_=0,v.markersDispatcher_&&v.markersDispatcher_.emit("kON_CHANGE")})),e.event.addListener(f,"mouseover",(function(){v.mouseInMap_=!0})),e.event.addListener(f,"click",(function(){v.mouseInMap_=!0})),e.event.addListener(f,"mouseout",(function(){v.mouseInMap_=!1,v.mouse_=null,v.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")})),e.event.addListener(f,"drag",(function(){v.dragTime_=(new Date).getTime(),v._onDrag(f)})),e.event.addListener(f,"dragend",(function(){var t=e.event.addListener(f,"idle",(function(){e.event.removeListener(t),v._onDragEnd(f)}))})),e.event.addListener(f,"maptypeid_changed",(function(){v._onMapTypeIdChange(f.getMapTypeId())}))}})).catch((function(e){throw r._onGoogleApiLoaded({map:null,maps:null,ref:r.googleMapDom_}),console.error(e),e}))}},r._onGoogleApiLoaded=function(){var e;r.props.onGoogleApiLoaded&&(e=r.props).onGoogleApiLoaded.apply(e,arguments)},r._getHoverDistance=function(){return r.props.hoverDistance},r._onDrag=function(){var e;return r.props.onDrag&&(e=r.props).onDrag.apply(e,arguments)},r._onDragEnd=function(){var e;return r.props.onDragEnd&&(e=r.props).onDragEnd.apply(e,arguments)},r._onMapTypeIdChange=function(){var e;return r.props.onMapTypeIdChange&&(e=r.props).onMapTypeIdChange.apply(e,arguments)},r._onZoomAnimationStart=function(){var e;return r.props.onZoomAnimationStart&&(e=r.props).onZoomAnimationStart.apply(e,arguments)},r._onZoomAnimationEnd=function(){var e;return r.props.onZoomAnimationEnd&&(e=r.props).onZoomAnimationEnd.apply(e,arguments)},r._onTilesLoaded=function(){return r.props.onTilesLoaded&&r.props.onTilesLoaded()},r._onChildClick=function(){var e;if(r.props.onChildClick)return(e=r.props).onChildClick.apply(e,arguments)},r._onChildMouseDown=function(e,t){r.childMouseDownArgs_=[e,t],r.props.onChildMouseDown&&r.props.onChildMouseDown(e,t,KT({},r.mouse_))},r._onChildMouseUp=function(){var e;r.childMouseDownArgs_&&(r.props.onChildMouseUp&&(e=r.props).onChildMouseUp.apply(e,r.childMouseDownArgs_.concat([KT({},r.mouse_)])),r.childMouseDownArgs_=null,r.childMouseUpTime_=(new Date).getTime())},r._onChildMouseMove=function(){var e;r.childMouseDownArgs_&&r.props.onChildMouseMove&&(e=r.props).onChildMouseMove.apply(e,r.childMouseDownArgs_.concat([KT({},r.mouse_)]))},r._onChildMouseEnter=function(){var e;if(r.props.onChildMouseEnter)return(e=r.props).onChildMouseEnter.apply(e,arguments)},r._onChildMouseLeave=function(){var e;if(r.props.onChildMouseLeave)return(e=r.props).onChildMouseLeave.apply(e,arguments)},r._setViewSize=function(){if(r.mounted_){if(document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)r.geoService_.setViewSize(window.innerWidth,window.innerHeight);else{var e=fx.findDOMNode(r.googleMapDom_);r.geoService_.setViewSize(e.clientWidth,e.clientHeight)}r._onBoundsChanged()}},r._onWindowResize=function(){r.resetSizeOnIdle_=!0},r._onMapMouseMove=function(e){if(r.mouseInMap_){var t=(new Date).getTime();t-r.mouseMoveTime_>50&&(r.boundingRect_=e.currentTarget.getBoundingClientRect()),r.mouseMoveTime_=t;var n=e.clientX-r.boundingRect_.left,i=e.clientY-r.boundingRect_.top;r.mouse_||(r.mouse_={x:0,y:0,lat:0,lng:0}),r.mouse_.x=n,r.mouse_.y=i;var o=r.geoService_.fromContainerPixelToLatLng(r.mouse_);r.mouse_.lat=o.lat,r.mouse_.lng=o.lng,r._onChildMouseMove(),t-r.dragTime_<100?r.fireMouseEventOnIdle_=!0:(r.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"),r.fireMouseEventOnIdle_=!1)}},r._onClick=function(){var e;return r.props.onClick&&!r.childMouseDownArgs_&&(new Date).getTime()-r.childMouseUpTime_>300&&0===r.dragTime_&&(e=r.props).onClick.apply(e,arguments)},r._onMapClick=function(e){r.markersDispatcher_&&(r._onMapMouseMove(e),(new Date).getTime()-r.dragTime_>100&&(r.mouse_&&r._onClick(KT({},r.mouse_,{event:e})),r.markersDispatcher_.emit("kON_CLICK",e)))},r._onMapMouseDownNative=function(e){r.mouseInMap_&&r._onMapMouseDown(e)},r._onMapMouseDown=function(e){r.markersDispatcher_&&(new Date).getTime()-r.dragTime_>100&&(r._onMapMouseMove(e),r.markersDispatcher_.emit("kON_MDOWN",e))},r._onMapMouseDownCapture=function(){EI().isChrome&&(r.zoomControlClickTime_=(new Date).getTime())},r._onKeyDownCapture=function(){EI().isChrome&&(r.zoomControlClickTime_=(new Date).getTime())},r._isCenterDefined=function(e){return e&&(CI(e)&&xI(e.lat)&&xI(e.lng)||2===e.length&&xI(e[0])&&xI(e[1]))},r._onBoundsChanged=function(e,t,n){if(e){var i=e.getCenter();r.geoService_.setView([i.lat(),i.lng()],e.getZoom(),0)}if((r.props.onChange||r.props.onBoundsChange)&&r.geoService_.canProject()){var o=r.geoService_.getZoom(),a=r.geoService_.getBounds(),s=r.geoService_.getCenter();if(!function(e,t,n){if(e&&t){for(var r=0;r!==e.length;++r)if(Math.abs(e[r]-t[r])>1e-5)return!1;return!0}return!1}(a,r.prevBounds_)&&!1!==n){var u=r.geoService_.getBounds(r.props.margin);r.props.onBoundsChange&&r.props.onBoundsChange(r.centerIsObject_?KT({},s):[s.lat,s.lng],o,a,u),r.props.onChange&&r.props.onChange({center:KT({},s),zoom:o,bounds:{nw:{lat:a[0],lng:a[1]},se:{lat:a[2],lng:a[3]},sw:{lat:a[4],lng:a[5]},ne:{lat:a[6],lng:a[7]}},marginBounds:{nw:{lat:u[0],lng:u[1]},se:{lat:u[2],lng:u[3]},sw:{lat:u[4],lng:u[5]},ne:{lat:u[6],lng:u[7]}},size:r.geoService_.hasSize()?{width:r.geoService_.getWidth(),height:r.geoService_.getHeight()}:{width:0,height:0}}),r.prevBounds_=a}}},r._registerChild=function(e){r.googleMapDom_=e},r.mounted_=!1,r.initialized_=!1,r.googleApiLoadedCalled_=!1,r.map_=null,r.maps_=null,r.prevBounds_=null,r.heatmap=null,r.layers_={},r.mouse_=null,r.mouseMoveTime_=0,r.boundingRect_=null,r.mouseInMap_=!0,r.dragTime_=0,r.fireMouseEventOnIdle_=!1,r.updateCounter_=0,r.markersDispatcher_=new XT($T(r)),r.geoService_=new mI(256),r.centerIsObject_=CI(r.props.center),r.minZoom_=3,r.defaultDraggableOption_=!0,r.zoomControlClickTime_=0,r.childMouseDownArgs_=null,r.childMouseUpTime_=0,r.googleMapDom_=null,r._isCenterDefined(r.props.center||r.props.defaultCenter)){var i=$I(r.props.center||r.props.defaultCenter);r.geoService_.setView(i,r.props.zoom||r.props.defaultZoom,0)}return r.zoomAnimationInProgress_=!1,r.state={overlay:null},r}GT(n,t);var r=n.prototype;return r.componentDidMount=function(){var e=this;this.mounted_=!0,TI(window,"resize",this._onWindowResize,!1),TI(window,"keydown",this._onKeyDownCapture,!0);var t=fx.findDOMNode(this.googleMapDom_);t&&TI(t,"mousedown",this._onMapMouseDownNative,!0),TI(window,"mouseup",this._onChildMouseUp,!1);var n=KT({},this.props.apiKey&&{key:this.props.apiKey},this.props.bootstrapURLKeys);this.props.googleMapLoader(n,this.props.heatmapLibrary),setTimeout((function(){e._setViewSize(),e._isCenterDefined(e.props.center||e.props.defaultCenter)&&e._initMap()}),0,this),this.props.resetBoundsOnResize&&function(e,t){if(void 0===e.parentNode){var n=document.createElement("div");e.parentNode=n}e=e.parentNode,AI?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!RI){var e=(HI||"")+".resize-triggers { "+(WI||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),RI=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),DI(e),TI(e,"scroll",LI,!0),UI&&e.__resizeTriggers__.addEventListener(UI,(function(t){t.animationName==ZI&&DI(e)}))),e.__resizeListeners__.push(t))}(t,this._mapDomResizeCallback)},r.shouldComponentUpdate=function(e,t){return!nI(JT(this.props,["draggable"]),JT(e,["draggable"]))||!nI(this.state,t)},r.componentDidUpdate=function(e){var t=this;if(!this._isCenterDefined(e.center)&&this._isCenterDefined(this.props.center)&&setTimeout((function(){return t._initMap()}),0),this.map_){var n=this.geoService_.getCenter();if(this._isCenterDefined(this.props.center)){var r=$I(this.props.center),i=this._isCenterDefined(e.center)?$I(e.center):null;(!i||Math.abs(r.lat-i.lat)+Math.abs(r.lng-i.lng)>1e-5)&&Math.abs(r.lat-n.lat)+Math.abs(r.lng-n.lng)>1e-5&&this.map_.panTo({lat:r.lat,lng:r.lng})}if(_I(this.props.zoom)||Math.abs(this.props.zoom-e.zoom)>0&&this.map_.setZoom(this.props.zoom),!_I(e.draggable)&&_I(this.props.draggable)?this.map_.setOptions({draggable:this.defaultDraggableOption_}):nI(e.draggable,this.props.draggable)||this.map_.setOptions({draggable:this.props.draggable}),!_I(this.props.options)&&!nI(e.options,this.props.options)){var o=bI(this.maps_,CI),a="function"==typeof this.props.options?this.props.options(o):this.props.options;if("minZoom"in(a=JT(a,["zoom","center","draggable"]))){var s=this._computeMinZoom(a.minZoom);a.minZoom=QI(a.minZoom,s)}this.map_.setOptions(a)}nI(this.props.layerTypes,e.layerTypes)||(Object.keys(this.layers_).forEach((function(e){t.layers_[e].setMap(null),delete t.layers_[e]})),this._setLayers(this.props.layerTypes)),this.heatmap&&!nI(this.props.heatmap.positions,e.heatmap.positions)&&this.heatmap.setData(this.props.heatmap.positions.map((function(e){return{location:new t.maps_.LatLng(e.lat,e.lng),weight:e.weight}}))),this.heatmap&&!nI(this.props.heatmap.options,e.heatmap.options)&&Object.keys(this.props.heatmap.options).forEach((function(e){t.heatmap.set(e,t.props.heatmap.options[e])}))}this.markersDispatcher_.emit("kON_CHANGE"),nI(this.props.hoverDistance,e.hoverDistance)||this.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")},r.componentWillUnmount=function(){this.mounted_=!1;var e,t,n=fx.findDOMNode(this.googleMapDom_);n&&n.removeEventListener("mousedown",this._onMapMouseDownNative,!0),window.removeEventListener("resize",this._onWindowResize),window.removeEventListener("keydown",this._onKeyDownCapture),window.removeEventListener("mouseup",this._onChildMouseUp,!1),this.props.resetBoundsOnResize&&(t=this._mapDomResizeCallback,e=(e=n).parentNode,AI?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",LI),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))),this.overlay_&&this.overlay_.setMap(null),this.maps_&&this.map_&&this.props.shouldUnregisterMapOnUnmount&&(this.map_.setOptions({scrollwheel:!1}),this.maps_.event.clearInstanceListeners(this.map_)),this.props.shouldUnregisterMapOnUnmount&&(this.map_=null,this.maps_=null),this.markersDispatcher_.dispose(),this.resetSizeOnIdle_=!1,this.props.shouldUnregisterMapOnUnmount&&(delete this.map_,delete this.markersDispatcher_)},r.render=function(){var t=this.state.overlay,n=t?null:e.createElement(sI,{experimental:this.props.experimental,onChildClick:this._onChildClick,onChildMouseDown:this._onChildMouseDown,onChildMouseEnter:this._onChildMouseEnter,onChildMouseLeave:this._onChildMouseLeave,geoService:this.geoService_,insideMapPanes:!1,distanceToMouse:this.props.distanceToMouse,getHoverDistance:this._getHoverDistance,dispatcher:this.markersDispatcher_});return e.createElement("div",{style:this.props.style,onMouseMove:this._onMapMouseMove,onMouseDownCapture:this._onMapMouseDownCapture,onClick:this._onMapClick},e.createElement(YT,{registerChild:this._registerChild}),KI&&t&&GI(this._renderPortal(),t),n)},n}(e.Component);YI.propTypes={apiKey:UT().string,bootstrapURLKeys:UT().any,defaultCenter:UT().oneOfType([UT().array,UT().shape({lat:UT().number,lng:UT().number})]),center:UT().oneOfType([UT().array,UT().shape({lat:UT().number,lng:UT().number})]),defaultZoom:UT().number,zoom:UT().number,onBoundsChange:UT().func,onChange:UT().func,onClick:UT().func,onChildClick:UT().func,onChildMouseDown:UT().func,onChildMouseUp:UT().func,onChildMouseMove:UT().func,onChildMouseEnter:UT().func,onChildMouseLeave:UT().func,onZoomAnimationStart:UT().func,onZoomAnimationEnd:UT().func,onDrag:UT().func,onDragEnd:UT().func,onMapTypeIdChange:UT().func,onTilesLoaded:UT().func,options:UT().any,distanceToMouse:UT().func,hoverDistance:UT().number,debounced:UT().bool,margin:UT().array,googleMapLoader:UT().any,onGoogleApiLoaded:UT().func,yesIWantToUseGoogleMapApiInternals:UT().bool,draggable:UT().bool,style:UT().any,resetBoundsOnResize:UT().bool,layerTypes:UT().arrayOf(UT().string),shouldUnregisterMapOnUnmount:UT().bool},YI.defaultProps={distanceToMouse:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},hoverDistance:30,debounced:!0,options:function(){return{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3}},googleMapLoader:fI,yesIWantToUseGoogleMapApiInternals:!1,style:{width:"100%",height:"100%",margin:0,padding:0,position:"relative"},layerTypes:[],heatmap:{},heatmapLibrary:!1,shouldUnregisterMapOnUnmount:!0},YI.googleMapLoader=fI;var XI=YI;function JI(e){var t=e.data,n={center:{lat:40.7596198,lng:-111.8867975},zoom:5},r=function(e){var t=e.text,n=e.id;return(0,Ze.jsxs)("div",{className:"pin_container",children:[(0,Ze.jsx)(tt.Z,{className:"map_pin",onClick:function(){return function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}(n)}}),(0,Ze.jsx)("div",{className:"pin_name",children:t})]})};return(0,Ze.jsx)("div",{className:"map",children:(0,Ze.jsx)(XI,{bootstrapURLKeys:{key:"AIzaSyDYhXbjGdmR6Lgd-9FHo4t163UCS4KxdtE"},defaultCenter:n.center,defaultZoom:n.zoom,children:t.map((function(e){return(0,Ze.jsx)(r,{lat:e.lat,lng:e.lng,text:e.location,id:e.id})}))})})}var eN=function(){var t=Ke(),n=(0,i.Z)(t,2),r=n[0].carsResults,o=n[1];return(0,e.useEffect)((function(){0===r.length&&iw.collection("cars").get().then((function(e){var t=e.docs.map((function(e){return et(et({},e.data()),{},{carId:e.id})})),n=t.map((function(e){return Number(e.price)})),r=Math.min.apply(Math,(0,a.Z)(n)),i=Math.max.apply(Math,(0,a.Z)(n)),s=t.map((function(e){return Number(e.odometer)})),u=Math.min.apply(Math,(0,a.Z)(s)),c=Math.max.apply(Math,(0,a.Z)(s));o({type:"SET_CARS_RESULTS",carsResults:t}),o({type:"SET_MIN_MAX_PRICE_FILTER",minMaxPrice:[r,i]}),o({type:"SET_MIN_MAX_MILEAGE_FILTER",minMaxMileage:[u,c]})})).catch((function(e){console.log("Error fetching the DB",e)}))}),[]),(0,e.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),(0,Ze.jsx)("div",{className:"salesRepresentativesContainer",children:(0,Ze.jsxs)("main",{className:"salesRepresentatives_main",children:[(0,Ze.jsx)("h1",{className:"main_h1",children:"Sales Representatives"}),(0,Ze.jsxs)("div",{className:"salesRepresentatives_main_div",children:[(0,Ze.jsx)("section",{className:"main_section_representatives",children:(0,Ze.jsx)("div",{className:"sales-scrollbarSeparation",children:(0,Ze.jsx)("ul",{id:"salesRepresentatives_ul",children:ow.map((function(e){return(0,Ze.jsx)(jT,et({},e))}))})})}),(0,Ze.jsxs)("section",{className:"main_section_map",children:[(0,Ze.jsxs)("h2",{className:"salesRepresentatives_section_h2",children:[" ","Find your Dealer"]}),(0,Ze.jsx)(JI,{data:ow})]})]})]})})};var tN=function(){var t=Ke(),n=(0,i.Z)(t,2),r=n[0].carsResults,o=n[1];return(0,e.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),(0,e.useEffect)((function(){0===r.length&&iw.collection("cars").get().then((function(e){var t=e.docs.map((function(e){return et(et({},e.data()),{},{carId:e.id})})),n=t.map((function(e){return Number(e.price)})),r=Math.min.apply(Math,(0,a.Z)(n)),i=Math.max.apply(Math,(0,a.Z)(n)),s=t.map((function(e){return Number(e.odometer)})),u=Math.min.apply(Math,(0,a.Z)(s)),c=Math.max.apply(Math,(0,a.Z)(s));o({type:"SET_CARS_RESULTS",carsResults:t}),o({type:"SET_MIN_MAX_PRICE_FILTER",minMaxPrice:[r,i]}),o({type:"SET_MIN_MAX_MILEAGE_FILTER",minMaxMileage:[u,c]})})).catch((function(e){console.log("Error fetching the DB",e)}))}),[]),(0,Ze.jsxs)("div",{className:"aboutUsMainContainer",children:[(0,Ze.jsx)("div",{className:"aboutUsContainer",children:(0,Ze.jsxs)("div",{className:"about-us-h1-info-wrap",children:[(0,Ze.jsx)("h1",{className:"about-us-h1-title",children:"About Us"}),(0,Ze.jsx)("div",{className:"about-us-info-wrap",children:(0,Ze.jsx)("div",{className:"aboutus-scrollbarSeparation",children:(0,Ze.jsxs)("p",{className:"about-us-p",children:[(0,Ze.jsx)("h2",{className:"aboutUsSubtitle",children:"Our purpose"})," Carstro\xae was founded with the purpose of becoming the leading provider of used car buyers and dealers. Our vehicle database is the largest in North America, providing confidence and the very best deals to millions of customers per year.",(0,Ze.jsx)("br",{}),(0,Ze.jsx)("br",{}),(0,Ze.jsx)("h2",{className:"aboutUsSubtitle",children:"Our experience"})," Our 50 years of experience in the market show that there is no better place to get both an excellent quality car and a great price. These years also allow us to guide customers better than any other company in their search for their dream.",(0,Ze.jsx)("br",{}),(0,Ze.jsx)("br",{}),(0,Ze.jsx)("h2",{className:"aboutUsSubtitle",children:"The benefits"})," In addition to having the most extensive inventory of vehicles from dealerships and private sellers, Carstro's\xae website offers you:",(0,Ze.jsx)("br",{}),(0,Ze.jsx)("br",{}),(0,Ze.jsxs)("ul",{class:"checkmark",children:[(0,Ze.jsx)("li",{children:"\u2713 Resources and tools to compare vehicles"}),(0,Ze.jsx)("br",{}),(0,Ze.jsx)("li",{children:"\u2713 Accurate photographs of our cars"}),(0,Ze.jsx)("br",{}),(0,Ze.jsx)("li",{children:"\u2713 Calculators able to adjust to your needs"}),(0,Ze.jsx)("br",{}),(0,Ze.jsx)("li",{children:"\u2713 Reports on the history and safety information of each car"}),(0,Ze.jsx)("br",{}),(0,Ze.jsx)("li",{children:"\u2713 Assistance with financing initiatives, insurance, and guarantees"})]}),(0,Ze.jsx)("br",{}),(0,Ze.jsx)("br",{}),(0,Ze.jsx)("h2",{className:"aboutUsSubtitle",children:"Still lost?"}),"Not sure where to start? That is perfectly fine!",(0,Ze.jsx)("br",{})," We have",(0,Ze.jsxs)("a",{className:"aboutUsLinkSalesR",href:"/salesRepresentatives",children:[" ","representatives"]})," ","who are eager to guide you through this process. Schedule an appointment today at no cost!"]})})})]})}),(0,Ze.jsxs)("div",{className:"about-us-our-team",children:[(0,Ze.jsx)("h2",{className:"about-us-team-h2-title",children:"Our People"}),(0,Ze.jsx)("div",{className:"aboutUs_representativesContainer",children:ow.map((function(e){return(0,Ze.jsxs)("div",{className:"about-us-card-representative",children:[(0,Ze.jsx)("img",{src:e.image,alt:"Representative Name"}),(0,Ze.jsx)("p",{children:e.name}),(0,Ze.jsx)("p",{children:e.position})]})}))})]})]})},nN=n(260);var rN=function(){return(0,Ze.jsx)("svg",{style:{height:"36px"},viewBox:"0 0 24 24",children:(0,Ze.jsx)("path",{fill:"currentColor",d:"M18,10A1,1 0 0,1 17,9A1,1 0 0,1 18,8A1,1 0 0,1 19,9A1,1 0 0,1 18,10M12,10H6V5H12M19.77,7.23L19.78,7.22L16.06,3.5L15,4.56L17.11,6.67C16.17,7 15.5,7.93 15.5,9A2.5,2.5 0 0,0 18,11.5C18.36,11.5 18.69,11.42 19,11.29V18.5A1,1 0 0,1 18,19.5A1,1 0 0,1 17,18.5V14C17,12.89 16.1,12 15,12H14V5C14,3.89 13.1,3 12,3H6C4.89,3 4,3.89 4,5V21H14V13.5H15.5V18.5A2.5,2.5 0 0,0 18,21A2.5,2.5 0 0,0 20.5,18.5V9C20.5,8.31 20.22,7.68 19.77,7.23Z"})})};var iN=function(){return(0,Ze.jsx)("svg",{style:{height:"36px"},viewBox:"0 0 24 24",children:(0,Ze.jsx)("path",{fill:"currentColor",d:"M8,10H16V18H11L9,16H7V11M7,4V6H10V8H7L5,10V13H3V10H1V18H3V15H5V18H8L10,20H18V16H20V19H23V9H20V12H18V8H12V6H15V4H7Z"})})};var oN=function(){return(0,Ze.jsx)("svg",{style:{height:"36px"},viewBox:"0 0 24 24",children:(0,Ze.jsx)("path",{fill:"currentColor",d:"M8 5H4V2H8V5M4 22H8V19H4V22M14 2H10V5H14V2M10 22H14V19H10V22M16 2V5H20V2H16M17 11H13V7H11V11H7V7H5V17H7V13H11V17H13V13H19V7H17V11Z"})})};var aN=function(){return(0,Ze.jsx)("svg",{style:{height:"36px"},viewBox:"0 0 24 24",children:(0,Ze.jsx)("path",{fill:"currentColor",d:"M5 18C5 18 2 10 2 6S4 2 4 2H5C5 2 6 2 6 3S5 4 5 6 8 10 8 13 5 18 5 18M15 17C16.1 17 17 17.9 17 19V20C17 21.1 16.1 22 15 22H9C7 22 6 20.2 6 20.2C5.8 20 5.7 19.6 6 19.4C6 19.4 9 16.9 10 16.9H15M13.7 3.4L12.3 6.8L13.7 10.2L11.7 15L10 13.6L11.4 10.2L10 6.8L12 2L13.7 3.4M17.9 3.4L16.5 6.8L17.9 10.2L15.9 15L14.2 13.6L15.6 10.2L14.2 6.8L16.2 2L17.9 3.4M22 3.4L20.6 6.8L22 10.2L20 15L18.3 13.6L19.7 10.2L18.3 6.8L20.3 2L22 3.4"})})};var sN=function(){return(0,Ze.jsx)("svg",{style:{height:"36px"},viewBox:"0 0 24 24",children:(0,Ze.jsx)("path",{fill:"currentColor",d:"M24,12C24,15.31 22.66,18.31 20.5,20.5L19.42,19.42C21.32,17.5 22.5,14.9 22.5,12C22.5,9.11 21.32,6.5 19.42,4.58L20.5,3.5C22.66,5.69 24,8.69 24,12M20,9.6V8H16.8C15.92,8 15.2,8.72 15.2,9.6V11.2A1.6,1.6 0 0,0 16.8,12.8H18.4V14.4H15.2V16H18.4C19.28,16 20,15.28 20,14.4V12.8A1.6,1.6 0 0,0 18.4,11.2H16.8V9.6H20M8.42,6C9.47,5.37 10.69,5 12,5C13.31,5 14.53,5.37 15.58,6H18.69C17.05,4.16 14.66,3 12,3C9.34,3 6.95,4.16 5.31,6H8.42M13.2,12C13.84,12 14.4,12.56 14.4,13.2V14.4A1.6,1.6 0 0,1 12.8,16H9.6V8H12.8A1.6,1.6 0 0,1 14.4,9.6V10.8C14.4,11.44 13.84,12 13.2,12M12.8,12.8H11.2V14.4H12.8V12.8M12.8,9.6H11.2V11.2H12.8V9.6M4.58,4.58L3.5,3.5C1.34,5.69 0,8.69 0,12C0,15.31 1.34,18.31 3.5,20.5L4.58,19.42C2.68,17.5 1.5,14.9 1.5,12C1.5,9.11 2.68,6.5 4.58,4.58M7.2,16V12.8H5.6V16H4V9.6A1.6,1.6 0 0,1 5.6,8H7.2C8.08,8 8.8,8.72 8.8,9.6V16H7.2M7.2,11.2V9.6H5.6V11.2H7.2M15.58,18C14.53,18.63 13.31,19 12,19C10.69,19 9.47,18.63 8.42,18H5.31C6.95,19.84 9.34,21 12,21C14.66,21 17.05,19.84 18.69,18H15.58Z"})})};var uN=function(){return(0,Ze.jsx)("svg",{style:{height:"36px"},viewBox:"0 0 24 24",children:(0,Ze.jsx)("path",{fill:"currentColor",d:"M12,16A3,3 0 0,1 9,13C9,11.88 9.61,10.9 10.5,10.39L20.21,4.77L14.68,14.35C14.18,15.33 13.17,16 12,16M12,3C13.81,3 15.5,3.5 16.97,4.32L14.87,5.53C14,5.19 13,5 12,5A8,8 0 0,0 4,13C4,15.21 4.89,17.21 6.34,18.65H6.35C6.74,19.04 6.74,19.67 6.35,20.06C5.96,20.45 5.32,20.45 4.93,20.07V20.07C3.12,18.26 2,15.76 2,13A10,10 0 0,1 12,3M22,13C22,15.76 20.88,18.26 19.07,20.07V20.07C18.68,20.45 18.05,20.45 17.66,20.06C17.27,19.67 17.27,19.04 17.66,18.65V18.65C19.11,17.2 20,15.21 20,13C20,12 19.81,11 19.46,10.1L20.67,8C21.5,9.5 22,11.18 22,13Z"})})},cN=function(){return cN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cN.apply(this,arguments)};function lN(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}var hN=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},fN={k:1e3,m:1e6,b:1e9},dN=function(e){var t=e.value,n=e.groupSeparator,r=void 0===n?",":n,i=e.decimalSeparator,o=void 0===i?".":i,a=e.allowDecimals,s=void 0===a||a,u=e.decimalsLimit,c=void 0===u?2:u,l=e.allowNegativeValue,h=void 0===l||l,f=e.disableAbbreviations,d=void 0!==f&&f,p=e.prefix,v=void 0===p?"":p,m=e.transformRawValue,g=(void 0===m?function(e){return e}:m)(t);if("-"===g)return g;var y=d?[]:["k","m","b"],b=new RegExp("((^|\\D)-\\d)|(-"+hN(v)+")").test(g),_=RegExp("(\\d+)-?"+hN(v)).exec(t)||[],w=_[0],x=_[1],S=function(e,t){void 0===t&&(t=",");var n=new RegExp(hN(t),"g");return e.replace(n,"")}(v?w?g.replace(w,"").concat(x):g.replace(v,""):g,r),E=function(e,t){var n=hN(t.join("")),r=new RegExp("[^\\d"+n+"]","gi");return e.replace(r,"")}(S,lN([r,o],y)),k=E;if(!d){if(y.some((function(e){return e===E.toLowerCase()})))return"";var C=function(e,t){void 0===t&&(t=".");var n=new RegExp("(\\d+("+hN(t)+"\\d*)?)([kmb])$","i"),r=e.match(n);if(r){var i=r[1],o=r[3],a=fN[o.toLowerCase()];return Number(i.replace(t,"."))*a}}(E,o);C&&(k=String(C))}var T=b&&h?"-":"";if(o&&k.includes(o)){var I=E.split(o),N=I[0],P=I[1],A=c&&P?P.slice(0,c):P;return""+T+N+(s?""+o+A:"")}return""+T+k},pN=function(e,t){var n=t.groupSeparator,r=void 0===n?",":n,i=t.decimalSeparator,o=void 0===i?".":i,a=new RegExp("\\d([^"+hN(r)+hN(o)+"0-9]+)"),s=e.match(a);return s?s[1]:void 0},vN=function(e){var t=e.value,n=e.decimalSeparator,r=e.intlConfig,i=e.decimalScale,o=e.prefix,a=void 0===o?"":o,s=e.suffix,u=void 0===s?"":s;if(""===t||void 0===t)return"";if("-"===t)return"-";var c=new RegExp("^\\d?-"+(a?hN(a)+"?":"")+"\\d").test(t),l="."!==n?mN(t,n,c):t,h={minimumFractionDigits:i||0,maximumFractionDigits:20},f=(r?new Intl.NumberFormat(r.locale,r.currency?cN(cN({},h),{style:"currency",currency:r.currency}):h):new Intl.NumberFormat(void 0,h)).formatToParts(Number(l)),d=gN(f,e),p=pN(d,cN({},e)),v=t.slice(-1)===n?n:"",m=(l.match(RegExp("\\d+\\.(\\d+)"))||[])[1];return void 0===i&&m&&n&&(d=d.includes(n)?d.replace(RegExp("(\\d+)("+hN(n)+")(\\d+)","g"),"$1$2"+m):p&&!u?d.replace(p,""+n+m+p):""+d+n+m),u&&v?""+d+v+u:p&&v?d.replace(p,""+v+p):p&&u?d.replace(p,""+v+u):[d,v,u].join("")},mN=function(e,t,n){var r=e;return t&&"."!==t&&(r=r.replace(RegExp(hN(t),"g"),"."),n&&"-"===t&&(r="-"+r.slice(1))),r},gN=function(e,t){var n=t.prefix,r=t.groupSeparator,i=t.decimalSeparator,o=t.decimalScale,a=t.disableGroupSeparators,s=void 0!==a&&a;return e.reduce((function(e,t,a){var u=t.type,c=t.value;return 0===a&&n?"minusSign"===u?[c,n]:"currency"===u?lN(lN([],e),[n]):[n,c]:"currency"===u?n?e:lN(lN([],e),[c]):"group"===u?s?e:lN(lN([],e),[void 0!==r?r:c]):"decimal"===u?void 0!==o&&0===o?e:lN(lN([],e),[void 0!==i?i:c]):lN(lN([],e),"fraction"===u?[void 0!==o?c.slice(0,o):c]:[c])}),[""]).join("")},yN={currencySymbol:"",groupSeparator:"",decimalSeparator:"",prefix:"",suffix:""},bN=function(e){return RegExp(/\d/,"gi").test(e)},_N=(0,e.forwardRef)((function(t,n){var r=t.allowDecimals,i=void 0===r||r,o=t.allowNegativeValue,a=void 0===o||o,s=t.id,u=t.name,c=t.className,l=t.customInput,h=t.decimalsLimit,f=t.defaultValue,d=t.disabled,p=void 0!==d&&d,v=t.maxLength,m=t.value,g=t.onValueChange,y=t.fixedDecimalLength,b=t.placeholder,_=t.decimalScale,w=t.prefix,x=t.suffix,S=t.intlConfig,E=t.step,k=t.min,C=t.max,T=t.disableGroupSeparators,I=void 0!==T&&T,N=t.disableAbbreviations,P=void 0!==N&&N,A=t.decimalSeparator,R=t.groupSeparator,O=t.onChange,M=t.onFocus,D=t.onBlur,L=t.onKeyDown,j=t.onKeyUp,F=t.transformRawValue,U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["allowDecimals","allowNegativeValue","id","name","className","customInput","decimalsLimit","defaultValue","disabled","maxLength","value","onValueChange","fixedDecimalLength","placeholder","decimalScale","prefix","suffix","intlConfig","step","min","max","disableGroupSeparators","disableAbbreviations","decimalSeparator","groupSeparator","onChange","onFocus","onBlur","onKeyDown","onKeyUp","transformRawValue"]);if(A&&bN(A))throw new Error("decimalSeparator cannot be a number");if(R&&bN(R))throw new Error("groupSeparator cannot be a number");var V=(0,e.useMemo)((function(){return function(e){var t=e||{},n=t.locale,r=t.currency;return(n?new Intl.NumberFormat(n,r?{currency:r,style:"currency"}:void 0):new Intl.NumberFormat).formatToParts(1000.1).reduce((function(e,t,n){return"currency"===t.type?cN(cN({},e),0===n?{currencySymbol:t.value,prefix:t.value}:{currencySymbol:t.value,suffix:t.value}):"group"===t.type?cN(cN({},e),{groupSeparator:t.value}):"decimal"===t.type?cN(cN({},e),{decimalSeparator:t.value}):e}),yN)}(S)}),[S]),B=A||V.decimalSeparator||"",z=R||V.groupSeparator||"";if(B&&z&&B===z&&!1===I)throw new Error("decimalSeparator cannot be the same as groupSeparator");var q={decimalSeparator:B,groupSeparator:z,disableGroupSeparators:I,intlConfig:S,prefix:w||V.prefix,suffix:x},Z={decimalSeparator:B,groupSeparator:z,allowDecimals:i,decimalsLimit:h||y||2,allowNegativeValue:a,disableAbbreviations:P,prefix:w||V.prefix,transformRawValue:F},H=void 0!==f&&null!==f?vN(cN(cN({},q),{decimalScale:_,value:String(f)})):void 0!==m&&null!==m?vN(cN(cN({},q),{decimalScale:_,value:String(m)})):"",W=(0,e.useState)(H),K=W[0],G=W[1],$=(0,e.useState)(!1),Q=$[0],Y=$[1],X=(0,e.useState)(0),J=X[0],ee=X[1],te=(0,e.useState)(0),ne=te[0],re=te[1],ie=(0,e.useState)(null),oe=ie[0],ae=ie[1],se=n||(0,e.useRef)(null),ue=function(e,t){Y(!0);var n=function(e){var t=e.selectionStart,n=e.value,r=e.lastKeyStroke,i=e.stateValue,o=e.groupSeparator,a=t,s=n;if(i&&a){var u=n.split("");return"Backspace"===r&&i[a]===o&&(u.splice(a-1,1),a-=1),"Delete"===r&&i[a]===o&&(u.splice(a,1),a+=1),{modifiedValue:s=u.join(""),cursorPosition:a}}return{modifiedValue:s,cursorPosition:t}}({selectionStart:t,value:e,lastKeyStroke:oe,stateValue:K,groupSeparator:z}),r=n.modifiedValue,i=n.cursorPosition,o=dN(cN({value:r},Z));if(!(v&&o.replace(/-/g,"").length>v)){if(""===o||"-"===o||o===B)return g&&g(void 0,u,{float:null,formatted:"",value:""}),void G(o);var a=B?o.replace(B,"."):o,s=parseFloat(a),c=vN(cN({value:o},q));if(void 0!==i&&null!==i){var l=i+(c.length-e.length);l=l<=0?w?w.length:0:l,ee(l),re(ne+1)}if(G(c),g)g(o,u,{float:s,formatted:c,value:o})}};(0,e.useEffect)((function(){Q&&"-"!==K&&se&&"object"===typeof se&&se.current&&document.activeElement===se.current&&se.current.setSelectionRange(J,J)}),[K,J,se,Q,ne]);var ce=cN({type:"text",inputMode:"decimal",id:s,name:u,className:c,onChange:function(e){var t=e.target,n=t.value,r=t.selectionStart;ue(n,r),O&&O(e)},onBlur:function(e){var t=e.target.value,n=dN(cN({value:t},Z));if("-"===n||!n)return G(""),void(D&&D(e));var r=function(e,t,n){if(n&&e.length>1){if(e.includes(t)){var r=e.split(t),i=r[0];if((o=r[1]).length>n)return""+i+t+o.slice(0,n)}var o,a=e.length>n?new RegExp("(\\d+)(\\d{"+n+"})"):new RegExp("(\\d)(\\d+)"),s=e.match(a);if(s)return""+(i=s[1])+t+s[2]}return e}(n,B,y),i=function(e,t,n){if(void 0===t&&(t="."),void 0===n||""===e||void 0===e)return e;if(!e.match(/\d/g))return"";var r=e.split(t),i=r[0],o=r[1];if(0===n)return i;var a=o||"";if(a.length<n)for(;a.length<n;)a+="0";else a=a.slice(0,n);return""+i+t+a}(r,B,void 0!==_?_:y),o=parseFloat(i.replace(B,".")),a=vN(cN(cN({},q),{value:i}));g&&g(i,u,{float:o,formatted:a,value:i}),G(a),D&&D(e)},onFocus:function(e){return M&&M(e),K?K.length:0},onKeyDown:function(e){var t=e.key;if(ae(t),E&&("ArrowUp"===t||"ArrowDown"===t)){e.preventDefault(),ee(K.length);var n=parseFloat(void 0!==m&&null!==m?String(m).replace(B,"."):dN(cN({value:K},Z)))||0,r="ArrowUp"===t?n+E:n-E;if(void 0!==k&&r<k)return;if(void 0!==C&&r>C)return;var i=String(E).includes(".")?Number(String(E).split(".")[1].length):void 0;ue(String(i?r.toFixed(i):r).replace(".",B))}L&&L(e)},onKeyUp:function(e){var t=e.key,n=e.currentTarget.selectionStart;if("ArrowUp"!==t&&"ArrowDown"!==t&&"-"!==K){var r=pN(K,{groupSeparator:z,decimalSeparator:B});if(r&&n&&n>K.length-r.length&&se&&"object"===typeof se&&se.current){var i=K.length-r.length;se.current.setSelectionRange(i,i)}}j&&j(e)},placeholder:b,disabled:p,value:void 0===m||null===m||"-"===K||B&&K===B?K:vN(cN(cN({},q),{decimalScale:Q?void 0:_,value:String(m)})),ref:se},U);if(l){var le=l;return e.createElement(le,cN({},ce))}return e.createElement("input",cN({},ce))}));_N.displayName="CurrencyInput";var wN=_N,xN=n(835),SN=n(4137);var EN=function(t){var n=t.className,r=t.carInfo,o=(0,e.useState)(6.96),a=(0,i.Z)(o,2),s=a[0],u=a[1],c=(0,e.useState)(24),l=(0,i.Z)(c,2),h=l[0],f=l[1],d=(0,e.useState)(5e3),p=(0,i.Z)(d,2),v=p[0],m=p[1],g=(0,e.useState)(0),y=(0,i.Z)(g,2),b=y[0],_=y[1],w=(0,e.useState)(0),x=(0,i.Z)(w,2),S=x[0],E=x[1];return(0,e.useEffect)((function(){var e=+r.price-v,t=+s/12/100,n=+h,i=e*(t*Math.pow(1+t,n))/(Math.pow(1+t,n)-1);_(i)}),[r.price,v,s,h]),(0,e.useEffect)((function(){window.addEventListener("resize",(function(){E(window.innerWidth)}))}),[]),(0,Ze.jsxs)("section",{className:"".concat(n," loanCalculator_container"),children:[(0,Ze.jsxs)("div",{className:"loanCalculator_estimator",children:[(0,Ze.jsxs)("h2",{children:["Payment Estimator ",r.year," ",r.brand]}),S>=720&&(0,Ze.jsxs)("div",{className:"loanCalculator_estimator-details",children:[(0,Ze.jsxs)("div",{className:"loanCalculator_estimator-vin",children:["VIN#: ",r.vin]}),(0,Ze.jsx)("div",{className:"loanCalculator_estimator-divider"}),(0,Ze.jsxs)("div",{className:"loanCalculator_estimator-mileage",children:["Mileage:"," ",(0,Ze.jsx)(yE(),{value:r.odometer,displayType:"text",thousandSeparator:!0})]}),(0,Ze.jsx)("div",{className:"loanCalculator_estimator-divider"}),(0,Ze.jsxs)("div",{className:"loanCalculator_estimator-price",children:[(0,Ze.jsx)(yE(),{value:r.price,displayType:"text",thousandSeparator:!0,prefix:"$"})," ","Estimated Price"]})]}),(0,Ze.jsxs)("div",{className:"loanCalculator_calculator",children:[(0,Ze.jsxs)("div",{className:"loanCalculator_field",children:[(0,Ze.jsx)("label",{children:"Estimated Credit Score"}),(0,Ze.jsxs)("select",{onChange:function(e){u(e.target.value)},children:[(0,Ze.jsx)("option",{value:6.96,children:"Excellent 720+"}),(0,Ze.jsx)("option",{value:7.9,children:"Great 719-690"}),(0,Ze.jsx)("option",{value:10.42,children:"Very Good 689-670"}),(0,Ze.jsx)("option",{value:10.83,children:"Good 669-650"}),(0,Ze.jsx)("option",{value:11.84,children:"Fair 649-630"}),(0,Ze.jsx)("option",{value:14.34,children:"Poor 629-610"}),(0,Ze.jsx)("option",{value:16.74,children:"Poor 609-580"}),(0,Ze.jsx)("option",{value:20.61,children:"Extremely Poor 579-520"})]}),(0,Ze.jsx)(SN.Z,{})]}),(0,Ze.jsxs)("div",{className:"loanCalculator_field",children:[(0,Ze.jsx)("label",{children:"Cash Down"}),(0,Ze.jsx)(wN,{name:"cashDown",placeholder:"$5,000",defaultValue:5e3,allowDecimals:!1,allowNegativeValue:!1,onValueChange:function(e){m(e)},prefix:"$"})]}),(0,Ze.jsxs)("div",{className:"loanCalculator_field",children:[(0,Ze.jsx)("label",{children:"Term Length"}),(0,Ze.jsxs)("select",{onChange:function(e){f(e.target.value)},children:[(0,Ze.jsx)("option",{value:24,children:"24 Months"}),(0,Ze.jsx)("option",{value:36,children:"36 Months"}),(0,Ze.jsx)("option",{value:48,children:"48 Months"}),(0,Ze.jsx)("option",{value:60,children:"60 Months"}),(0,Ze.jsx)("option",{value:72,children:"72 Months"})]}),(0,Ze.jsx)(SN.Z,{})]}),(0,Ze.jsxs)("div",{className:"loanCalculator_field",children:[(0,Ze.jsx)("label",{children:"Estimated APR"}),(0,Ze.jsx)("input",{type:"text",value:"".concat(s,"%"),disabled:!0})]})]})]}),S>=720?(0,Ze.jsxs)("div",{className:"loanCalculator_resultExpanded",children:[(0,Ze.jsx)("div",{className:"loanCalculator_resultExpanded-img",children:(0,Ze.jsx)("img",{src:"https://raw.githubusercontent.com/kevincastrochavez/carstro-cars-uploader/main/public/carPictures/".concat(null===r||void 0===r?void 0:r.vin,".png"),alt:""})}),(0,Ze.jsxs)("div",{className:"loanCalculator_resultExpanded-details",children:[(0,Ze.jsxs)("div",{className:"loanCalculator_resultExpanded-item",children:[(0,Ze.jsx)("span",{children:h}),(0,Ze.jsx)("p",{children:"Months"})]}),(0,Ze.jsx)("div",{className:"loanCalculator_resultExpanded-divider"}),(0,Ze.jsxs)("div",{className:"loanCalculator_resultExpanded-item",children:[(0,Ze.jsxs)("span",{children:[s," %"]}),(0,Ze.jsx)("p",{children:"Estimated APR"})]}),(0,Ze.jsx)("div",{className:"loanCalculator_resultExpanded-divider"}),(0,Ze.jsxs)("div",{className:"loanCalculator_resultExpanded-item",children:[(0,Ze.jsx)("span",{children:(0,Ze.jsx)(yE(),{value:v,displayType:"text",thousandSeparator:!0,prefix:"$"})}),(0,Ze.jsx)("p",{children:"Down Payment"})]}),(0,Ze.jsx)("div",{className:"loanCalculator_resultExpanded-divider"}),(0,Ze.jsx)("div",{className:"loanCalculator_resultExpanded-item",children:(0,Ze.jsxs)("span",{children:[(0,Ze.jsx)(xN.ZP,{end:b.toFixed(0),duration:2,preserveValue:!0,separator:",",prefix:"$"})," ",(0,Ze.jsx)("p",{children:"/month"})]})}),(0,Ze.jsx)("p",{className:"loanCalculator_resultExpanded-finance",children:"Finance for"})]})]}):(0,Ze.jsxs)("div",{className:"loanCalculator_result",children:[(0,Ze.jsxs)("h3",{children:[r.year," ",r.brand]}),(0,Ze.jsx)("div",{className:"loanCalculator_result-divider"}),(0,Ze.jsxs)("p",{className:"loanCalculator_result-price",children:[(0,Ze.jsxs)("span",{children:["$",(0,Ze.jsx)(xN.ZP,{end:b.toFixed(0),duration:2,preserveValue:!0,separator:","})]}),"/month"]}),(0,Ze.jsx)("span",{children:"Payments may vary based on actual vehicle, model & options selected."})]}),(0,Ze.jsx)("div",{className:"loanCalculator_link",children:(0,Ze.jsx)(Fe,{to:"/salesRepresentatives",children:"Contact Dealer"})}),S>=720&&(0,Ze.jsxs)("div",{className:"loanCalculator_terms",children:[(0,Ze.jsx)("h4",{children:"Finance Terms"}),(0,Ze.jsx)("p",{children:"Payments calculated using this tool are ESTIMATES ONLY and do not include applicable taxes, title, licensing and fees. ACTUAL PRICES AND PAYMENTS MAY BE DIFFERENT. Financing payment calculations are based on APR and term. Available on approved credit to very well qualified customers through Carstro Financial Services and participating Toyota dealers on a new vehicle. Not all customers will qualify."})]})]})};var kN=function(){return(0,Ze.jsx)("div",{className:"carDetailsSkeleton",children:(0,Ze.jsxs)(uT,{spacing:1,children:[(0,Ze.jsx)(kT,{variant:"rounded",width:"100%",height:120}),(0,Ze.jsx)(kT,{variant:"text",sx:{fontSize:"18px"},width:"100px"}),(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_info",children:[(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_info-top",children:[(0,Ze.jsx)(kT,{className:"carDetailsSkeleton_title",variant:"rounded",width:"50%",height:24}),(0,Ze.jsx)(kT,{variant:"rounded",width:"60%",height:16})]}),(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_info-price",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:"40%",height:48}),(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_info-price-offer",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:"100%",height:20}),(0,Ze.jsx)(kT,{variant:"rounded",width:"100%",height:20})]})]}),(0,Ze.jsx)(kT,{variant:"rounded",width:"100%",height:52})]}),(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_iconsContainer",children:[(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_icon",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:80}),(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:18})]}),(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_icon",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:80}),(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:18})]}),(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_icon",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:80}),(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:18})]}),(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_icon",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:80}),(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:18})]}),(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_icon",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:80}),(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:18})]}),(0,Ze.jsxs)("div",{className:"carDetailsSkeleton_icon",children:[(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:80}),(0,Ze.jsx)(kT,{variant:"rounded",width:80,height:18})]})]})]})})};var CN=function(){var t=Ke(),n=(0,i.Z)(t,2),r=n[0],o=r.minMaxPrice,s=r.minMaxMileage,u=r.carsResults,c=n[1],l=function(){var t=e.useContext(fe).matches,n=t[t.length-1];return n?n.params:{}}().id,h=(0,e.useState)({}),f=(0,i.Z)(h,2),d=f[0],p=f[1],v=(0,e.useState)(!1),m=(0,i.Z)(v,2),g=m[0],y=m[1];return(0,e.useEffect)((function(){y(!0),iw.collection("cars").doc(l).get().then((function(e){p(e.data()),y(!1)})).catch((function(e){console.log("Error fetching the DB",e)}))}),[]),(0,e.useEffect)((function(){0===u.length&&iw.collection("cars").get().then((function(e){var t=e.docs.map((function(e){return et(et({},e.data()),{},{carId:e.id})})),n=t.map((function(e){return Number(e.price)})),r=Math.min.apply(Math,(0,a.Z)(n)),i=Math.max.apply(Math,(0,a.Z)(n)),o=t.map((function(e){return Number(e.odometer)})),s=Math.min.apply(Math,(0,a.Z)(o)),u=Math.max.apply(Math,(0,a.Z)(o));c({type:"SET_CARS_RESULTS",carsResults:t}),c({type:"SET_MIN_MAX_PRICE_FILTER",minMaxPrice:[r,i]}),c({type:"SET_MIN_MAX_MILEAGE_FILTER",minMaxMileage:[s,u]})})).catch((function(e){console.log("Error fetching the DB",e)}))}),[]),(0,e.useEffect)((function(){window.scrollTo(0,0)}),[]),g?(0,Ze.jsx)(kN,{}):(0,Ze.jsxs)("main",{className:"carDetails",children:[(0,Ze.jsx)("div",{className:"carDetails_imgContainer",children:(0,Ze.jsx)("img",{src:"https://raw.githubusercontent.com/kevincastrochavez/carstro-cars-uploader/main/public/carPictures/".concat(null===d||void 0===d?void 0:d.vin,".png"),alt:""})}),(0,Ze.jsxs)("div",{className:"carDetails_info",children:[(0,Ze.jsxs)(Fe,{to:"/inventory?minPrice=".concat(o[0],"&maxPrice=").concat(o[1],"&minMileage=").concat(s[0],"&maxMileage=").concat(s[1]),className:"carDetails_linkBack",children:[(0,Ze.jsx)(nN.Z,{})," Back to Inventory"]}),(0,Ze.jsxs)("div",{className:"carDetails_features",children:[(0,Ze.jsxs)("div",{className:"carDetails_features-heading",children:[(0,Ze.jsxs)("h1",{children:[d.year," ",d.brand," ",d.model]}),(0,Ze.jsxs)("div",{className:"carDetails_features-numbers",children:[(0,Ze.jsxs)("span",{children:[(0,Ze.jsx)(yE(),{value:d.odometer,displayType:"text",thousandSeparator:!0})," ","mi"]}),(0,Ze.jsx)("div",{className:"carDetails_features-divider"}),(0,Ze.jsxs)("span",{children:["VIN ",d.vin]})]})]}),(0,Ze.jsxs)("div",{className:"carDetails_features-price",children:[(0,Ze.jsx)("span",{className:"carDetails_features-bigPrice",children:(0,Ze.jsx)(yE(),{value:d.price,displayType:"text",thousandSeparator:!0,prefix:"$"})}),(0,Ze.jsx)("div",{className:"carDetails_features-bigDivider"}),(0,Ze.jsxs)("div",{className:"carDetails_features-offer",children:[(0,Ze.jsx)("p",{children:"Special Offer"}),(0,Ze.jsxs)("span",{children:["4.99% ",(0,Ze.jsx)("span",{children:"APR"})]})]})]}),(0,Ze.jsx)(Fe,{className:"carDetails_features-btn",to:"/salesRepresentatives",children:"Contact Dealer"})]}),(0,Ze.jsxs)("div",{className:"carDetails_iconsContainer",children:[(0,Ze.jsxs)("div",{className:"carDetails_icon",children:[(0,Ze.jsx)(rN,{}),(0,Ze.jsx)("p",{children:d.mpg}),(0,Ze.jsx)("p",{children:"est. MPG"})]}),(0,Ze.jsxs)("div",{className:"carDetails_icon",children:[(0,Ze.jsx)(uN,{}),(0,Ze.jsx)("p",{children:d.topSpeed}),(0,Ze.jsx)("p",{children:"Top Speed"})]}),(0,Ze.jsxs)("div",{className:"carDetails_icon",children:[(0,Ze.jsx)(iN,{}),(0,Ze.jsx)("p",{children:d.cylinders}),(0,Ze.jsx)("p",{children:"Cylinders"})]}),(0,Ze.jsxs)("div",{className:"carDetails_icon",children:[(0,Ze.jsx)(oN,{}),(0,Ze.jsx)("p",{children:d.transmission})]}),(0,Ze.jsxs)("div",{className:"carDetails_icon",children:[(0,Ze.jsx)(aN,{}),(0,Ze.jsx)("p",{children:"Heated Seats"})]}),(0,Ze.jsxs)("div",{className:"carDetails_icon",children:[(0,Ze.jsx)(sN,{}),(0,Ze.jsx)("p",{children:"ABS Breaks"})]})]})]}),(0,Ze.jsx)(EN,{className:"carDetails_calculator",carInfo:d})]})},TN=n(4839),IN=n(4668),NN=n(1880);var PN=function(){var t=Ke(),n=(0,i.Z)(t,1)[0],r=n.minMaxPrice,o=n.minMaxMileage,a=(0,e.useState)(0),s=(0,i.Z)(a,2),u=s[0],c=s[1],l=me();return(0,e.useEffect)((function(){var e=(new Date).getFullYear();c(e)})),(0,Ze.jsxs)("div",{className:"footerContainer",children:[(0,Ze.jsx)("div",{className:"footerLogoBox",children:(0,Ze.jsx)("img",{className:"footer-logo",src:"footerImages/logoW.png",alt:"Carstro car",onClick:function(){l("/")}})}),(0,Ze.jsxs)("div",{className:"footerInfoBox",children:[(0,Ze.jsxs)("div",{className:"footerInfoBoxSingle",children:[(0,Ze.jsx)("div",{className:"footerInfoBoxSingle-title",children:"Site Map"}),(0,Ze.jsxs)("div",{className:"footerInfoBoxSingle-links",children:[(0,Ze.jsx)(Fe,{to:"/",className:"footerInfoBoxSingle-link",children:"Homepage"}),(0,Ze.jsx)(Fe,{to:"/inventory?minPrice=".concat(r[0],"&maxPrice=").concat(r[1],"&minMileage=").concat(o[0],"&maxMileage=").concat(o[1]),className:"footerInfoBoxSingle-link",onClick:function(){l("/inventory?minPrice=23499&maxPrice=420000&minMileage=1300&maxMileage=240483")},children:"Inventory"}),(0,Ze.jsx)(Fe,{to:"/salesRepresentatives",className:"footerInfoBoxSingle-link",children:"Sales Representatives"}),(0,Ze.jsx)(Fe,{to:"/aboutUs",className:"footerInfoBoxSingle-link",children:"About Us"}),(0,Ze.jsx)(Fe,{to:"/marketing",className:"footerInfoBoxSingle-link",children:"Marketing"})]})]}),(0,Ze.jsxs)("div",{className:"footerInfoBoxSingle",children:[(0,Ze.jsx)("div",{className:"footerInfoBoxSingle-title",children:"Office Locations"}),(0,Ze.jsxs)("div",{className:"footerInfoBoxSingle-links",children:[(0,Ze.jsx)("p",{className:"footerInfoBoxSingle-link",onClick:function(){l("/salesRepresentatives")},children:"80 Scott Ln, Jackson, WY 83002"}),(0,Ze.jsx)("p",{className:"footerInfoBoxSingle-link",onClick:function(){l("/salesRepresentatives")},children:"5711 W Century Blvd, Los Angeles, CA 90045"}),(0,Ze.jsx)("p",{className:"footerInfoBoxSingle-link",onClick:function(){l("/salesRepresentatives")},children:"1100 Congress Ave., Austin, TX 78701"}),(0,Ze.jsx)("p",{className:"footerInfoBoxSingle-link",onClick:function(){l("/salesRepresentatives")},children:"50 N Temple, Salt Lake City, UT 84150"})]})]}),(0,Ze.jsx)("div",{className:"footerInfoBoxSingle",children:(0,Ze.jsxs)("div",{className:"footerInfoBoxSingle-links footerInfoLast",children:[(0,Ze.jsxs)("div",{className:"footerRights",children:["\xae ",u," Carstro. All Rights Reserved"]}),(0,Ze.jsx)("a",{href:"https://bpa.org",target:"_blank",rel:"noreferrer",className:"footer_bpa",children:(0,Ze.jsx)("img",{src:"/footerImages/bpa.png",alt:"BPA svg"})}),(0,Ze.jsxs)("div",{className:"footerSocialMediaIcons",children:[(0,Ze.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100089596266124",target:"_blank",rel:"noreferrer",className:"footerSocialMediaIcon",children:(0,Ze.jsx)(TN.Z,{})}),(0,Ze.jsx)("a",{href:"https://twitter.com/carstrov",target:"_blank",rel:"noreferrer",className:"footerSocialMediaIcon",children:(0,Ze.jsx)(IN.Z,{})}),(0,Ze.jsx)("a",{href:"https://www.instagram.com/carstrov.bpa/",target:"_blank",rel:"noreferrer",className:"footerSocialMediaIcon",children:(0,Ze.jsx)(NN.Z,{})})]})]})})]})]})},AN=n(5),RN=n.n(AN),ON=function(e){var t=Ke(),n=(0,i.Z)(t,2),r=n[0],o=r.minMaxPrice,a=r.minMaxMileage,s=n[1],u=[{text:(0,Ze.jsx)(Fe,{to:"/inventory?minPrice=".concat(o[0],"&maxPrice=").concat(o[1],"&minMileage=").concat(a[0],"&maxMileage=").concat(a[1]),children:"Shop a Vehicle"}),handler:function(){return s({type:"SHOW_CHAT",showChat:!1})},id:1},{text:(0,Ze.jsx)(Fe,{to:"/salesRepresentatives",children:"Find a dealer"}),handler:function(){return s({type:"SHOW_CHAT",showChat:!1})},id:2},{text:(0,Ze.jsx)("span",{children:"Chat with representative"}),handler:e.actionProvider.handleChatRepresentative,id:3}].map((function(e){return(0,Ze.jsx)("button",{onClick:e.handler,className:"options_button",children:e.text},e.id)}));return(0,Ze.jsx)("div",{className:"options_container",children:u})};var MN=function(e){var t=Ke(),n=(0,i.Z)(t,2);!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(n[0]);var r=n[1],o=[{text:(0,Ze.jsx)(Fe,{to:"/salesRepresentatives",children:"See Sales Representatives Information"}),handler:function(){return r({type:"SHOW_CHAT",showChat:!1})},id:1},{text:(0,Ze.jsx)("span",{children:"Chat with agent"}),handler:e.actionProvider.handleChatWithAgent,id:2}].map((function(e){return(0,Ze.jsx)("button",{onClick:e.handler,className:"options_button",children:e.text},e.id)}));return(0,Ze.jsx)("div",{className:"options_container",children:o})},DN={botName:"Digital Assistant",initialMessages:[(0,AN.createChatBotMessage)("I'm Carstro's chatbot! How can I help you?",{widget:"introductoryOptions"})],widgets:[{widgetName:"introductoryOptions",widgetFunc:function(e){return(0,Ze.jsx)(ON,et({},e))}},{widgetName:"representativeOptions",widgetFunc:function(e){return(0,Ze.jsx)(MN,et({},e))}}]},LN=l((function e(t,n){var r=this;s(this,e),this.addMessageToState=function(e){r.setStateFunc((function(t){return et(et({},t),{},{messages:[].concat((0,a.Z)(t.messages),[e])})}))},this.introInventory=function(){window.location.href="http://localhost:3000/inventory?minPrice=23499&maxPrice=420000&minMileage=1300&maxMileage=240483"},this.handleChatRepresentative=function(){var e=r.createChatbotMessage("We have the best sales representatives just for you!",{widget:"representativeOptions"});r.addMessageToState(e)},this.handleChatWithAgent=function(){var e=r.createChatbotMessage("Did not find what you were looking for? Let us know how we can help you");r.addMessageToState(e)},this.handleLastText=function(){var e=r.createChatbotMessage("We will work on your request as soon as possible. Thank you for choosing Carstro. If you can help in anything else, please select one of the options:",{widget:"introductoryOptions"});r.addMessageToState(e)},this.createChatbotMessage=t,this.setStateFunc=n})),jN=function(){function e(t){s(this,e),this.actionProvider=t}return l(e,[{key:"parse",value:function(e){console.log(e);var t=e.toLowerCase();t.includes("shop")||t.includes("shop vehicle")||t.includes("shop a vehicle")?this.actionProvider.introInventory():t.includes("dealer")||t.includes("find dealer")||t.includes("find a dealer")?window.location.href="/salesRepresentatives":t.includes("representative")||t.includes("chat representative")||t.includes("chat with representative")?this.actionProvider.handleChatRepresentative():t.includes("sales")||t.includes("sales information")||t.includes("representative information")||t.includes("representatives information")||t.includes("sales representative information")||t.includes("sales representatives information")||t.includes("see sales representative information")||t.includes("see sales representatives information")?window.location.href="/salesRepresentatives":t.includes("chat")||t.includes("agent")||t.includes("chat agent")||t.includes("chat with agent")?this.actionProvider.handleChatWithAgent():this.actionProvider.handleLastText()}}]),e}();var FN=function(){var e=Ke(),t=(0,i.Z)(e,2),n=t[0].showChat,r=t[1];return(0,Ze.jsx)("div",{className:"app",children:(0,Ze.jsxs)(je,{children:[(0,Ze.jsx)(Ye,{}),(0,Ze.jsx)("div",{className:"app_fab",onClick:function(){r({type:"SHOW_CHAT",showChat:!n})},children:(0,Ze.jsx)(qe.Z,{})}),n&&(0,Ze.jsx)(RN(),{config:DN,actionProvider:LN,messageParser:jN}),(0,Ze.jsxs)(Ie,{children:[(0,Ze.jsx)(Ce,{exact:!0,path:"/",element:(0,Ze.jsx)(sw,{})}),(0,Ze.jsx)(Ce,{path:"/inventory",element:(0,Ze.jsx)(PT,{})}),(0,Ze.jsx)(Ce,{path:"/inventory/:id",element:(0,Ze.jsx)(CN,{})}),(0,Ze.jsx)(Ce,{path:"/marketing",element:(0,Ze.jsx)(AT,{})}),(0,Ze.jsx)(Ce,{path:"/salesRepresentatives",element:(0,Ze.jsx)(eN,{})}),(0,Ze.jsx)(Ce,{path:"/aboutUs",element:(0,Ze.jsx)(tN,{})})]}),(0,Ze.jsx)(PN,{})]})})},UN=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},VN=function(e,t){switch(t.type){case"TOGGLE_FILTERS":return et(et({},e),{},{showFilters:t.showFilters});case"SHOW_CHAT":return et(et({},e),{},{showChat:t.showChat});case"SET_CARS_RESULTS":return et(et({},e),{},{carsResults:t.carsResults});case"SET_BRAND_FILTER":return et(et({},e),{},{brandsFilters:[].concat((0,a.Z)(e.brandsFilters),[t.brandsFilters])});case"REMOVE_BRAND_FILTER":return et(et({},e),{},{brandsFilters:e.brandsFilters.filter((function(e){return e!==t.brandsFilters}))});case"SET_MODEL_YEAR_FILTER":return et(et({},e),{},{modelYearsFilters:[].concat((0,a.Z)(e.modelYearsFilters),[t.modelYearsFilters])});case"REMOVE_MODEL_YEAR_FILTER":return et(et({},e),{},{modelYearsFilters:e.modelYearsFilters.filter((function(e){return e!==t.modelYearsFilters}))});case"SET_TIRE_SIZE_FILTER":return et(et({},e),{},{tireSize:[].concat((0,a.Z)(e.tireSize),[t.tireSize])});case"REMOVE_TIRE_SIZE_FILTER":return et(et({},e),{},{tireSize:e.tireSize.filter((function(e){return e!==t.tireSize}))});case"SET_COLOR_FILTER":return et(et({},e),{},{colors:[].concat((0,a.Z)(e.colors),[t.colors])});case"REMOVE_COLOR_FILTER":return et(et({},e),{},{colors:e.colors.filter((function(e){return e!==t.colors}))});case"SET_MIN_MAX_PRICE_FILTER":return et(et({},e),{},{minMaxPrice:t.minMaxPrice});case"SET_MIN_MAX_MILEAGE_FILTER":return et(et({},e),{},{minMaxMileage:t.minMaxMileage});case"SET_SINGLE_BRAND":return et(et({},e),{},{singleBrand:t.singleBrand});case"REMOVE_SINGLE_BRAND":return et(et({},e),{},{singleBrand:void 0});case"CLEAR_FILTERS":return et(et({},e),{},{brandsFilters:[],modelYearsFilters:[],tireSize:[],colors:[]});default:return e}};r.createRoot(document.getElementById("root")).render((0,Ze.jsx)(We,{initialState:{showFilters:!1,carsResults:[],brandsFilters:[],modelYearsFilters:[],tireSize:[],colors:[],minMaxPrice:[0,0],minMaxMileage:[0,0],showChat:!1,singleBrand:""},reducer:VN,children:(0,Ze.jsx)(FN,{})})),UN()}()}();
//# sourceMappingURL=main.c767e6a6.js.map